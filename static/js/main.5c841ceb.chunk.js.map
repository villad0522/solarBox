{"version":3,"sources":["actions.js","components/IM920/Dialogs/DeleteRecieveIds.jsx","components/IM920/Dialogs/AddRecieveId.jsx","components/IM920/Dialogs/ChangeNodeNumber.jsx","components/IM920/Dialogs/ChangeChannel.jsx","components/IM920/Dialogs/ChangePower.jsx","components/IM920/Dialogs/ChangeRate.jsx","components/IM920/Dialogs/ChangeSleepTime.jsx","components/IM920/Dialogs/ChangeWorkTime.jsx","components/IM920/Setting.jsx","components/IM920/SettingDrawer.jsx","components/IM920/ConnectButton.jsx","components/Serial/Console.jsx","components/IM920/Connect.jsx","components/TreeDiagram.jsx","img/pc.png","img/solar.png","img/wifi.png","img/ethernet.png","img/sigfox.png","components/Diagram.jsx","img/antenna.png","components/Table.jsx","App.jsx","reportWebVitals.js","sagas/b64.js","sagas/convertGif.js","sagas/sigfox.js","sagas/serial.js","sagas/serialCommand.js","sagas/im920.js","sagas/rootSaga.js","protocols/lifi.js","protocols/timer.js","reducer.js","index.js"],"names":["createActions","SERIAL","DISCONNECT","SET_PORT_DATA","port","CLEAR_PORT_DATA","SERIAL_COMMAND","RECIEVE","newText","SET_RECIEVE_DATA","text","OPEN_DIALOG","CLOSE_DIALOG","IM920","WIRED","CONNECT","TIMEOUT","EXECUTE_COMMANDS","key","commands","SET_ALL_PARAMETERS","SET_PARAMETER","SET_BLOCK_CASE","dropAreaId","dataTransfer","SET_DRAG_FLAG","flag","SET_HOVER_DROP_AREA","blockKey","SET_BIT_ARRAY","CLEAR_BIT_ARRAY","TEST_FLASH","testMode","CONVERT_GIF","canvasElement","imgElements","SET_CONVERT_GIF_RESULT","encoder","gifFileName","SET_TIME_SHEDULE","hour","min","value","TOGGLE_FULL_HOUR","TOGGLE_FULL_MIN","DeleteRecieveIds","dispatch","useDispatch","useState","open","setOpen","handleClose","Button","variant","size","color","onClick","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","actions","im920","wired","executeCommands","autoFocus","AddRecieveId","errorFlag","setErrorFlag","emptyFlag","setEmptyFlag","errorMessage","setErrorMessage","id","setId","setText","TextField","onChange","event","target","replace","s","String","fromCharCode","charCodeAt","head","slice","length","number","parseInt","i","n","charAt","Number","isNaN","toString","toUpperCase","substr","error","helperText","label","disabled","ChangeNodeNumber","nodeNumber","setNodeNumber","ChangeChannel","initValue","useSelector","state","channelNumber","setChannelNumber","RadioGroup","FormControlLabel","control","Radio","ChangePower","sendPower","setSendPower","ChangeRate","wirelessRate","setWirelessRate","ChangeSleepTime","sleepTime","setSleepTime","fractionFlag","InputProps","endAdornment","InputAdornment","position","ChangeWorkTime","workTime","setWorkTime","parseFloat","numberString","numbers","split","getDecimalPointLength","Math","round","useStyles","makeStyles","theme","tableContainer","maxWidth","maxHeight","overflowY","table","margin","tableCell","minWidth","wordBreak","textAlign","th","SerialWiredInfomation","classes","deviceId","recieveIds","RSSI","version","className","Table","TableBody","TableRow","TableCell","component","align","colSpan","rowSpan","recieveIdsConverter","channelConverter","sendPowerConverter","wirelessRateConverter","sleepTimeConverter","workTimeConverter","array","Array","isArray","map","recieveId","index","style","display","string","toFixed","root","flexGrow","closeButton","marginRight","spacing","title","SettingDrawer","setState","toggleDrawer","anchor","type","IconButton","Drawer","AppBar","Toolbar","edge","Typography","Setting","connectButton","backgroundColor","ConnectButton","serialConnectFlag","serial","connectFlag","im920ConnectFlag","disconnect","connect","background","height","padding","left","right","SerialConsole","serialCommand","progress","commandProgress","errorMessages","ConsoleLists","sendData","push","recieveDatas","j","Connect","isDialogOpen","closeDialog","Tree","children","src","name","settingButton","cableName","connectFlags","child","props","connectTop","connectBottom","flexParent","node","flexWrapperCable","nodeCable","borderBottom","nameBox","flexWrapperChildren","topConnectFlag","bottomConnectFlag","bottomFlag","Node","nodeImgWrapper","nodeImg","alt","Child","childFlexParent","childCableVertical","borderLeft","childCableHorizontal","connectButtonWrapper","stickyWrapper2","cableWhite","stickyWrapper","cableAbsolute","width","top","PADDINNG_TOP","borderRadius","paddingTop","BOX_SIZE","marginBottom","bottom","boxSizing","zIndex","Diagram","wiredConnectFlag","Box","p","Container","pcImg","ethernetImg","wifiImg","sigfoxImg","solarImg","createData","calories","fat","carbs","protein","rows","BasicTable","TableContainer","Paper","TableHead","row","scope","App","setValue","Tabs","newValue","Tab","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","encode64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","l","convertGifFunc","convertGif","payload","fork","delay","current","getContext","ctx","GIFEncoder","setRepeat","setDelay","start","naturalWidth","naturalHeight","drawImage","addFrame","finish","stream","getData","put","setConvertGifResult","reciveLoop","console","log","axios","get","params","res","serialWrite","serialWaitBegin","serialBegin","waitDisconnect","select","writable","getWriter","writer","TextEncoder","encode","write","releaseLock","take","setPortData","baudRate","navigator","requestPort","filters","usbVendorId","usbProductId","readable","close","getReader","reader","read","done","TextDecoder","decode","recieve","clearPortData","cancel","firstFn","nextFn","timeout","ms","race","data","continueFlag","setRecieveData","openDialog","timeoutAction","nextProgress","completeAction","nextCommand","im920DisconnectFn","im920ConnectFn","rootSaga","sigfoxLoop","takeEvery","MASK","ST1","ST2","ESC","testLifi","result","concat","xor","halfByteArray2","maskFlash","halfByteArray3","startBitAndEscape","halfByteArray1","splitHalfByte","originalData","checkSumData","addCheckSum","halfByteArray4","halfByteArray5","halfByteArray6","packetLength","getRandomInt","max","floor","random","exchangeLifi","packetNum","ceil","unshift","packets","splitPacket","bitArray","packet","original","byte","packetIndex","bitRead","checkSum","shift","rotationBits","exchangeByte","exchangeTimer","timeShedule","data0","byteData","date","Date","firstByte","getHours","getMinutes","lastValue","exchangeData0","data1","exchangeData1","defaultState","sigfox","dragFlag","hoverDropArea","browserId","uuidv4","blockCase","handleActions","oldState","lines","pop","setAllParameters","command","setParameter","parameters","JSON","parse","stringify","clearBitArray","setBitArray","testFlash","setBlockCase","dragItemString","dragItem","pastDropAreaId","item","setDragFlag","setHoverDropArea","setTimeShedule","newTimeShedule","toggleFullMin","onCount","offCount","toggleFullHour","val","sagaMiddleware","createSagaMiddleware","logger","createLogger","diff","collapsed","store","createStore","reducer","compose","applyMiddleware","run","createMuiTheme","palette","primary","light","main","dark","contrastText","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.5c841ceb.chunk.js","sourcesContent":["import { createActions } from 'redux-actions'\r\n\r\n// このファイルには、命令の一覧が書かれている。\r\n// このファイルに書かれていない命令は、プログラムの中で発行することができない。\r\n\r\nexport default createActions({\r\n    //\r\n    //シリアル通信\r\n    SERIAL: {\r\n        DISCONNECT: () => ({ }),\r\n        SET_PORT_DATA: (port) => ({ port }),\r\n        CLEAR_PORT_DATA: () => ({ }),\r\n    },\r\n    SERIAL_COMMAND: {\r\n        RECIEVE: (newText) => ({ newText }),\r\n        SET_RECIEVE_DATA: (text) => ({ text }),\r\n        OPEN_DIALOG: () => ({ }),\r\n        CLOSE_DIALOG: () => ({ }),\r\n    },\r\n    //\r\n    //無線通信\r\n    IM920: {\r\n        WIRED: {\r\n            CONNECT: () => ({ }),\r\n            TIMEOUT: () => ({ }),\r\n            DISCONNECT: () => ({ }),\r\n            EXECUTE_COMMANDS: (key, commands) => ({ key, commands }),\r\n            SET_ALL_PARAMETERS: () => ({ }),\r\n            SET_PARAMETER: (key) => ({ key }),\r\n        },\r\n    },\r\n    //\r\n    SET_BLOCK_CASE: (dropAreaId, dataTransfer) => ({ dropAreaId, dataTransfer }),\r\n    SET_DRAG_FLAG: (flag) => ({ flag }),\r\n    SET_HOVER_DROP_AREA: (blockKey) => ({ blockKey }),\r\n    SET_BIT_ARRAY: () => ({ }),\r\n    CLEAR_BIT_ARRAY: () => ({ }),\r\n    TEST_FLASH: (testMode) => ({ testMode }),\r\n    CONVERT_GIF: (canvasElement, imgElements) => ({ canvasElement, imgElements }),\r\n    SET_CONVERT_GIF_RESULT: (encoder, gifFileName) => ({ encoder, gifFileName }),\r\n    SET_TIME_SHEDULE: (hour, min, value) => ({ hour, min, value }),\r\n    TOGGLE_FULL_HOUR: (hour) => ({ hour }),\r\n    TOGGLE_FULL_MIN: (min) => ({ min }),\r\n})","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst DeleteRecieveIds = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"recieveIds\",\r\n      [\"ENWR\\r\", \"ERID\\r\", \"DSWR\\r\", \"RRID\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        全消去\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>本当に削除しますか？</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            無線モジュールに登録された全ての受信IDが削除されます。\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button onClick={handleAgree} variant=\"contained\" color=\"primary\" autoFocus>\r\n            全て削除\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default DeleteRecieveIds;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\nconst AddRecieveId = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [id, setId] = useState(\"0000\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"recieveIds\",\r\n      [\"ENWR\\r\", \"SRID \" + id + \"\\r\", \"DSWR\\r\", \"RRID\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    let newText = hankaku2Zenkaku(event.target.value);\r\n    let head = newText.slice(0, 2);\r\n    if (head === \"0x\" || head === \"0X\") {\r\n      newText = newText.slice(2); //先頭から２文字を削除\r\n    }\r\n    else {\r\n      head = \"\";\r\n    }\r\n    if (newText.length > 4) {\r\n      setErrorMessage(\"最大４桁です\");\r\n      return;\r\n    }\r\n    setText(event.target.value);\r\n    const number = parseInt(newText, 16);\r\n    let errorFlag = false;\r\n    for (let i = 0; i < newText.length; i++) {\r\n      const n = parseInt(newText.charAt(i), 16);\r\n      if (Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (newText.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"16進数4桁で記入してください\");\r\n    }\r\n    else {\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n      const id = ('0000' + number.toString(16).toUpperCase()).substr(-4);\r\n      setId(id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        追加\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>受信ID 追加登録</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            label=\"追加する ID\"\r\n            variant=\"outlined\"\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            登録\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default AddRecieveId;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\nconst ChangeNodeNumber = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [nodeNumber, setNodeNumber] = useState(\"00\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"nodeNumber\",\r\n      [\"STNN \" + nodeNumber + \"\\r\", \"RDNN\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    let text = hankaku2Zenkaku(event.target.value);\r\n    let head = text.slice(0, 2);\r\n    if (head === \"0x\" || head === \"0X\") {\r\n      text = text.slice(2); //先頭から２文字を削除\r\n    }\r\n    else {\r\n      head = \"\";\r\n    }\r\n    if (text.length > 2) {\r\n      setErrorMessage(\"最大２桁です\");\r\n      return;\r\n    }\r\n    setText(event.target.value);\r\n    const number = parseInt(text, 16);\r\n    let errorFlag = false;\r\n    for (let i = 0; i < text.length; i++) {\r\n      const n = parseInt(text.charAt(i), 16);\r\n      if (Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (text.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"16進数2桁で記入してください\");\r\n    }\r\n    else {\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n      const nodeNumber = ('00' + number.toString(16).toUpperCase()).substr(-2);\r\n      setNodeNumber(nodeNumber);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>ノード番号変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            ノード番号は送信モジュール ID とは別に任意に設定できる 8bit の番号です。<br />\r\n            ユニークな値でなくてもかまいません。\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            label=\"ノード番号\"\r\n            variant=\"outlined\"\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeNodeNumber;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst ChangeChannel = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const initValue = useSelector(state => state.im920.wired.channelNumber);\r\n  const [channelNumber, setChannelNumber] = useState(initValue);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"channelNumber\",\r\n      [\"STCH \" + channelNumber + \"\\r\", \"RDCH\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>無線チャンネル変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            対向する無線モジュールと同じ通信チャンネルを設定してください。<br />\r\n            チャンネル番号 06 は内部信号の影響があり、安定して通信できないため使用をお薦めしません。\r\n          </DialogContentText>\r\n          <RadioGroup\r\n            value={channelNumber}\r\n            onChange={(event) => setChannelNumber(event.target.value)}\r\n          >\r\n            <FormControlLabel control={<Radio />} value=\"01\" label=\"01 (920.6MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"02\" label=\"02 (920.8MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"03\" label=\"03 (921.0MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"04\" label=\"04 (921.2MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"05\" label=\"05 (921.4MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"06\" label=\"06 (921.6MHz) 非推奨\" />\r\n            <FormControlLabel control={<Radio />} value=\"07\" label=\"07 (921.8MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"08\" label=\"08 (922.0MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"09\" label=\"09 (922.2MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"10\" label=\"10 (922.4MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"11\" label=\"11 (922.6MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"12\" label=\"12 (922.8MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"13\" label=\"13 (923.0MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"14\" label=\"14 (923.2MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"15\" label=\"15 (923.4MHz)\" />\r\n          </RadioGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeChannel;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst ChangePower = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const initValue = useSelector(state => state.im920.wired.sendPower);\r\n  const [sendPower, setSendPower] = useState(initValue);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"sendPower\",\r\n      [\"STPO \" + sendPower + \"\\r\", \"RDPO\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>送信出力変更</DialogTitle>\r\n        <DialogContent>\r\n          <RadioGroup\r\n            value={sendPower}\r\n            onChange={(event) => setSendPower(event.target.value)}\r\n          >\r\n            <FormControlLabel control={<Radio />} value=\"1\" label=\"-10dBm (0.1mW)\" />\r\n            <FormControlLabel control={<Radio />} value=\"2\" label=\"0dBm (1mW)\" />\r\n            <FormControlLabel control={<Radio />} value=\"3\" label=\"10dBm (10mW)\" />\r\n          </RadioGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangePower;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst ChangeRate = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const initValue = useSelector(state => state.im920.wired.wirelessRate);\r\n  const [wirelessRate, setWirelessRate] = useState(initValue);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"wirelessRate\",\r\n      [\"STRT \" + wirelessRate + \"\\r\", \"RDRT\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>無線通信速度変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            対向する無線モジュールと同じ速度を設定してください。\r\n          </DialogContentText>\r\n          <RadioGroup\r\n            value={wirelessRate}\r\n            onChange={(event) => setWirelessRate(event.target.value)}\r\n          >\r\n            <FormControlLabel control={<Radio />} value=\"1\" label=\"高速通信モード（無線通信速度 50kbps）\" />\r\n            <FormControlLabel control={<Radio />} value=\"2\" label=\"長距離モード（無線通信速度 1.25kbps）\" />\r\n          </RadioGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeRate;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\nconst ChangeSleepTime = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [sleepTime, setSleepTime] = useState(\"0000\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"sleepTime\",\r\n      [\"SSTM \" + sleepTime + \"\\r\", \"RSTM\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setText(event.target.value);\r\n    const text = hankaku2Zenkaku(event.target.value);\r\n    const number = parseInt(text);\r\n    let errorFlag = false;\r\n    let fractionFlag = false;\r\n    for (let i = 0; i < text.length; i++) {\r\n      if (text.charAt(i) === \".\") {\r\n        fractionFlag = true;\r\n      }\r\n      const n = parseInt(text.charAt(i));\r\n      if (Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (text.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (number > 65535) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"最大65535秒です\");\r\n    }\r\n    else if (fractionFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"小数は設定できません\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"0～65535の整数を10進数で入力してください\");\r\n    }\r\n    else {\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n      const sleepTime = ('0000' + number.toString(16).toUpperCase()).substr(-4);\r\n      setSleepTime(sleepTime);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>スリープ時間変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            0 秒に設定すると連続スリープとなります。\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"end\">秒</InputAdornment>,\r\n            }}\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeSleepTime;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\n//小数点以下の桁数を取得する関数\r\nconst getDecimalPointLength = (numberString) => {\r\n  const numbers = numberString.split('.');\r\n  return (numbers[1]) ? numbers[1].length : 0;\r\n};\r\n\r\nconst ChangeWorkTime = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [workTime, setWorkTime] = useState(\"0000\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"workTime\",\r\n      [\"SWTM \" + workTime + \"\\r\", \"RWTM\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setText(event.target.value);\r\n    const text = hankaku2Zenkaku(event.target.value);\r\n    const number = parseFloat(text);\r\n    let errorFlag = false;\r\n    for (let i = 0; i < text.length; i++) {\r\n      const n = parseInt(text.charAt(i));\r\n      if (text.charAt(i) !== \".\" && Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (text.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (number > 656) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"最大656秒です\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"0～656の小数を10進数で入力してください\");\r\n    }\r\n    else {\r\n      if (getDecimalPointLength(text) > 2) {\r\n        setErrorMessage(\"小数点以下２桁までしか反映されません\");\r\n      }\r\n      else {\r\n        setErrorMessage(\"\");\r\n      }\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      const number2 = Math.round(number / 0.01001);\r\n      const workTime = ('0000' + number2.toString(16).toUpperCase()).substr(-4);\r\n      setWorkTime(workTime);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>間欠動作時間変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            10.01 ミリ秒単位で反映されます\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"end\">秒</InputAdornment>,\r\n            }}\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeWorkTime;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport actions from '../../actions';\r\nimport DeleteRecieveIds from './Dialogs/DeleteRecieveIds';\r\nimport AddRecieveId from './Dialogs/AddRecieveId';\r\nimport ChangeNodeNumber from './Dialogs/ChangeNodeNumber';\r\nimport ChangeChannel from './Dialogs/ChangeChannel';\r\nimport ChangePower from './Dialogs/ChangePower';\r\nimport ChangeRate from './Dialogs/ChangeRate';\r\nimport ChangeSleepTime from './Dialogs/ChangeSleepTime';\r\nimport ChangeWorkTime from './Dialogs/ChangeWorkTime';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  tableContainer: {\r\n    maxWidth: '500px',\r\n    maxHeight: '100%',\r\n    overflowY: 'scroll',\r\n  },\r\n  table: {\r\n    maxWidth: '600px',\r\n    margin: '0 auto 50px auto',\r\n  },\r\n  tableCell: {\r\n    minWidth: '0',\r\n    maxWidth: '300px',\r\n    wordBreak: 'break-all',\r\n    textAlign: 'left',\r\n  },\r\n  th: {\r\n    textAlign: 'right',\r\n  },\r\n}));\r\n\r\nconst SerialWiredInfomation = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const deviceId = useSelector(state => state.im920.wired.deviceId);\r\n  const nodeNumber = useSelector(state => state.im920.wired.nodeNumber);\r\n  const recieveIds = useSelector(state => state.im920.wired.recieveIds);\r\n  const channelNumber = useSelector(state => state.im920.wired.channelNumber);\r\n  const RSSI = useSelector(state => state.im920.wired.RSSI);\r\n  const sendPower = useSelector(state => state.im920.wired.sendPower);\r\n  const wirelessRate = useSelector(state => state.im920.wired.wirelessRate);\r\n  const version = useSelector(state => state.im920.wired.version);\r\n  const sleepTime = useSelector(state => state.im920.wired.sleepTime);\r\n  const workTime = useSelector(state => state.im920.wired.workTime);\r\n  return (\r\n    <div className={classes.tableContainer}>\r\n      <Table className={classes.table}>\r\n        <TableBody>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">ID：</TableCell>\r\n            <TableCell colSpan={2}><div className={classes.tableCell}>{deviceId}</div></TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell rowSpan={2} component=\"th\" align=\"right\">受信対象のID：</TableCell>\r\n            <TableCell rowSpan={2}><div className={classes.tableCell}>{recieveIdsConverter(recieveIds)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <AddRecieveId />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell align=\"right\">\r\n              <DeleteRecieveIds />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">ノード番号：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{nodeNumber}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeNodeNumber />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">無線チャンネル：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{channelConverter(channelNumber)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeChannel />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">RSSI値(電波強度)：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{parseInt(RSSI, 16)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                onClick={() => dispatch(actions.im920.wired.executeCommands(\"RSSI\", [\"RDRS\\r\"]))}\r\n              >\r\n                再計測\r\n              </Button>\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">送信出力：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{sendPowerConverter(sendPower)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangePower />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">無線通信速度：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{wirelessRateConverter(wirelessRate)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeRate />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">スリープ時間：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{sleepTimeConverter(sleepTime)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeSleepTime />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">間欠動作時間：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{workTimeConverter(workTime)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeWorkTime />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">製品バージョン：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{version}</div></TableCell >\r\n            <TableCell align=\"right\"></TableCell >\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\nexport default SerialWiredInfomation;\r\n\r\nconst recieveIdsConverter = (array) => {\r\n  if (!Array.isArray(array)) {\r\n    return [];\r\n  }\r\n  return array.map((recieveId, index) =>\r\n    <span key={index} style={{ display: 'inline-block' }}>\r\n      {recieveId ? recieveId : null},\r\n    </span>\r\n  );\r\n}\r\n\r\nconst workTimeConverter = (string) => {\r\n  const workTime = parseInt(string, 16) * 0.01001;\r\n  return workTime.toFixed(3) + \"秒\";\r\n}\r\n\r\nconst sleepTimeConverter = (string) => {\r\n  const sleepTime = parseInt(string, 16);\r\n  if (sleepTime === 0) {\r\n    return \"連続\";\r\n  }\r\n  else {\r\n    return sleepTime + \"秒\";\r\n  }\r\n}\r\n\r\nconst wirelessRateConverter = (wirelessRate) => {\r\n  if (wirelessRate === \"1\") {\r\n    return \"高速モード\";\r\n  }\r\n  else if (wirelessRate === \"2\") {\r\n    return \"長距離モード\";\r\n  }\r\n  else {\r\n    return \"エラー\";\r\n  }\r\n}\r\n\r\nconst sendPowerConverter = (sendPower) => {\r\n  if (sendPower === \"1\") {\r\n    return \"-10dBm (0.1mW)\";\r\n  }\r\n  else if (sendPower === \"2\") {\r\n    return \"0dBm (1mW)\";\r\n  }\r\n  else if (sendPower === \"3\") {\r\n    return \"10dBm (10mW)\";\r\n  }\r\n  else {\r\n    return \"エラー\";\r\n  }\r\n}\r\n\r\nconst channelConverter = (channelNumber) => {\r\n  if (channelNumber === \"01\") {\r\n    return \"01 (920.6MHz)\";\r\n  }\r\n  else if (channelNumber === \"02\") {\r\n    return \"02 (920.8MHz)\";\r\n  }\r\n  else if (channelNumber === \"03\") {\r\n    return \"03 (921.0MHz)\";\r\n  }\r\n  else if (channelNumber === \"04\") {\r\n    return \"04 (921.2MHz)\";\r\n  }\r\n  else if (channelNumber === \"05\") {\r\n    return \"05 (921.4MHz)\";\r\n  }\r\n  else if (channelNumber === \"06\") {\r\n    return \"06 (921.6MHz) 非推奨\";\r\n  }\r\n  else if (channelNumber === \"07\") {\r\n    return \"07 (921.8MHz)\";\r\n  }\r\n  else if (channelNumber === \"08\") {\r\n    return \"08 (922.0MHz)\";\r\n  }\r\n  else if (channelNumber === \"09\") {\r\n    return \"09 (922.2MHz)\";\r\n  }\r\n  else if (channelNumber === \"10\") {\r\n    return \"10 (922.4MHz)\";\r\n  }\r\n  else if (channelNumber === \"11\") {\r\n    return \"11 (922.6MHz)\";\r\n  }\r\n  else if (channelNumber === \"12\") {\r\n    return \"12 (922.8MHz)\";\r\n  }\r\n  else if (channelNumber === \"13\") {\r\n    return \"13 (923.0MHz)\";\r\n  }\r\n  else if (channelNumber === \"14\") {\r\n    return \"14 (923.2MHz)\";\r\n  }\r\n  else if (channelNumber === \"15\") {\r\n    return \"15 (923.4MHz)\";\r\n  }\r\n  else {\r\n    return \"エラー\";\r\n  }\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nimport Setting from './Setting';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  closeButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst SettingDrawer = () => {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    \"serial-0\": false,\r\n  });\r\n  const toggleDrawer = (anchor, open) => (event) => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setState({ ...state, [anchor]: open });\r\n  };\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        onClick={toggleDrawer(\"serial-0\", true)}\r\n        size=\"small\"\r\n      >\r\n        <SettingsIcon />\r\n      </IconButton >\r\n      <Drawer anchor=\"right\" open={state[\"serial-0\"]} onClose={toggleDrawer(\"serial-0\", false)}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" className={classes.closeButton} color=\"inherit\" onClick={toggleDrawer(\"serial-0\", false)}>\r\n              <ChevronRightIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              無線モジュールの設定\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Setting />\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\nexport default SettingDrawer;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport actions from '../../actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  connectButton: {\r\n    backgroundColor: '#0c0',\r\n    color: '#fff',\r\n    '&:hover': {\r\n      backgroundColor: '#0d0',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ConnectButton = () => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const serialConnectFlag = useSelector(state => state.serial.connectFlag);\r\n  const im920ConnectFlag = useSelector(state => state.im920.wired.connectFlag);\r\n  if (serialConnectFlag && im920ConnectFlag) {\r\n    return (\r\n      <Button\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={() => dispatch(actions.im920.wired.disconnect())}\r\n      >\r\n        切断\r\n      </Button>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <Button\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        className={classes.connectButton}\r\n        onClick={() => dispatch(actions.im920.wired.connect())}\r\n      >\r\n        接続\r\n      </Button>\r\n    );\r\n  }\r\n}\r\nexport default ConnectButton","import React from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    background: {\r\n        background: 'black',\r\n        color: 'white',\r\n        height: '60vh',\r\n        minWidth: '300px',\r\n        overflowY: 'scroll',\r\n        padding: '10px',\r\n    },\r\n    left: {\r\n        textAlign: 'left',\r\n    },\r\n    right: {\r\n        textAlign: 'right',\r\n    },\r\n    error: {\r\n        color: 'red',\r\n    },\r\n}));\r\n\r\nconst SerialConsole = () => {\r\n    const serialCommand = useSelector(state => state.serialCommand);\r\n    const commands = serialCommand.commands;\r\n    const progress = serialCommand.commandProgress;\r\n    const errorMessages = serialCommand.errorMessages;\r\n    const classes = useStyles();\r\n\r\n    const ConsoleLists = [];\r\n\r\n    for (let i = 0; (i < progress + 1) && (i < commands.length); i++) {\r\n        const sendData = commands[i].sendData;\r\n        ConsoleLists.push(\r\n            <div key={\"sendData-\" + i} className={classes.left}>\r\n                {sendData}\r\n            </div>\r\n        );\r\n        const recieveDatas = commands[i].recieveDatas;\r\n        for (let j = 0; j < recieveDatas.length; j++) {\r\n            ConsoleLists.push(\r\n                <div key={\"recieveData-\" + i + \"-\" + j} className={classes.right}>\r\n                    {recieveDatas[j]}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    for (let i = 0; i < errorMessages.length; i++) {\r\n        ConsoleLists.push(\r\n            <div key={\"errorMessage-\" + i} className={classes.error}>\r\n                {errorMessages[i]}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={classes.background}>\r\n            {ConsoleLists}\r\n        </div>\r\n    );\r\n}\r\nexport default SerialConsole;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport actions from '../../actions';\r\nimport SerialConsole from '../Serial/Console';\r\n\r\nconst Connect = () => {\r\n  const dispatch = useDispatch();\r\n  const isDialogOpen = useSelector(state => state.serialCommand.isDialogOpen);\r\n\r\n  const handleClose = () => {\r\n    dispatch(actions.serialCommand.closeDialog());\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={isDialogOpen}\r\n      onClose={handleClose}\r\n    >\r\n      <DialogTitle>コマンド実行中……</DialogTitle>\r\n      <SerialConsole />\r\n      <DialogActions>\r\n        <Button onClick={handleClose} variant=\"contained\">\r\n          閉じる\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\nexport default Connect;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nexport const Tree = ({ children, src, name, settingButton, cableName }) => {\r\n    const classes = useStyles();\r\n    if (!Array.isArray(children)) {\r\n        children = [];\r\n    }\r\n    const connectFlags = children.map(child => child.props.connectFlag);\r\n    let connectTop = connectFlags.length;\r\n    for (let i = connectFlags.length - 1; i >= 0; i--) {\r\n        if (connectFlags[i]) {\r\n            connectTop = i;\r\n        }\r\n    }\r\n    let connectBottom = -1;\r\n    for (let i = 0; i < connectFlags.length; i++) {\r\n        if (connectFlags[i]) {\r\n            connectBottom = i;\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.flexParent}>\r\n            <div>\r\n                <div className={classes.node}>\r\n                    <Node src={src} name={name} settingButton={settingButton} />\r\n                    <div className={classes.flexWrapperCable}>\r\n                        <div\r\n                            className={classes.nodeCable}\r\n                            style={{\r\n                                borderBottom: (connectBottom !== -1) ? '6px solid #0c0' : '6px solid #eee',\r\n                            }}\r\n                        >\r\n                            <div className={classes.nameBox}>\r\n                                {cableName}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.flexWrapperChildren}>\r\n                {\r\n                    connectFlags.map((connectFlag, index) =>\r\n                        <Child\r\n                            key={index}\r\n                            connectFlag={connectFlag}\r\n                            topConnectFlag={(index >= connectTop)}\r\n                            bottomConnectFlag={(index < connectBottom)}\r\n                            bottomFlag={(index === connectFlags.length - 1)}\r\n                            connectButton={children[index].props.connectButton}\r\n                        >\r\n                            {children[index]}\r\n                        </Child>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Node = ({ src, name, settingButton }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <div className={classes.nodeImgWrapper}>\r\n                <div style={{ textAlign: 'right' }}>\r\n                    {settingButton}\r\n                </div>\r\n                <img src={src} className={classes.nodeImg} alt=\"\" />\r\n            </div>\r\n            <div style={{ textAlign: 'center' }}>\r\n                {name}\r\n                <br />\r\n                <br />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Child = ({ children, connectFlag, topConnectFlag, bottomConnectFlag, bottomFlag, connectButton }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <div className={classes.childFlexParent}>\r\n                <div\r\n                    className={classes.childCableVertical}\r\n                    style={{\r\n                        borderLeft: bottomFlag ? '6px solid #fff' :\r\n                            topConnectFlag ? '6px solid #0c0' : '6px solid #eee',\r\n                    }}\r\n                />\r\n                <div>\r\n                    <div\r\n                        className={classes.childCableHorizontal}\r\n                        style={{\r\n                            borderBottom: connectFlag ? '6px solid #0c0' : '6px solid #eee',\r\n                            color: connectFlag ? '#0c0' : '#ccc',\r\n                        }}\r\n                    >\r\n                        <div className={classes.nameBox}>\r\n                            {connectFlag ? <CheckIcon /> : <CloseIcon />}\r\n                        </div>\r\n                        <div className={classes.connectButtonWrapper}>\r\n                            {connectButton}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                {children}\r\n            </div >\r\n            {\r\n                bottomFlag ?\r\n                    <div className={classes.stickyWrapper2}>\r\n                        <div className={classes.cableWhite} />\r\n                    </div>\r\n                    :\r\n                    <div className={classes.stickyWrapper}>\r\n                        <div\r\n                            className={classes.cableAbsolute}\r\n                            style={{\r\n                                borderLeft: bottomConnectFlag ? '6px solid #0c0' : '6px solid #eee',\r\n                            }}\r\n                        />\r\n                    </div>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nconst PADDINNG_TOP = 10;\r\nconst BOX_SIZE = 50;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    //======================================\r\n    //\r\n    flexParent: {\r\n        display: 'flex',\r\n    },\r\n    //======================================\r\n    // 横並び\r\n    flexWrapperCable: {\r\n        width: '80px',\r\n    },\r\n    flexWrapperChildren: {\r\n        position: 'relative',\r\n        top: '-' + (BOX_SIZE + PADDINNG_TOP) + 'px',\r\n    },\r\n    //======================================\r\n    //\r\n    node: {\r\n        display: 'flex',\r\n        position: 'sticky',\r\n        top: PADDINNG_TOP + 'px',\r\n    },\r\n    nodeImgWrapper: {\r\n        width: '100%',\r\n        background: '#eee',\r\n        borderRadius: '10px',\r\n        textAlign: 'center',\r\n    },\r\n    nodeImg: {\r\n        width: '100px',\r\n    },\r\n    nodeCable: {\r\n        position: 'relative',\r\n        minWidth: '100%',\r\n        paddingTop: BOX_SIZE + 'px',\r\n        marginBottom: '100%',\r\n    },\r\n    nameBox: {\r\n        position: 'absolute',\r\n        bottom: '0',\r\n        textAlign: 'center',\r\n        minWidth: '100%',\r\n    },\r\n    //======================================\r\n    //\r\n    childFlexParent: {\r\n        position: 'relative',\r\n        top: (BOX_SIZE + PADDINNG_TOP) + 'px',\r\n        display: 'flex',\r\n    },\r\n    childCableVertical: {\r\n        position: 'absolute',\r\n        height: '100%',\r\n        top: (BOX_SIZE + PADDINNG_TOP) + 'px',\r\n        boxSizing: 'border-box',\r\n    },\r\n    childCableHorizontal: {\r\n        position: 'sticky',\r\n        top: PADDINNG_TOP + 'px',\r\n        height: BOX_SIZE + 'px',\r\n        width: '100px',\r\n        marginBottom: '100px',\r\n    },\r\n    connectButtonWrapper: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: '70px',\r\n        textAlign: 'center',\r\n    },\r\n    //======================================\r\n    //\r\n    stickyWrapper: {\r\n        position: 'sticky',\r\n        top: (BOX_SIZE * 2 + PADDINNG_TOP) + 'px',\r\n        zIndex: '10',\r\n    },\r\n    cableAbsolute: {\r\n        position: 'absolute',\r\n        top: '-' + (BOX_SIZE - 6) + 'px',\r\n        height: '120vh',\r\n        boxSizing: 'border-box',\r\n    },\r\n    //======================================\r\n    //\r\n    stickyWrapper2: {\r\n        position: 'sticky',\r\n        top: '0',\r\n        zIndex: '10',\r\n    },\r\n    cableWhite: {\r\n        position: 'absolute',\r\n        top: '-' + (BOX_SIZE - 6) + 'px',\r\n        height: '120vh',\r\n        boxSizing: 'border-box',\r\n        width: '60px',\r\n        borderLeft: '6px solid #fff',\r\n    },\r\n    //======================================\r\n    //\r\n}));","export default __webpack_public_path__ + \"static/media/pc.7962dd73.png\";","export default __webpack_public_path__ + \"static/media/solar.1102d478.png\";","export default __webpack_public_path__ + \"static/media/wifi.6af898c6.png\";","export default __webpack_public_path__ + \"static/media/ethernet.5442a738.png\";","export default __webpack_public_path__ + \"static/media/sigfox.9c60e923.png\";","import React from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport Container from '@material-ui/core/Container';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport SerialWiredDrawer from './IM920/SettingDrawer';\r\nimport IM920ConnectButton from './IM920/ConnectButton';\r\nimport IM920ConnectDialog from './IM920/Connect';\r\nimport { Tree, Node } from './TreeDiagram';\r\nimport pcImg from '../img/pc.png'\r\nimport solarImg from '../img/solar.png'\r\nimport antennaImg from '../img/antenna.png'\r\nimport wifiImg from '../img/wifi.png'\r\nimport ethernetImg from '../img/ethernet.png'\r\nimport sigfoxImg from '../img/sigfox.png'\r\n\r\nconst Diagram = () => {\r\n  const serialConnectFlag = useSelector(state => state.serial.connectFlag);\r\n  const im920ConnectFlag = useSelector(state => state.im920.wired.connectFlag);\r\n  const wiredConnectFlag = serialConnectFlag && im920ConnectFlag;\r\n  let recieveIds = useSelector(state => state.im920.wired.recieveIds);\r\n  if (!Array.isArray(recieveIds)) {\r\n    recieveIds = [];\r\n  }\r\n  return (\r\n    <>\r\n      <IM920ConnectDialog />\r\n      <Box p={4} />\r\n      <Container>\r\n        <Tree src={pcImg}>\r\n          <Tree\r\n            src={ethernetImg}\r\n            name=\"有線LAN\"\r\n            connectFlag={true}\r\n          >\r\n          </Tree>\r\n          <Tree\r\n            src={wifiImg}\r\n            name=\"WiFiルーター\"\r\n            connectFlag={true}\r\n          >\r\n          </Tree>\r\n          <Tree\r\n            src={sigfoxImg}\r\n            name=\"Sigfox\"\r\n            connectFlag={true}\r\n          >\r\n          </Tree>\r\n          <Tree\r\n            src={antennaImg}\r\n            name=\"無線モジュール\"\r\n            settingButton={wiredConnectFlag ? <SerialWiredDrawer /> : null}\r\n            connectFlag={wiredConnectFlag}\r\n            connectButton={<IM920ConnectButton />}\r\n          >\r\n            {\r\n              recieveIds.map(recieveId =>\r\n                <Node src={solarImg} name={\"0x\" + recieveId} connectFlag={false} />\r\n              )\r\n            }\r\n          </Tree>\r\n        </Tree>\r\n      </Container >\r\n    </>\r\n  );\r\n}\r\nexport default Diagram","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAYAAAC+ZpjcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAF4RJREFUeNrs3U9sHXViwPEZ2zEEJ8FOClu62cWsFnW37B9vLz30gKlUCZVKSY97airBoSfgUE60gLS9ZFXlsL1UICXbQ+lhW1ppqSq12uRSSis1GNYsLC1KHP4kOInjOIn/xLFfZ4ydxc5zPHn+zZt/n480eub5eWb8ezb+Zt7PP8cRsKLVag0mNyMb7j4dx/FpowMAkD2qhpPtSLKdam3uUrIdTbZRIwYAcPuweq11544n24gRBABYH1eHVq9KdezylSsvGkkAgM/j6mgrgDOfftr64Ssvv5Zsg0YVgI16DAFNiqvk5lDAXR5MtuMiCwCBRVPj6kjguFqTzsc6boQBEFg0La7SK03P5HiIkR++8vIRIw2AwKIpcZW+fHe0C4d6JomsUSMOgMCiCdIrS92aI3XUfCwABBa1lq51FeUz72oz6fGeMfIACCzq7IUCjvm0q1gACCxqaXXu1cECDl3UcQEQWJC7g1H35l5t9LThBxBYUEcHCjx2umzDsKcAQGBB3Rxs+PEBEFgQTqvVGi3BaTzqmQAQWFAnI84BAIEFYZVhmYRhTwOAwII6+W4ZTsKfzgEQWFAnFvoEQGABAAgsAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAAASWIQAACKvPEEAUTU5N3Xz72uxcNDs3F+3Y0RcN7tlz8/6h3buT+3YYLAAEFnzRtSScJi9ORdMzM9GlKzMrb9+poSS6lpeXDSYAAovmSq9OfXLus+iTzz6LriaBtZX0KtXQnt3R7Oxc28dfSuJs4fqCgQVAYNE8pz7+JDr53nvR4uJi24D60t590b3JbX/63xle/kuvel2/cSM6f3EqOnP2bHJ7wSADILBolnQe1VpcpS/rPbT/y9H9e/eum1d1J9Y+Lt3Hnl0D0bv/+0uDDIDAolnu27c3+p2d34n2f+l+k9MBEFgQQnqlKdprHADoPutgAQAILAAAgQUAILAAABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFACCwAAAQWAAAAgsAQGABACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAEBgAQAgsAAABBYAgMACAEBgAQAILAAAgQUAgMACABBYAAACCwAAgQUAILAAAAQWAIDAAgBAYAEACCwAAIEFAIDAAgAQWAAAAgsAAIEFACCwAAAEFgAAAgsAQGABAAgsAACBBQCAwAIAEFgAAAILAACBBQAgsAAABBYAAAILAEBgAQAILAAAgQUAgMACABBYAAACCwAAgQUAILAAAAQWAAACCwBAYAEACCwAAAQWAIDAAgAQWAAAAgsAAIEFACCwAAAEFgAAAgsAQGABAAgsAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEACCwAAAQWAIDAAgAQWAAACCwAAIEFACCwAAAQWAAAAgsAQGABAAgsAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAAEFgAAAILAEBgAQAgsAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFACCwAAAQWAAAAgsAQGABACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAEBgAQAgsAAABBYAgMACAEBgAQAILAAAgQUAgMACABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFAIDAAgAQWAAAAgsAAIEFACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAACBBQAgsAAABBYAAAILAEBgAQAILAAAgQUAgMACABBYAAACCwAAgQUAILAAAAQWAAACCwBAYAEACCwAAAQWAIDAAgAQWAAAAgsAAIEFACCwAAAEFgAAAgsAQGABAAgsAAAEFgCAwAIAEFgAAALLEAAACCwAAIEFACCwAAAQWAAAAgsAQGABACCwAAAEFgCAwAIAQGABAAgsAACBBQAgsAAAEFgAAAILAEBgAQAgsAAABBYAgMACAEBgAQAILAAAgQUAgMACABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFAIDAAgAQWAAAAgsAAIEFACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAACBBQAgsAAABBYAAAILAEBgAQAILAAAgQUAgMACABBY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\"","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles({\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n});\r\n\r\nfunction createData(name, calories, fat, carbs, protein) {\r\n    return { name, calories, fat, carbs, protein };\r\n}\r\n\r\nconst rows = [\r\n    createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\r\n    createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\r\n    createData('Eclair', 262, 16.0, 24, 6.0),\r\n    createData('Cupcake', 305, 3.7, 67, 4.3),\r\n    createData('Gingerbread', 356, 16.0, 49, 3.9),\r\n];\r\n\r\nexport default function BasicTable() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table className={classes.table} aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Dessert (100g serving)</TableCell>\r\n                        <TableCell align=\"right\">Calories</TableCell>\r\n                        <TableCell align=\"right\">Fat&nbsp;(g)</TableCell>\r\n                        <TableCell align=\"right\">Carbs&nbsp;(g)</TableCell>\r\n                        <TableCell align=\"right\">Protein&nbsp;(g)</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {rows.map((row) => (\r\n                        <TableRow key={row.name}>\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                                {row.name}\r\n                            </TableCell>\r\n                            <TableCell align=\"right\">{row.calories}</TableCell>\r\n                            <TableCell align=\"right\">{row.fat}</TableCell>\r\n                            <TableCell align=\"right\">{row.carbs}</TableCell>\r\n                            <TableCell align=\"right\">{row.protein}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport Diagram from './components/Diagram';\r\nimport Table from './components/Table';\r\n\r\n\r\nconst App = () => {\r\n  const [value, setValue] = useState(0);\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={(event, newValue) => setValue(newValue)}\r\n        >\r\n          <Tab label=\"接続\" />\r\n          <Tab label=\"データ集計\" />\r\n        </Tabs>\r\n      </AppBar>\r\n      {\r\n        (value === 0) ? <Diagram /> : null\r\n      }\r\n      {\r\n        (value === 1) ? <Table /> : null\r\n      }\r\n    </>\r\n  );\r\n}\r\nexport default App","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const encode64 = (input) => {\n\tvar output = \"\", i = 0, l = input.length,\n\t\tkey = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\t\tchr1, chr2, chr3, enc1, enc2, enc3, enc4;\n\twhile (i < l) {\n\t\tchr1 = input.charCodeAt(i++);\n\t\tchr2 = input.charCodeAt(i++);\n\t\tchr3 = input.charCodeAt(i++);\n\t\tenc1 = chr1 >> 2;\n\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\tenc4 = chr3 & 63;\n\t\tif (isNaN(chr2)) enc3 = enc4 = 64;\n\t\telse if (isNaN(chr3)) enc4 = 64;\n\t\toutput = output + key.charAt(enc1) + key.charAt(enc2) + key.charAt(enc3) + key.charAt(enc4);\n\t}\n\treturn output;\n}\nexport default encode64;","/* eslint-disable no-undef */\r\n\r\nimport { put, fork, delay } from 'redux-saga/effects';\r\nimport actions from '../actions';\r\nimport encode64 from './b64';\r\n\r\nexport default function* convertGifFunc({ payload: { canvasElement, imgElements } }) {\r\n    yield fork(convertGif, canvasElement, imgElements);\r\n}\r\n\r\nfunction* convertGif(canvasElement, imgElements) {\r\n    yield delay(500);\r\n    //\r\n    //canvasの取得\r\n    var ctx = yield canvasElement.current.getContext('2d');\r\n    //GIFEncoderの初期処理\r\n    const encoder = yield new GIFEncoder();\r\n    yield encoder.setRepeat(0); //繰り返し回数 0=無限ループ\r\n    yield encoder.setDelay(50); //1コマあたりの待機秒数（ミリ秒）\r\n    yield encoder.start();\r\n    //canvasのサイズを1枚目のコマに合わせる\r\n    canvasElement.current.width = imgElements[0].current.naturalWidth;\r\n    canvasElement.current.height = imgElements[0].current.naturalHeight;\r\n    //全ての画像をcanvasへ描画\r\n    for (let i = 0; i < imgElements.length; i++) {\r\n        yield ctx.drawImage(imgElements[i].current, 0, 0);\r\n        yield encoder.addFrame(ctx); //コマ追加\r\n    }\r\n    //アニメGIFの生成\r\n    yield encoder.finish();\r\n    let gifFileName = 'data:image/gif;base64,';\r\n    gifFileName += yield encode64(encoder.stream().getData());\r\n    //\r\n    yield put(actions.setConvertGifResult(encoder, gifFileName));\r\n}","\r\nimport {\r\n    delay,\r\n} from 'redux-saga/effects';\r\nimport axios from 'axios';\r\n\r\nexport default function* reciveLoop() {\r\n    while (true) {\r\n        yield console.log(\"sigfox\");\r\n        try {\r\n            const res = yield axios.get(\r\n                \"https://tec-log2.azurewebsites.net/api/sigfox?code=LcC9XuDli8elQBhqGKqSJSItqnRVp6Zw3kbeTgiODYXQaiYko3t8ag==\",\r\n                {\r\n                    params: {\r\n                        \"deviceId\": \"0072E4ED\",\r\n                        \"apiEntry\": \"61260f16c563d60dbdef1b8e\",\r\n                        \"apiPassword\": \"dd4e5c533143e58553b2e92edca00194\"\r\n                    }\r\n                }\r\n            );\r\n            yield console.log(res);\r\n        }\r\n        catch (error) {\r\n            console.log(\"エラー\");\r\n            console.log(error);\r\n        }\r\n        finally {\r\n        }\r\n        yield delay(10000);\r\n    }\r\n}\r\n","\r\nimport {\r\n    take,\r\n    fork,\r\n    put,\r\n    select,\r\n    delay\r\n} from 'redux-saga/effects';\r\nimport actions from '../actions';\r\n\r\n\r\nexport function* serialWrite(text) {\r\n    console.log(\"===============================\");\r\n    console.log(\"送信:\" + text);\r\n    const port = yield select(state => state.serial.port);\r\n    if (!port) {\r\n        console.log(\"送信しようとしましたが、シリアルポートが存在しません\");\r\n        return;\r\n    }\r\n    try {\r\n        const writer = yield port.writable.getWriter();\r\n        const value = new TextEncoder().encode(text);\r\n        yield writer.write(value);\r\n        yield writer.releaseLock();\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport function* serialWaitBegin() {\r\n    while (true) {\r\n        const port = yield select(state => state.serial.port);\r\n        if (port) {\r\n            break;\r\n        }\r\n        yield take(actions.serial.setPortData); //シリアルポートの開放を待つ\r\n        yield delay(100);   //storeに反映されるのを待つ\r\n    }\r\n}\r\n\r\nexport function* serialBegin(baudRate) {\r\n    let port = null;\r\n    try {\r\n        port = yield navigator.serial.requestPort({\r\n            filters: [\r\n                { usbVendorId: 0x0403, usbProductId: 0x6015, },\r\n            ]\r\n        });\r\n        yield port.open({ baudRate: baudRate });\r\n        if (!port) {\r\n            return;\r\n        }\r\n        if (!port.readable) {\r\n            yield port.close();\r\n            return;\r\n        }\r\n        let reader = yield port.readable.getReader();\r\n        yield fork(waitDisconnect, reader);   //バックグラウンド処理開始\r\n        console.log(\"===============================\");\r\n        console.log(\"ポート開放完了\");\r\n        yield put(actions.serial.setPortData(port));\r\n        //\r\n        //=====読み取り==================================\r\n        while (true) {\r\n            const { value, done } = yield reader.read();\r\n            if (done) {\r\n                break; // キャンセル\r\n            }\r\n            const newText = new TextDecoder().decode(value);\r\n            yield put(actions.serialCommand.recieve(newText));\r\n        }\r\n        //===============================================\r\n        //\r\n        //\r\n        //=====ポート閉鎖================================\r\n        yield reader.releaseLock();\r\n        yield port.close();\r\n        console.log(\"===============================\");\r\n        console.log(\"ポート閉鎖完了\");\r\n        //===============================================\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n    finally {\r\n        yield put(actions.serial.clearPortData());\r\n    }\r\n}\r\n\r\nfunction* waitDisconnect(reader) {\r\n    try {\r\n        yield take(actions.serial.disconnect);   //アクション「disconnect」が実行されるまで待つ\r\n        yield reader.cancel();  //読み取り終了\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n}\r\n","\r\nimport {\r\n    delay,\r\n    select,\r\n    put,\r\n    race,\r\n    take,\r\n} from 'redux-saga/effects';\r\nimport actions from '../actions';\r\nimport {\r\n    serialWaitBegin,\r\n    serialWrite,\r\n} from './serial';\r\n\r\nexport function* reciveLoop() {\r\n    let text = \"\";\r\n    while (true) {\r\n        let ms = yield select(state => state.serialCommand.timeout);\r\n        if (!ms) {\r\n            ms = 100;\r\n        }\r\n        const { data, timeout } = yield race({\r\n            data: take(actions.serialCommand.recieve),  //データの到着を待つ\r\n            timeout: delay(ms),    //ms秒間受信しなかったら、次のコマンドを送る\r\n        });\r\n        if (timeout) {\r\n            //最近、受信していない\r\n            if (text) {\r\n                //データが溜まっている場合\r\n                yield nextFn(text);\r\n                text = \"\";\r\n            }\r\n            else {\r\n                //データが溜まっていない場合\r\n                yield firstFn();\r\n            }\r\n        }\r\n        else {\r\n            //受信した\r\n            text += data.payload.newText;\r\n        }\r\n    }\r\n}\r\n\r\nfunction* firstFn() {\r\n    const commands = yield select(state => state.serialCommand.commands);\r\n    if (commands.length <= 0) {\r\n        return;\r\n    }\r\n    const continueFlag = yield select(state => state.serialCommand.continueFlag);\r\n    const progress = yield select(state => state.serialCommand.commandProgress);\r\n    if (!continueFlag) {\r\n        return;\r\n    }\r\n    else if (progress === -1) {\r\n        if (!commands[0].sendData) {\r\n            return;\r\n        }\r\n        yield serialWaitBegin();\r\n        yield put(actions.serialCommand.setRecieveData(\"\"));\r\n        yield put(actions.serialCommand.openDialog());\r\n        yield serialWrite(commands[0].sendData);    //最初のコマンドを送信\r\n    }\r\n    else if (0 <= progress && progress < commands.length) {\r\n        const timeoutAction = yield select(state => state.serialCommand.timeoutAction);\r\n        if (!timeoutAction) {\r\n            return;\r\n        }\r\n        const errorMessages = yield select(state => state.serialCommand.errorMessages);\r\n        if (errorMessages.length > 0) {\r\n            return;\r\n        }\r\n        yield put(timeoutAction);\r\n    }\r\n}\r\n\r\nfunction* nextFn(text) {\r\n    //新しいレスポンスを受信した！\r\n    const commands = yield select(state => state.serialCommand.commands);\r\n    const progress = yield select(state => state.serialCommand.commandProgress);\r\n    const continueFlag = yield select(state => state.serialCommand.continueFlag);\r\n    const nextProgress = progress + 1;\r\n    //\r\n    //今回受け取ったレスポンスを、storeに保存\r\n    yield put(actions.serialCommand.setRecieveData(text));\r\n    //\r\n    const errorMessages = yield select(state => state.serialCommand.errorMessages);\r\n    if (errorMessages.length > 0) {\r\n        return;\r\n    }\r\n    //\r\n    if (!continueFlag) {\r\n        return;\r\n    }\r\n    //\r\n    if (nextProgress === commands.length) {\r\n        //全てのコマンドを受信した場合\r\n        const completeAction = yield select(state => state.serialCommand.completeAction);\r\n        if (completeAction) {\r\n            yield delay(1000);\r\n            yield put(completeAction);\r\n        }\r\n        return;\r\n    }\r\n    //\r\n    if (0 <= nextProgress && nextProgress < commands.length) {\r\n        //次のコマンドを送信\r\n        const nextCommand = yield select(state => state.serialCommand.commands[nextProgress].sendData);\r\n        yield serialWrite(nextCommand);\r\n    }\r\n}","\r\nimport {\r\n    put,\r\n    fork,\r\n} from 'redux-saga/effects';\r\nimport actions from '../actions';\r\nimport {\r\n    serialBegin,\r\n} from './serial';\r\n\r\n\r\nexport function* im920DisconnectFn() {\r\n    yield put(actions.serial.disconnect());\r\n}\r\n\r\n\r\nexport function* im920ConnectFn() {\r\n    yield fork(serialBegin, 19200);\r\n}\r\n","\r\n//yield put({type:'ACTION', ...})   ActionをDispatchする\r\n//yield take(['ACTION'])            指定のActionがDispatchされるまで待つ\r\n//yield takeEvery('ACTION', func)   ActionがDispatchされたら、毎回関数を呼び出すように設定する（同じActionが複数回来た場合は、並列で処理を行う）\r\n//yield call(func, args)            関数をを呼び出して、終了を待つ（関数から戻り値を貰える）\r\n//yield fork(func)                  バックグラウンド処理を開始する。（終了は待たない）\r\n//yield select(selector関数, args)  storeからデータを取りたい\r\n//takeLatest                        処理をキャンセルし、新しい処理を行う\r\n//axios.get(..)                     する関数とかをコール\r\n\r\nimport { takeEvery, fork } from 'redux-saga/effects';\r\n\r\nimport actions from '../actions';\r\nimport convertGifFunc from './convertGif';\r\nimport sigfoxLoop from './sigfox';\r\nimport { reciveLoop } from './serialCommand';\r\nimport { im920ConnectFn, im920DisconnectFn } from './im920';\r\n\r\nexport default function* rootSaga() {\r\n    yield console.log(\"redux メイン関数　スタート\");\r\n    //\r\n    yield fork(reciveLoop);\r\n    yield fork(sigfoxLoop);\r\n    yield takeEvery(actions.im920.wired.connect, im920ConnectFn);\r\n    yield takeEvery(actions.im920.wired.disconnect, im920DisconnectFn);\r\n    yield takeEvery(actions.im920.wired.timeout, im920DisconnectFn);\r\n    yield takeEvery(actions.convertGif, convertGifFunc);\r\n    //\r\n    yield console.log(\"redux メイン関数　終了\");\r\n}\r\n","\r\nconst PACKET_SIZE = 6;\r\n\r\nconst MASK = parseInt(\"1001\", 2);\r\nconst ST1 = parseInt(\"0101\", 2);    //5\r\nconst ST2 = parseInt(\"1010\", 2);    //10\r\nconst ESC = parseInt(\"1110\", 2);    //14\r\n\r\n//#################################################################################\r\n\r\nexport const testLifi = (testMode) => {\r\n    let result = [0];\r\n    if (testMode === \"combo\") {\r\n        result = [];\r\n        for (let i = 0; i < 10; i++) {\r\n            result = result.concat(xor([15, 9, 14, 7]));\r\n        }\r\n    }\r\n    else if (testMode === \"rotate\") {\r\n        result = xor([ST1, ESC, 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15]);\r\n        // 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15, 4\r\n        // が届くはず\r\n    }\r\n    else if (testMode === \"lastDelete\") {\r\n        result = xor([ST1, ESC, 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15]);\r\n        // 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15\r\n        // が届くはず\r\n        result = result.concat(xor([ST1, ESC, 4, 7, 3, 11]));\r\n        // 4, 7, 3, 11\r\n        // が届くはず\r\n    }\r\n    else if (testMode === \"escape\") {\r\n        const halfByteArray2 = maskFlash([0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0, 11, 0, 12, 0, 13, 0, 14, 0, 15, 0]);\r\n        const halfByteArray3 = startBitAndEscape(halfByteArray2);\r\n        result = xor(halfByteArray3);\r\n        //const halfByteArray4 = maskFlash([9, 8, 7, 13]);\r\n        //const halfByteArray5 = startBitAndEscape(halfByteArray4);\r\n        //result = result.concat(xor(halfByteArray5));\r\n    }\r\n    else if (testMode === \"JoinHalfByte\") {\r\n        //const halfByteArray1 = splitHalfByte([0, 40, 80, 120, 160, 200, 240, 255]);\r\n        const halfByteArray1 = splitHalfByte([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]);\r\n        const halfByteArray2 = maskFlash(halfByteArray1);\r\n        const halfByteArray3 = startBitAndEscape(halfByteArray2);\r\n        result = xor(halfByteArray3);\r\n    }\r\n    else if (testMode === \"singleCheckSum\") {\r\n        const originalData = [\r\n            148,\r\n            120,\r\n            17,\r\n            214,\r\n            4,\r\n            139,\r\n            137,\r\n            179,\r\n            48,\r\n            206,//エラー\r\n            21,\r\n            47,\r\n            83,\r\n            81,\r\n            136,\r\n            235,\r\n            45,\r\n            221,\r\n            82,\r\n            149,\r\n            227\r\n        ];\r\n        console.log(originalData);\r\n        const checkSumData = addCheckSum(originalData);\r\n        console.log(\"チェックサムは\" + checkSumData[checkSumData.length - 1]);\r\n        const halfByteArray4 = splitHalfByte(checkSumData);\r\n        const halfByteArray5 = maskFlash(halfByteArray4);\r\n        const halfByteArray6 = startBitAndEscape(halfByteArray5);\r\n        result = xor(halfByteArray6);\r\n    }\r\n    else if (testMode === \"randomCheckSum\") {\r\n        result = [];\r\n        for (let i = 0; i < 10; i++) {\r\n            const originalData = [];\r\n            const packetLength = getRandomInt(1, 10);\r\n            for (let i = 0; i < packetLength; i++) {\r\n                originalData.push(getRandomInt(0, 255));\r\n            }\r\n            console.log(originalData);\r\n            const checkSumData = addCheckSum(originalData);\r\n            console.log(\"チェックサムは\" + checkSumData[checkSumData.length - 1]);\r\n            const halfByteArray4 = splitHalfByte(checkSumData);\r\n            const halfByteArray5 = maskFlash(halfByteArray4);\r\n            const halfByteArray6 = startBitAndEscape(halfByteArray5);\r\n            result = result.concat(xor(halfByteArray6));\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nconst getRandomInt = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min));\r\n}\r\n\r\n//#################################################################################\r\n\r\nconst exchangeLifi = (originalData) => {\r\n    //\r\n    const packetNum = Math.ceil((originalData.length + 1) / PACKET_SIZE);  //パケットの個数を求める\r\n    originalData.unshift(packetNum);    //先頭に「パケットの個数」を追加\r\n    //\r\n    const packets = splitPacket(originalData); //パケットごとに分割\r\n    //\r\n    //ビット列に変換\r\n    let bitArray = [];\r\n    packets.map((packet, i) => {\r\n        packet.unshift(i * PACKET_SIZE);    //パケットの先頭にアドレスを追加\r\n        const checkSumData = addCheckSum(packet);\r\n        const halfByteArray1 = splitHalfByte(checkSumData);\r\n        const halfByteArray2 = maskFlash(halfByteArray1);\r\n        const halfByteArray3 = startBitAndEscape(halfByteArray2);\r\n        const halfByteArray4 = xor(halfByteArray3);\r\n        bitArray = bitArray.concat(halfByteArray4); //ビット列を連結\r\n        return null;\r\n    });\r\n    return bitArray;\r\n}\r\nexport default exchangeLifi;\r\n\r\n//#################################################################################\r\n\r\nconst splitPacket = (original) => {\r\n    //パケットごとに分割\r\n    const result = [];\r\n    original.map((byte, i) => {\r\n        const packetIndex = Math.floor(i / PACKET_SIZE);\r\n        if (!result[packetIndex]) {\r\n            result[packetIndex] = [];\r\n        }\r\n        result[packetIndex][i % PACKET_SIZE] = byte;\r\n        return null;\r\n    });\r\n    return result;\r\n}\r\n\r\nconst bitRead = (data, i) => {\r\n    i %= 8;\r\n    data = data >> i;\r\n    return data % 2;\r\n}\r\n\r\nconst rotationBits = (original, shift) => {\r\n    shift %= 8;\r\n    let result = 0;\r\n    for (let i = 0; i < 8; i++) {\r\n        result += (bitRead(original, shift + i) << i);\r\n    }\r\n    return result;\r\n}\r\n\r\nconst addCheckSum = (original) => {\r\n    let checkSum = 0;\r\n    original.map((byte, i) => {\r\n        checkSum ^= rotationBits(byte, i);\r\n        return null;\r\n    });\r\n    original.push(checkSum);\r\n    return original;\r\n}\r\n\r\nconst splitHalfByte = (original) => {\r\n    const result = [];\r\n    original.map(byte => {\r\n        result.push(byte & parseInt(\"00001111\", 2));\r\n        result.push((byte >> 4) & parseInt(\"00001111\", 2));\r\n        return null;\r\n    });\r\n    return result;\r\n}\r\n\r\nconst maskFlash = (original) => {\r\n    const result = original.map(byte => byte ^ MASK);\r\n    return result;\r\n}\r\n\r\nconst startBitAndEscape = (original) => {\r\n    const result = [];\r\n    result.push(ST1); //先頭に追加\r\n    result.push(ESC); //先頭に追加\r\n    original.map(byte => {\r\n        switch (byte) {\r\n            case 0: // データの途中に 0 があったら\r\n                result.push(ESC);      // ESC で置き換え\r\n                result.push(byte ^ MASK); // 直後に ESC_ZERO を挿入\r\n                break;\r\n            case ST1: // データの途中に ST1 があったら\r\n                result.push(ESC);     // ESC で置き換え\r\n                result.push(byte ^ MASK); // 直後に ESC_ST1 を挿入\r\n                break;\r\n            case ST2: // データの途中に ST2 があったら\r\n                result.push(ESC);     // ESC で置き換え\r\n                result.push(byte ^ MASK); // 直後に ESC_ST2 を挿入\r\n                break;\r\n            case ESC: // データの途中に ESC があったら\r\n                result.push(ESC);      // ESC で置き換え\r\n                result.push(byte ^ MASK);  // 直後に ESC_ESC を挿入\r\n                break;\r\n            default:\r\n                result.push(byte);      // そのまま\r\n        }\r\n        return null;\r\n    });\r\n    return result;\r\n}\r\n\r\nconst xor = (original) => {\r\n    const result = [15];\r\n    for (let i = 0; i < original.length; i++) {\r\n        result[i + 1] = result[i] ^ original[i];\r\n    }\r\n    const lastData = result[result.length - 1];\r\n    if (lastData === 15) {\r\n        result.push(15 ^ ESC);\r\n    }\r\n    return result;\r\n}","\r\nconst exchangeByte = (hour, min, value) => {\r\n    let data = 0;\r\n    data += (hour << 3) & parseInt(\"11111000\", 2);\r\n    data += (min << 1) & parseInt(\"00000110\", 2);\r\n    data += value & parseInt(\"00000001\", 2);\r\n    return data;\r\n}\r\n\r\nconst exchangeData0 = (timeShedule) => {\r\n    const byteData = [];\r\n    const date = new Date();\r\n    let firstByte = 0;              //モード０\r\n    firstByte += (date.getHours() << 3) & parseInt(\"11111000\", 2);\r\n    byteData.push(firstByte);\r\n    byteData.push(date.getMinutes());\r\n    let lastValue = !timeShedule[0][0];              //モード０\r\n    timeShedule.map((array, hour) => {\r\n        array.map((value, min) => {\r\n            if (lastValue !== value) {              //モード０\r\n                byteData.push(exchangeByte(hour, min, value));\r\n            }\r\n            lastValue = value;\r\n            return null;\r\n        });\r\n        return null;\r\n    });\r\n    return byteData;\r\n}\r\n\r\nconst exchangeData1 = (timeShedule) => {\r\n    const byteData = [];\r\n    const date = new Date();\r\n    let firstByte = 1;              //モード１\r\n    firstByte += (date.getHours() << 3) & parseInt(\"11111000\", 2);\r\n    byteData.push(firstByte);\r\n    byteData.push(date.getMinutes());\r\n    let lastValue = timeShedule[0][0];              //モード１\r\n    timeShedule.map((array, hour) => {\r\n        array.map((value, min) => {\r\n            if (lastValue === value) {              //モード１\r\n                byteData.push(exchangeByte(hour, min, value));\r\n            }\r\n            lastValue = value;\r\n            return null;\r\n        });\r\n        return null;\r\n    });\r\n    return byteData;\r\n}\r\n\r\n\r\nconst exchangeTimer = (timeShedule) => {\r\n    const data0 = exchangeData0(timeShedule);\r\n    const data1 = exchangeData1(timeShedule);\r\n    if (data0.length < data1.length) {\r\n        return data0;\r\n    }\r\n    else {\r\n        return data1;\r\n    }\r\n}\r\n\r\nexport default exchangeTimer;\r\n","\r\nimport { handleActions } from 'redux-actions'\r\nimport actions from './actions'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport exchangeLifi, { testLifi } from './protocols/lifi';\r\nimport exchangeTimer from './protocols/timer';\r\n\r\n\r\nconst defaultState = {\r\n    serial: {\r\n        connectFlag: false,\r\n        port: null,\r\n    },\r\n    serialCommand: {\r\n        continueFlag: false,\r\n        errorMessages: [],\r\n        isDialogOpen: false,\r\n        timeout: 100,\r\n        commandProgress: -1,\r\n        completeAction: null,\r\n        timeoutAction: null,\r\n        commands: [],\r\n    },\r\n    im920: {\r\n        wired: {\r\n            connectFlag: false,\r\n            deviceId: \"\",\r\n            nodeNumber: \"\",\r\n            recieveIds: [],\r\n            channelNumber: \"\",\r\n            RSSI: \"\",\r\n            sendPower: \"\",\r\n            wirelessRate: \"\",\r\n            version: \"\",\r\n            sleepTime: \"\",\r\n            workTime: \"\",\r\n        },\r\n    },\r\n    sigfox: [\r\n        {\r\n            \"device\": {\r\n                \"id\": \"\"\r\n            },\r\n            \"time\": 0,\r\n            \"data\": \"\",\r\n            \"rolloverCounter\": 0,\r\n            \"seqNumber\": 0,\r\n            \"rinfos\": [],\r\n            \"satInfos\": [],\r\n            \"nbFrames\": 0,\r\n            \"operator\": \"\",\r\n            \"country\": \"\",\r\n            \"computedLocation\": [],\r\n            \"lqi\": 0\r\n        }\r\n    ],\r\n    bitArray: [],\r\n    encoder: null,\r\n    gifFileName: \"\",\r\n    dragFlag: false,\r\n    hoverDropArea: null,\r\n    browserId: uuidv4(),\r\n    blockCase: [\r\n        {\r\n            id: 4,\r\n        },\r\n        { id: 5 },\r\n        { id: 2 },\r\n    ],\r\n    timeShedule: [\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n    ],\r\n}\r\n\r\nexport default handleActions({\r\n    //\r\n    //\r\n    // シリアル通信\r\n    //============================================================\r\n    [actions.serial.setPortData]: (oldState, { payload: { port } }) => {\r\n        return {\r\n            ...oldState,\r\n            serial: {\r\n                connectFlag: true,\r\n                port: port,\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.serial.clearPortData]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serial: {\r\n                connectFlag: false,\r\n                port: null,\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.serialCommand.setRecieveData]: (oldState, { payload: { text } }) => {\r\n        const progress = oldState.serialCommand.commandProgress;\r\n        const commands = oldState.serialCommand.commands;\r\n        if (0 <= progress && progress < commands.length) {\r\n            const lines = text.split(\"\\r\\n\");\r\n            lines.pop();\r\n            console.log(\"受信:\", lines);\r\n            commands[progress].recieveDatas = lines;\r\n            for (const line of lines) {\r\n                if (line === \"NG\") {\r\n                    const errorMessages = oldState.serialCommand.errorMessages;\r\n                    errorMessages.push(\r\n                        \"無線モジュールへの書き込み時にエラーが発生しました\",\r\n                    );\r\n                    return {\r\n                        ...oldState,\r\n                        serialCommand: {\r\n                            ...oldState.serialCommand,\r\n                            continueFlag: false,\r\n                            errorMessages: errorMessages,\r\n                            isDialogOpen: true,\r\n                            commandProgress: progress,\r\n                            commands: commands,\r\n                        },\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: true,\r\n                commandProgress: progress + 1,\r\n                commands: commands,\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.serialCommand.openDialog]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                errorMessages: [],\r\n                isDialogOpen: true,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.serialCommand.closeDialog]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    //\r\n    //\r\n    // IM920\r\n    //============================================================\r\n    [actions.im920.wired.connect]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                continueFlag: true,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n                timeout: 50,\r\n                commandProgress: -1,\r\n                completeAction: actions.im920.wired.setAllParameters(),\r\n                timeoutAction: actions.im920.wired.timeout(),\r\n                commands: [\r\n                    { sendData: \"RDID\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDNN\\r\", recieveDatas: [] },\r\n                    { sendData: \"RRID\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDCH\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDRS\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDPO\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDRT\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDVR\\r\", recieveDatas: [] },\r\n                    { sendData: \"RSTM\\r\", recieveDatas: [] },\r\n                    { sendData: \"RWTM\\r\", recieveDatas: [] },\r\n                ],\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.setAllParameters]: (oldState) => {\r\n        const commands = oldState.serialCommand.commands;\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                continueFlag: false,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n                timeout: 100,\r\n                commandProgress: -1,\r\n                completeAction: null,\r\n                timeoutAction: null,\r\n                commands: [],\r\n            },\r\n            im920: {\r\n                ...oldState.im920,\r\n                wired: {\r\n                    connectFlag: true,\r\n                    deviceId: commands[0].recieveDatas[0],\r\n                    nodeNumber: commands[1].recieveDatas[0],\r\n                    recieveIds: commands[2].recieveDatas,\r\n                    channelNumber: commands[3].recieveDatas[0],\r\n                    RSSI: commands[4].recieveDatas[0],\r\n                    sendPower: commands[5].recieveDatas[0],\r\n                    wirelessRate: commands[6].recieveDatas[0],\r\n                    version: commands[7].recieveDatas[0],\r\n                    sleepTime: commands[8].recieveDatas[0],\r\n                    workTime: commands[9].recieveDatas[0],\r\n                },\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.executeCommands]: (oldState, { payload: { key, commands } }) => {\r\n        commands = commands.map(command => {\r\n            return {\r\n                sendData: command,\r\n                recieveDatas: []\r\n            }\r\n        });\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                continueFlag: true,\r\n                errorMessages: [],\r\n                isDialogOpen: true,\r\n                timeout: 50,\r\n                commandProgress: -1,\r\n                completeAction: actions.im920.wired.setParameter(key),\r\n                timeoutAction: actions.im920.wired.timeout(),\r\n                commands: commands,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.setParameter]: (oldState, { payload: { key } }) => {\r\n        const commands = oldState.serialCommand.commands;\r\n        let parameters = oldState.im920.wired;\r\n        parameters = JSON.parse(JSON.stringify(parameters));\r\n        if (key === \"recieveIds\") {\r\n            console.log(commands[commands.length - 1].recieveDatas);\r\n            parameters[key] = commands[commands.length - 1].recieveDatas;\r\n        }\r\n        else {\r\n            parameters[key] = commands[commands.length - 1].recieveDatas[0];\r\n        }\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                continueFlag: false,\r\n                errorMessages: oldState.serialCommand.errorMessages,\r\n                isDialogOpen: false,\r\n                timeout: 100,\r\n                commandProgress: -1,\r\n                completeAction: null,\r\n                timeoutAction: null,\r\n                commands: [],\r\n            },\r\n            im920: {\r\n                ...oldState.im920,\r\n                wired: parameters,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.timeout]: (oldState) => {\r\n        const progress = oldState.serialCommand.commandProgress;\r\n        let command = oldState.serialCommand.commands[progress].sendData;\r\n        command = command.replace('\\r', '\\\\r');\r\n        command = command.replace('\\n', '\\\\n');\r\n        const ms = oldState.serialCommand.timeout;\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: false,\r\n                errorMessages: oldState.serialCommand.errorMessages.concat([\r\n                    \"失敗！\\nコマンド「\" + command + \"」を送って\" + ms + \"ミリ秒待ちましたが、応答がありませんでした\",\r\n                ]),\r\n            },\r\n            im920: {\r\n                wired: {\r\n                    connectFlag: false,\r\n                    deviceId: \"\",\r\n                    nodeNumber: \"\",\r\n                    recieveIds: \"\",\r\n                    channelNumber: \"\",\r\n                    RSSI: \"\",\r\n                    sendPower: \"\",\r\n                    wirelessRate: \"\",\r\n                    version: \"\",\r\n                    sleepTime: \"\",\r\n                    workTime: \"\",\r\n                },\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.disconnect]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: false,\r\n                errorMessages: oldState.serialCommand.errorMessages.concat([\r\n                    \"USBが切断されました\",\r\n                ]),\r\n                commandProgress: oldState.serialCommand.commands.length,\r\n            },\r\n            im920: {\r\n                wired: {\r\n                    connectFlag: false,\r\n                    deviceId: \"\",\r\n                    nodeNumber: \"\",\r\n                    recieveIds: \"\",\r\n                    channelNumber: \"\",\r\n                    RSSI: \"\",\r\n                    sendPower: \"\",\r\n                    wirelessRate: \"\",\r\n                    version: \"\",\r\n                    sleepTime: \"\",\r\n                    workTime: \"\",\r\n                },\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    //\r\n    //\r\n    //============================================================\r\n    [actions.setConvertGifResult]: (oldState, { payload: { encoder, gifFileName } }) => {\r\n        return {\r\n            ...oldState,\r\n            encoder: encoder,\r\n            gifFileName: gifFileName,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.clearBitArray]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            bitArray: [],\r\n            encoder: null,\r\n            gifFileName: \"\",\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setBitArray]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            bitArray: exchangeLifi(exchangeTimer(oldState.timeShedule)),\r\n            encoder: null,\r\n            gifFileName: \"\",\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.testFlash]: (oldState, { payload: { testMode } }) => {\r\n        return {\r\n            ...oldState,\r\n            bitArray: testLifi(testMode),\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setBlockCase]: (oldState, { payload: { dropAreaId, dataTransfer } }) => {\r\n        const browserId = dataTransfer.getData(\"browserId\");      // データ転送により送られてきたデータ\r\n        const dragItemString = dataTransfer.getData(\"dragItem\");  // データ転送により送られてきたデータ\r\n        let dragItem = null;\r\n        let pastDropAreaId = null;\r\n        let blockCase = oldState.blockCase;\r\n        if (!dragItemString) {\r\n            //別のアプリから来た場合、新しいブロックを生成する\r\n            dragItem = {\r\n                id: uuidv4(),\r\n            }\r\n        }\r\n        else if (browserId !== oldState.browserId) {\r\n            //別のブラウザの、同じアプリから来た場合\r\n            dragItem = JSON.parse(dragItemString);\r\n            dragItem.id = uuidv4();\r\n        }\r\n        else {\r\n            dragItem = JSON.parse(dragItemString);\r\n            //同じブラウザで同じアプリから来た場合、ブロックの重複をなくす\r\n            blockCase = oldState.blockCase.map((item, index) => {\r\n                if (item && String(item.id) === String(dragItem.id)) {    //ドラッグアイテムのIDが重複していたら削除する\r\n                    pastDropAreaId = index;\r\n                    return null;\r\n                }\r\n                return item;\r\n            });\r\n        }\r\n        if (!blockCase[dropAreaId]) {\r\n            //上書きせずに配置できる場合\r\n            blockCase[dropAreaId] = dragItem;\r\n        }\r\n        else if (pastDropAreaId) {\r\n            //ケースの中の移動で上書きしてしまう場合\r\n            blockCase[pastDropAreaId] = blockCase[dropAreaId];\r\n            blockCase[dropAreaId] = dragItem;\r\n        }\r\n        else {\r\n            //よそからドラッグされて上書きしてしまう場合\r\n            for (let i = 0; true; i++) {\r\n                if (!blockCase[i]) {\r\n                    blockCase[i] = blockCase[dropAreaId];\r\n                    blockCase[dropAreaId] = dragItem;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            ...oldState,\r\n            blockCase: blockCase,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setDragFlag]: (oldState, { payload: { flag } }) => {\r\n        return {\r\n            ...oldState,\r\n            dragFlag: flag,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setHoverDropArea]: (oldState, { payload: { blockKey } }) => {\r\n        return {\r\n            ...oldState,\r\n            hoverDropArea: blockKey,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setTimeShedule]: (oldState, { payload: { hour, min, value } }) => {\r\n        const newTimeShedule = oldState.timeShedule;\r\n        newTimeShedule[hour][min] = value;\r\n        return {\r\n            ...oldState,\r\n            timeShedule: newTimeShedule,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.toggleFullMin]: (oldState, { payload: { min } }) => {\r\n        let onCount = 0;\r\n        let offCount = 0;\r\n        oldState.timeShedule.map(array => {\r\n            if (array[min]) {\r\n                onCount++;\r\n            }\r\n            else {\r\n                offCount++;\r\n            }\r\n            return null;\r\n        });\r\n        const value = (onCount < offCount);\r\n        const newTimeShedule = oldState.timeShedule.map(array => {\r\n            array[min] = value;\r\n            return array;\r\n        });\r\n        return {\r\n            ...oldState,\r\n            timeShedule: newTimeShedule,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.toggleFullHour]: (oldState, { payload: { hour } }) => {\r\n        let onCount = 0;\r\n        let offCount = 0;\r\n        oldState.timeShedule[hour].map(val => {\r\n            if (val) {\r\n                onCount++;\r\n            }\r\n            else {\r\n                offCount++;\r\n            }\r\n            return null;\r\n        });\r\n        const value = (onCount < offCount);\r\n        const newTimeShedule = oldState.timeShedule;\r\n        newTimeShedule[hour] = [value, value, value, value];\r\n        return {\r\n            ...oldState,\r\n            timeShedule: newTimeShedule,\r\n        }\r\n    },\r\n    //============================================================\r\n}, defaultState)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\n\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux'\r\nimport { createLogger } from 'redux-logger'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from './sagas/rootSaga'\r\n\r\nimport reducer from './reducer'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\nconst logger = createLogger({\r\n  diff: true,\r\n  collapsed: true,\r\n});\r\nconst store = createStore(\r\n  reducer,\r\n  compose(applyMiddleware(\r\n    sagaMiddleware,\r\n    logger,\r\n  )));\r\nsagaMiddleware.run(rootSaga)\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#81c784',\r\n      main: '#4caf50',\r\n      dark: '#388e3c',\r\n      contrastText: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\nreportWebVitals()\r\n// ↑ アプリのパフォーマンスを測定したいときは、\r\n// ↑ 「reportWebVitals()」の括弧の中に表示用関数を書いてください。\r\n// ↑ たとえば「reportWebVitals(console.log)」と記述すると、\r\n// ↑ ログに測定結果を表示できます。\r\n// ↑ 詳しくは https://bit.ly/CRA-vitals を参照してください。"],"sourceRoot":""}