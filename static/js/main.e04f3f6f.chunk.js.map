{"version":3,"sources":["actions.js","components/IM920/Dialogs/DeleteRecieveIds.jsx","components/IM920/Dialogs/AddRecieveId.jsx","components/IM920/Dialogs/ChangeNodeNumber.jsx","components/IM920/Dialogs/ChangeChannel.jsx","components/IM920/Dialogs/ChangePower.jsx","components/IM920/Dialogs/ChangeRate.jsx","components/IM920/Dialogs/ChangeSleepTime.jsx","components/IM920/Dialogs/ChangeWorkTime.jsx","components/IM920/Setting.jsx","components/IM920/SettingDrawer.jsx","components/IM920/ConnectButton.jsx","components/Serial/Console.jsx","components/IM920/Connect.jsx","components/TreeDiagram.jsx","img/pc.png","img/solar.png","img/wifi.png","img/sigfox.png","pages/Diagram.jsx","img/internet.png","img/antenna.png","components/DownloadButton.jsx","pages/Table.jsx","pages/ApiDocuments.jsx","pages/ColabSample.jsx","pages/MistSetting.jsx","img/off.jpg","img/sleep.jpg","img/wifi.jpg","img/smartconfig.jpg","img/data.jpg","img/heating.jpg","pages/CO2Documents.jsx","App.jsx","reportWebVitals.js","sagas/jsgif/b64.js","sagas/jsgif/LZWEncoder.js","sagas/jsgif/NeuQuant.js","sagas/jsgif/GIFEncoder.js","sagas/convertGif.js","sagas/serial.js","sagas/serialCommand.js","sagas/azureReciveLoop.js","sagas/im920.js","sagas/mist.js","sagas/rootSaga.js","protocols/lifi.js","protocols/timer.js","reducer.js","index.js"],"names":["createActions","SET_IOT_DATAS","iotDatas","SERIAL","DISCONNECT","SET_PORT_DATA","port","CLEAR_PORT_DATA","SERIAL_COMMAND","RECIEVE","newText","SET_RECIEVE_DATA","text","OPEN_DIALOG","CLOSE_DIALOG","IM920","WIRED","CONNECT","TIMEOUT","EXECUTE_COMMANDS","key","commands","SET_ALL_PARAMETERS","SET_PARAMETER","CONTINUE_TXDT","MIST","SEND","mist","led","music","SET_BLOCK_CASE","dropAreaId","dataTransfer","SET_DRAG_FLAG","flag","SET_HOVER_DROP_AREA","blockKey","SET_BIT_ARRAY","CLEAR_BIT_ARRAY","TEST_FLASH","testMode","CONVERT_GIF","canvasElement","imgElements","SET_CONVERT_GIF_RESULT","encoder","gifFileName","SET_TIME_SHEDULE","hour","min","value","TOGGLE_FULL_HOUR","TOGGLE_FULL_MIN","DeleteRecieveIds","dispatch","useDispatch","useState","open","setOpen","handleClose","Button","variant","size","color","onClick","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","actions","im920","wired","executeCommands","autoFocus","AddRecieveId","errorFlag","setErrorFlag","emptyFlag","setEmptyFlag","errorMessage","setErrorMessage","id","setId","setText","TextField","onChange","event","target","replace","s","String","fromCharCode","charCodeAt","head","slice","length","number","parseInt","i","n","charAt","Number","isNaN","toString","toUpperCase","substr","error","helperText","label","disabled","ChangeNodeNumber","nodeNumber","setNodeNumber","ChangeChannel","initValue","useSelector","state","channelNumber","setChannelNumber","RadioGroup","FormControlLabel","control","Radio","ChangePower","sendPower","setSendPower","ChangeRate","wirelessRate","setWirelessRate","ChangeSleepTime","sleepTime","setSleepTime","fractionFlag","InputProps","endAdornment","InputAdornment","position","ChangeWorkTime","workTime","setWorkTime","parseFloat","numberString","numbers","split","getDecimalPointLength","Math","round","useStyles","makeStyles","theme","tableContainer","maxWidth","maxHeight","overflowY","table","margin","tableCell","minWidth","wordBreak","textAlign","th","SerialWiredInfomation","classes","deviceId","recieveIds","RSSI","version","className","Table","TableBody","TableRow","TableCell","component","align","colSpan","rowSpan","recieveIdsConverter","channelConverter","sendPowerConverter","wirelessRateConverter","sleepTimeConverter","workTimeConverter","array","Array","isArray","map","recieveId","index","style","display","string","toFixed","closeButton","marginRight","spacing","title","flexGrow","SettingDrawer","setState","toggleDrawer","anchor","type","IconButton","Drawer","AppBar","Toolbar","edge","Typography","Setting","connectButton","backgroundColor","ConnectButton","serialConnectFlag","serial","connectFlag","im920ConnectFlag","disconnect","connect","background","height","padding","left","right","SerialConsole","serialCommand","progress","commandProgress","errorMessages","ConsoleLists","sendData","push","recieveDatas","j","Connect","isDialogOpen","closeDialog","Tree","children","src","name","actionButtons","leftCableName","connectFlags","child","props","connectTop","connectBottom","tree","parent","nodeWrapper","grayBox","nodeImg","alt","action","nodeCable","borderBottom","topConnectFlag","bottomConnectFlag","bottomFlag","Child","stickyWrapper2","cableWhite","stickyWrapper","cableAbsolute","borderLeft","cableLeftWrapper","cableLeft","borderTop","connectIcon","paddingTop","PADDINNG_TOP","BOX_SIZE","top","width","borderRadius","paddingLeft","fontSize","bottom","zIndex","boxSizing","paddingBottom","wrapper","Diagram","wiredConnectFlag","sigfoxConnectFlag","now","Date","data","getTime","timestamp","pcImg","solarImg","sigfoxImg","wifiImg","downloadFunc","a","axios","get","res","console","log","status","DownloadButton","React","anchorEl","setAnchorEl","Boolean","handlerClickDownloadButton","e","format","preventDefault","datas","alert","key1","workbook","ExcelJS","Workbook","addWorksheet","worksheet","getWorksheet","columns","Object","key2","header","addRows","row","xlsx","writeBuffer","uint8Array","csv","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","download","click","remove","Fab","currentTarget","sx","mr","Menu","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","BasicTable","overflow","TableHead","MyLoadingRow","Skeleton","animation","MyRow","dateString","year","month","day","week","minutes","seconds","solar","voltage","current","power","battery","temperature","pressure","humidity","gas","co2","uv","tableHead","copyBlock","sample","location","latitude","longitude","direction","tilt","ApiDocuments","Container","Box","language","wrapLines","a11yDark","Grid","container","item","xs","md","JSON","stringify","button","textTransform","ColabSample","setMist","setLed","setMusic","send","CO2Documents","minHeight","sm","Card","CardMedia","image","imgOFF","CardContent","gutterBottom","imgSleep","imgWifi","imgSmartConfig","imgData","App","setValue","Tabs","indicatorColor","scrollButtons","textColor","newValue","Tab","MistSetting","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","encode64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","l","LZWEncoder","imgW","imgH","pixAry","initCodeSize","remaining","curPixel","n_bits","maxcode","g_init_bits","ClearCode","EOFCode","a_count","exports","EOF","BITS","HSIZE","maxbits","maxmaxcode","htab","codetab","hsize","free_ent","clear_flg","cur_accum","cur_bits","masks","accum","pixels","color_depth","max","char_out","c","outs","flush_char","cl_block","cl_hash","compress","init_bits","fcode","ent","disp","hsize_reg","hshift","MAXCODE","nextPixel","outer_loop","encode","os","writeByte","writeBytes","code","apply","this","arguments","NeuQuant","alphadec","thepicture","lengthcount","samplefac","network","netsize","prime1","prime2","prime3","prime4","minpicturebytes","maxnetpos","netbiasshift","ncycles","intbiasshift","intbias","gammashift","betashift","beta","betagamma","initrad","radiusbiasshift","radiusbias","initradius","radiusdec","alphabiasshift","initalpha","radbiasshift","radbias","alpharadbshift","alpharadbias","netindex","bias","freq","radpower","thepic","len","p","colorMap","k","inxbuild","smallpos","smallval","q","previouscol","startpos","learn","b","g","r","radius","rad","alpha","step","delta","samplepixels","pix","lim","contest","altersingle","alterneigh","unbiasnet","dist","bestd","best","process","lo","hi","m","biasdist","betafreq","bestpos","bestbiaspos","bestbiasd","GIFEncoder","chr","ByteArray","bin","prototype","getData","v","val","writeUTFBytes","offset","transIndex","out","indexedPixels","colorDepth","colorTab","transparent","repeat","delay","started","usedEntry","palSize","dispose","closeStream","firstFrame","sizeSet","comment","reset","setDelay","ms","setDispose","setRepeat","iter","setTransparent","setComment","addFrame","im","is_imageData","Error","ok","ImageData","setSize","Uint8ClampedArray","getImageData","canvas","getImagePixels","analyzePixels","writeLSD","writePalette","writeNetscapeExt","writeGraphicCtrlExt","writeCommentExt","writeImageDesc","writePixels","filename","undefined","endsWith","templink","Uint8Array","finish","setFrameRate","fps","setQuality","quality","w","h","start","cont","nPix","nq","findClosest","minpos","dmin","dr","dg","db","d","count","transp","WriteShort","pValue","stream","setProperties","has_start","is_first","convertGifFunc","convertGif","payload","fork","getContext","ctx","naturalWidth","naturalHeight","drawImage","put","setConvertGifResult","serialWrite","serialWaitBegin","serialBegin","waitDisconnect","select","writable","getWriter","writer","TextEncoder","write","releaseLock","take","setPortData","baudRate","navigator","requestPort","readable","close","getReader","reader","read","done","TextDecoder","decode","recieve","clearPortData","cancel","serialReciveLoop","firstFn","nextFn","timeout","race","continueFlag","setRecieveData","timeoutAction","nextProgress","recieveText","hexString","hexStrings","soc","loadvoltage","current_mA","temp","date","getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","post","completeAction","nextCommand","azureReciveLoop","setIotDatas","res2","im920DisconnectFn","im920ConnectFn","mistSendFn","rootSaga","takeEvery","MASK","ST1","ST2","ESC","testLifi","result","concat","xor","halfByteArray2","maskFlash","halfByteArray3","startBitAndEscape","halfByteArray1","splitHalfByte","originalData","checkSumData","addCheckSum","halfByteArray4","halfByteArray5","halfByteArray6","packetLength","getRandomInt","floor","random","exchangeLifi","packetNum","ceil","unshift","packets","splitPacket","bitArray","packet","original","byte","packetIndex","bitRead","checkSum","shift","rotationBits","exchangeByte","exchangeTimer","timeShedule","data0","byteData","firstByte","lastValue","exchangeData0","data1","exchangeData1","defaultState","sigfox","dragFlag","hoverDropArea","browserId","uuidv4","blockCase","handleActions","oldState","lines","pop","openDialog","setAllParameters","command","setParameter","parameters","parse","continueTxdt","clearBitArray","setBitArray","testFlash","setBlockCase","dragItemString","dragItem","pastDropAreaId","setDragFlag","setHoverDropArea","setTimeShedule","newTimeShedule","toggleFullMin","onCount","offCount","toggleFullHour","sagaMiddleware","createSagaMiddleware","store","createLogger","diff","collapsed","createStore","reducer","compose","applyMiddleware","run","createMuiTheme","palette","primary","light","main","dark","contrastText","ReactDOM","render","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.e04f3f6f.chunk.js","sourcesContent":["import { createActions } from 'redux-actions'\r\n\r\n// このファイルには、命令の一覧が書かれている。\r\n// このファイルに書かれていない命令は、プログラムの中で発行することができない。\r\n\r\nexport default createActions({\r\n    //\r\n    SET_IOT_DATAS: (iotDatas) => ({ iotDatas }),\r\n    //\r\n    //シリアル通信\r\n    SERIAL: {\r\n        DISCONNECT: () => ({}),\r\n        SET_PORT_DATA: (port) => ({ port }),\r\n        CLEAR_PORT_DATA: () => ({}),\r\n    },\r\n    SERIAL_COMMAND: {\r\n        RECIEVE: (newText) => ({ newText }),\r\n        SET_RECIEVE_DATA: (text) => ({ text }),\r\n        OPEN_DIALOG: () => ({}),\r\n        CLOSE_DIALOG: () => ({}),\r\n    },\r\n    //\r\n    //無線通信\r\n    IM920: {\r\n        WIRED: {\r\n            CONNECT: () => ({}),\r\n            TIMEOUT: () => ({}),\r\n            DISCONNECT: () => ({}),\r\n            EXECUTE_COMMANDS: (key, commands) => ({ key, commands }),\r\n            SET_ALL_PARAMETERS: () => ({}),\r\n            SET_PARAMETER: (key) => ({ key }),\r\n            CONTINUE_TXDT: () => ({}),\r\n        },\r\n        MIST: {\r\n            SEND: (mist, led, music) => ({ mist, led, music }),\r\n            RECIEVE: (mist, led, music) => ({ mist, led, music }),\r\n        },\r\n    },\r\n    //\r\n    SET_BLOCK_CASE: (dropAreaId, dataTransfer) => ({ dropAreaId, dataTransfer }),\r\n    SET_DRAG_FLAG: (flag) => ({ flag }),\r\n    SET_HOVER_DROP_AREA: (blockKey) => ({ blockKey }),\r\n    SET_BIT_ARRAY: () => ({}),\r\n    CLEAR_BIT_ARRAY: () => ({}),\r\n    TEST_FLASH: (testMode) => ({ testMode }),\r\n    CONVERT_GIF: (canvasElement, imgElements) => ({ canvasElement, imgElements }),\r\n    SET_CONVERT_GIF_RESULT: (encoder, gifFileName) => ({ encoder, gifFileName }),\r\n    SET_TIME_SHEDULE: (hour, min, value) => ({ hour, min, value }),\r\n    TOGGLE_FULL_HOUR: (hour) => ({ hour }),\r\n    TOGGLE_FULL_MIN: (min) => ({ min }),\r\n})","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst DeleteRecieveIds = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"recieveIds\",\r\n      [\"ENWR\\r\", \"ERID\\r\", \"DSWR\\r\", \"RRID\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        全消去\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>本当に削除しますか？</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            無線モジュールに登録された全ての受信IDが削除されます。\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button onClick={handleAgree} variant=\"contained\" color=\"primary\" autoFocus>\r\n            全て削除\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default DeleteRecieveIds;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\nconst AddRecieveId = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [id, setId] = useState(\"0000\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"recieveIds\",\r\n      [\"ENWR\\r\", \"SRID \" + id + \"\\r\", \"DSWR\\r\", \"RRID\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    let newText = hankaku2Zenkaku(event.target.value);\r\n    let head = newText.slice(0, 2);\r\n    if (head === \"0x\" || head === \"0X\") {\r\n      newText = newText.slice(2); //先頭から２文字を削除\r\n    }\r\n    else {\r\n      head = \"\";\r\n    }\r\n    if (newText.length > 4) {\r\n      setErrorMessage(\"最大４桁です\");\r\n      return;\r\n    }\r\n    setText(event.target.value);\r\n    const number = parseInt(newText, 16);\r\n    let errorFlag = false;\r\n    for (let i = 0; i < newText.length; i++) {\r\n      const n = parseInt(newText.charAt(i), 16);\r\n      if (Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (newText.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"16進数4桁で記入してください\");\r\n    }\r\n    else {\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n      const id = ('0000' + number.toString(16).toUpperCase()).substr(-4);\r\n      setId(id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        追加\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>受信ID 追加登録</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            label=\"追加する ID\"\r\n            variant=\"outlined\"\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            登録\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default AddRecieveId;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport TextField from '@mui/material/TextField';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\nconst ChangeNodeNumber = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [nodeNumber, setNodeNumber] = useState(\"00\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"nodeNumber\",\r\n      [\"ENWR\\r\", \"STNN \" + nodeNumber + \"\\r\", \"DSWR\\r\", \"RDNN\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    let text = hankaku2Zenkaku(event.target.value);\r\n    let head = text.slice(0, 2);\r\n    if (head === \"0x\" || head === \"0X\") {\r\n      text = text.slice(2); //先頭から２文字を削除\r\n    }\r\n    else {\r\n      head = \"\";\r\n    }\r\n    if (text.length > 2) {\r\n      setErrorMessage(\"最大２桁です\");\r\n      return;\r\n    }\r\n    setText(event.target.value);\r\n    const number = parseInt(text, 16);\r\n    let errorFlag = false;\r\n    for (let i = 0; i < text.length; i++) {\r\n      const n = parseInt(text.charAt(i), 16);\r\n      if (Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (text.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"16進数2桁で記入してください\");\r\n    }\r\n    else {\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n      const nodeNumber = ('00' + number.toString(16).toUpperCase()).substr(-2);\r\n      setNodeNumber(nodeNumber);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>ノード番号変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            ノード番号は送信モジュール ID とは別に任意に設定できる 8bit の番号です。<br />\r\n            ユニークな値でなくてもかまいません。\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            label=\"ノード番号\"\r\n            variant=\"outlined\"\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeNodeNumber;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst ChangeChannel = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const initValue = useSelector(state => state.im920.wired.channelNumber);\r\n  const [channelNumber, setChannelNumber] = useState(initValue);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"channelNumber\",\r\n      [\"ENWR\\r\", \"STCH \" + channelNumber + \"\\r\", \"DSWR\\r\", \"RDCH\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>無線チャンネル変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            対向する無線モジュールと同じ通信チャンネルを設定してください。<br />\r\n            チャンネル番号 06 は内部信号の影響があり、安定して通信できないため使用をお薦めしません。\r\n          </DialogContentText>\r\n          <RadioGroup\r\n            value={channelNumber}\r\n            onChange={(event) => setChannelNumber(event.target.value)}\r\n          >\r\n            <FormControlLabel control={<Radio />} value=\"01\" label=\"01 (920.6MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"02\" label=\"02 (920.8MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"03\" label=\"03 (921.0MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"04\" label=\"04 (921.2MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"05\" label=\"05 (921.4MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"06\" label=\"06 (921.6MHz) 非推奨\" />\r\n            <FormControlLabel control={<Radio />} value=\"07\" label=\"07 (921.8MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"08\" label=\"08 (922.0MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"09\" label=\"09 (922.2MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"10\" label=\"10 (922.4MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"11\" label=\"11 (922.6MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"12\" label=\"12 (922.8MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"13\" label=\"13 (923.0MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"14\" label=\"14 (923.2MHz)\" />\r\n            <FormControlLabel control={<Radio />} value=\"15\" label=\"15 (923.4MHz)\" />\r\n          </RadioGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeChannel;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst ChangePower = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const initValue = useSelector(state => state.im920.wired.sendPower);\r\n  const [sendPower, setSendPower] = useState(initValue);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"sendPower\",\r\n      [\"ENWR\\r\", \"STPO \" + sendPower + \"\\r\", \"DSWR\\r\", \"RDPO\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>送信出力変更</DialogTitle>\r\n        <DialogContent>\r\n          <RadioGroup\r\n            value={sendPower}\r\n            onChange={(event) => setSendPower(event.target.value)}\r\n          >\r\n            <FormControlLabel control={<Radio />} value=\"1\" label=\"-10dBm (0.1mW)\" />\r\n            <FormControlLabel control={<Radio />} value=\"2\" label=\"0dBm (1mW)\" />\r\n            <FormControlLabel control={<Radio />} value=\"3\" label=\"10dBm (10mW)\" />\r\n          </RadioGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangePower;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\nconst ChangeRate = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const initValue = useSelector(state => state.im920.wired.wirelessRate);\r\n  const [wirelessRate, setWirelessRate] = useState(initValue);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"wirelessRate\",\r\n      [\"ENWR\\r\", \"STRT \" + wirelessRate + \"\\r\", \"DSWR\\r\", \"RDRT\\r\"],\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={handleClickOpen}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>無線通信速度変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            対向する無線モジュールと同じ速度を設定してください。\r\n          </DialogContentText>\r\n          <RadioGroup\r\n            value={wirelessRate}\r\n            onChange={(event) => setWirelessRate(event.target.value)}\r\n          >\r\n            <FormControlLabel control={<Radio />} value=\"1\" label=\"高速通信モード（無線通信速度 50kbps）\" />\r\n            <FormControlLabel control={<Radio />} value=\"2\" label=\"長距離モード（無線通信速度 1.25kbps）\" />\r\n          </RadioGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeRate;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport TextField from '@mui/material/TextField';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\nconst ChangeSleepTime = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [sleepTime, setSleepTime] = useState(\"0000\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"sleepTime\",\r\n      [\"ENWR\\r\", \"SSTM \" + sleepTime + \"\\r\", \"DSWR\\r\", \"RSTM\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setText(event.target.value);\r\n    const text = hankaku2Zenkaku(event.target.value);\r\n    const number = parseInt(text);\r\n    let errorFlag = false;\r\n    let fractionFlag = false;\r\n    for (let i = 0; i < text.length; i++) {\r\n      if (text.charAt(i) === \".\") {\r\n        fractionFlag = true;\r\n      }\r\n      const n = parseInt(text.charAt(i));\r\n      if (Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (text.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (number > 65535) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"最大65535秒です\");\r\n    }\r\n    else if (fractionFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"小数は設定できません\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"0～65535の整数を10進数で入力してください\");\r\n    }\r\n    else {\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n      const sleepTime = ('0000' + number.toString(16).toUpperCase()).substr(-4);\r\n      setSleepTime(sleepTime);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>スリープ時間変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            0 秒に設定すると連続スリープとなります。\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"end\">秒</InputAdornment>,\r\n            }}\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeSleepTime;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport TextField from '@mui/material/TextField';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\n\r\nimport actions from '../../../actions';\r\n\r\n//全角を半角に変換する関数\r\nconst hankaku2Zenkaku = (str) => {\r\n  return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {\r\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\r\n  });\r\n}\r\n\r\n//小数点以下の桁数を取得する関数\r\nconst getDecimalPointLength = (numberString) => {\r\n  const numbers = numberString.split('.');\r\n  return (numbers[1]) ? numbers[1].length : 0;\r\n};\r\n\r\nconst ChangeWorkTime = () => {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(false);\r\n  const [errorFlag, setErrorFlag] = useState(false);\r\n  const [emptyFlag, setEmptyFlag] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [workTime, setWorkTime] = useState(\"0000\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleAgree = () => {\r\n    setOpen(false);\r\n    dispatch(actions.im920.wired.executeCommands(\r\n      \"workTime\",\r\n      [\"ENWR\\r\", \"SWTM \" + workTime + \"\\r\", \"DSWR\\r\", \"RWTM\\r\"],\r\n    ));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setText(event.target.value);\r\n    const text = hankaku2Zenkaku(event.target.value);\r\n    const number = parseFloat(text);\r\n    let errorFlag = false;\r\n    for (let i = 0; i < text.length; i++) {\r\n      const n = parseInt(text.charAt(i));\r\n      if (text.charAt(i) !== \".\" && Number.isNaN(n)) {\r\n        errorFlag = true;\r\n      }\r\n    }\r\n    if (text.length === 0) {\r\n      setEmptyFlag(true);\r\n      setErrorFlag(false);\r\n      setErrorMessage(\"\");\r\n    }\r\n    else if (number < 0) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"マイナス値は設定できません\");\r\n    }\r\n    else if (number > 656) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"最大656秒です\");\r\n    }\r\n    else if (errorFlag) {\r\n      setErrorFlag(true);\r\n      setErrorMessage(\"0～656の小数を10進数で入力してください\");\r\n    }\r\n    else {\r\n      if (getDecimalPointLength(text) > 2) {\r\n        setErrorMessage(\"小数点以下２桁までしか反映されません\");\r\n      }\r\n      else {\r\n        setErrorMessage(\"\");\r\n      }\r\n      setEmptyFlag(false);\r\n      setErrorFlag(false);\r\n      const number2 = Math.round(number / 0.01001);\r\n      const workTime = ('0000' + number2.toString(16).toUpperCase()).substr(-4);\r\n      setWorkTime(workTime);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => setOpen(true)}>\r\n        変更\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <DialogTitle>間欠動作時間変更</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            10.01 ミリ秒単位で反映されます\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={handleChange}\r\n            error={errorFlag}\r\n            helperText={errorMessage}\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"end\">秒</InputAdornment>,\r\n            }}\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} variant=\"contained\">\r\n            キャンセル\r\n          </Button>\r\n          <Button\r\n            disabled={errorFlag || emptyFlag}\r\n            onClick={handleAgree}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            変更\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default ChangeWorkTime;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { makeStyles } from '@mui/styles';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport actions from '../../actions';\r\nimport DeleteRecieveIds from './Dialogs/DeleteRecieveIds';\r\nimport AddRecieveId from './Dialogs/AddRecieveId';\r\nimport ChangeNodeNumber from './Dialogs/ChangeNodeNumber';\r\nimport ChangeChannel from './Dialogs/ChangeChannel';\r\nimport ChangePower from './Dialogs/ChangePower';\r\nimport ChangeRate from './Dialogs/ChangeRate';\r\nimport ChangeSleepTime from './Dialogs/ChangeSleepTime';\r\nimport ChangeWorkTime from './Dialogs/ChangeWorkTime';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  tableContainer: {\r\n    maxWidth: '500px',\r\n    maxHeight: '100%',\r\n    overflowY: 'scroll',\r\n  },\r\n  table: {\r\n    maxWidth: '600px',\r\n    margin: '0 auto 50px auto',\r\n  },\r\n  tableCell: {\r\n    minWidth: '0',\r\n    maxWidth: '300px',\r\n    wordBreak: 'break-all',\r\n    textAlign: 'left',\r\n  },\r\n  th: {\r\n    textAlign: 'right',\r\n  },\r\n}));\r\n\r\nconst SerialWiredInfomation = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const deviceId = useSelector(state => state.im920.wired.deviceId);\r\n  const nodeNumber = useSelector(state => state.im920.wired.nodeNumber);\r\n  const recieveIds = useSelector(state => state.im920.wired.recieveIds);\r\n  const channelNumber = useSelector(state => state.im920.wired.channelNumber);\r\n  const RSSI = useSelector(state => state.im920.wired.RSSI);\r\n  const sendPower = useSelector(state => state.im920.wired.sendPower);\r\n  const wirelessRate = useSelector(state => state.im920.wired.wirelessRate);\r\n  const version = useSelector(state => state.im920.wired.version);\r\n  const sleepTime = useSelector(state => state.im920.wired.sleepTime);\r\n  const workTime = useSelector(state => state.im920.wired.workTime);\r\n  return (\r\n    <div className={classes.tableContainer}>\r\n      <Table className={classes.table}>\r\n        <TableBody>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">ID：</TableCell>\r\n            <TableCell colSpan={2}><div className={classes.tableCell}>{deviceId}</div></TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell rowSpan={2} component=\"th\" align=\"right\">受信対象のID：</TableCell>\r\n            <TableCell rowSpan={2}><div className={classes.tableCell}>{recieveIdsConverter(recieveIds)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <AddRecieveId />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell align=\"right\">\r\n              <DeleteRecieveIds />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">ノード番号：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{nodeNumber}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeNodeNumber />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">無線チャンネル：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{channelConverter(channelNumber)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeChannel />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">RSSI値(電波強度)：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{parseInt(RSSI, 16)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                onClick={() => dispatch(actions.im920.wired.executeCommands(\"RSSI\", [\"RDRS\\r\"]))}\r\n              >\r\n                再計測\r\n              </Button>\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">送信出力：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{sendPowerConverter(sendPower)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangePower />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">無線通信速度：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{wirelessRateConverter(wirelessRate)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeRate />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">スリープ時間：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{sleepTimeConverter(sleepTime)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeSleepTime />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">間欠動作時間：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{workTimeConverter(workTime)}</div></TableCell >\r\n            <TableCell align=\"right\">\r\n              <ChangeWorkTime />\r\n            </TableCell >\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell component=\"th\" align=\"right\">製品バージョン：</TableCell>\r\n            <TableCell><div className={classes.tableCell}>{version}</div></TableCell >\r\n            <TableCell align=\"right\"></TableCell >\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\nexport default SerialWiredInfomation;\r\n\r\nconst recieveIdsConverter = (array) => {\r\n  if (!Array.isArray(array)) {\r\n    return [];\r\n  }\r\n  return array.map((recieveId, index) =>\r\n    <span key={index} style={{ display: 'inline-block' }}>\r\n      {recieveId ? recieveId : null},\r\n    </span>\r\n  );\r\n}\r\n\r\nconst workTimeConverter = (string) => {\r\n  const workTime = parseInt(string, 16) * 0.01001;\r\n  return workTime.toFixed(3) + \"秒\";\r\n}\r\n\r\nconst sleepTimeConverter = (string) => {\r\n  const sleepTime = parseInt(string, 16);\r\n  if (sleepTime === 0) {\r\n    return \"連続\";\r\n  }\r\n  else {\r\n    return sleepTime + \"秒\";\r\n  }\r\n}\r\n\r\nconst wirelessRateConverter = (wirelessRate) => {\r\n  if (wirelessRate === \"1\") {\r\n    return \"高速モード\";\r\n  }\r\n  else if (wirelessRate === \"2\") {\r\n    return \"長距離モード\";\r\n  }\r\n  else {\r\n    return \"エラー\";\r\n  }\r\n}\r\n\r\nconst sendPowerConverter = (sendPower) => {\r\n  if (sendPower === \"1\") {\r\n    return \"-10dBm (0.1mW)\";\r\n  }\r\n  else if (sendPower === \"2\") {\r\n    return \"0dBm (1mW)\";\r\n  }\r\n  else if (sendPower === \"3\") {\r\n    return \"10dBm (10mW)\";\r\n  }\r\n  else {\r\n    return \"エラー\";\r\n  }\r\n}\r\n\r\nconst channelConverter = (channelNumber) => {\r\n  if (channelNumber === \"01\") {\r\n    return \"01 (920.6MHz)\";\r\n  }\r\n  else if (channelNumber === \"02\") {\r\n    return \"02 (920.8MHz)\";\r\n  }\r\n  else if (channelNumber === \"03\") {\r\n    return \"03 (921.0MHz)\";\r\n  }\r\n  else if (channelNumber === \"04\") {\r\n    return \"04 (921.2MHz)\";\r\n  }\r\n  else if (channelNumber === \"05\") {\r\n    return \"05 (921.4MHz)\";\r\n  }\r\n  else if (channelNumber === \"06\") {\r\n    return \"06 (921.6MHz) 非推奨\";\r\n  }\r\n  else if (channelNumber === \"07\") {\r\n    return \"07 (921.8MHz)\";\r\n  }\r\n  else if (channelNumber === \"08\") {\r\n    return \"08 (922.0MHz)\";\r\n  }\r\n  else if (channelNumber === \"09\") {\r\n    return \"09 (922.2MHz)\";\r\n  }\r\n  else if (channelNumber === \"10\") {\r\n    return \"10 (922.4MHz)\";\r\n  }\r\n  else if (channelNumber === \"11\") {\r\n    return \"11 (922.6MHz)\";\r\n  }\r\n  else if (channelNumber === \"12\") {\r\n    return \"12 (922.8MHz)\";\r\n  }\r\n  else if (channelNumber === \"13\") {\r\n    return \"13 (923.0MHz)\";\r\n  }\r\n  else if (channelNumber === \"14\") {\r\n    return \"14 (923.2MHz)\";\r\n  }\r\n  else if (channelNumber === \"15\") {\r\n    return \"15 (923.4MHz)\";\r\n  }\r\n  else {\r\n    return \"エラー\";\r\n  }\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\n\r\nimport Setting from './Setting';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  closeButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst SettingDrawer = () => {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    \"serial-0\": false,\r\n  });\r\n  const toggleDrawer = (anchor, open) => (event) => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setState({ ...state, [anchor]: open });\r\n  };\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        onClick={toggleDrawer(\"serial-0\", true)}\r\n        size=\"small\"\r\n      >\r\n        <SettingsIcon />\r\n      </IconButton >\r\n      <Drawer anchor=\"right\" open={state[\"serial-0\"]} onClose={toggleDrawer(\"serial-0\", false)}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" className={classes.closeButton} color=\"inherit\" onClick={toggleDrawer(\"serial-0\", false)}>\r\n              <ChevronRightIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              無線モジュールの設定\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Setting />\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\nexport default SettingDrawer;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { makeStyles } from '@mui/styles';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport actions from '../../actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  connectButton: {\r\n    backgroundColor: '#0c0',\r\n    color: '#fff',\r\n    '&:hover': {\r\n      backgroundColor: '#0d0',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ConnectButton = () => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const serialConnectFlag = useSelector(state => state.serial.connectFlag);\r\n  const im920ConnectFlag = useSelector(state => state.im920.wired.connectFlag);\r\n  if (serialConnectFlag && im920ConnectFlag) {\r\n    return (\r\n      <Button\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={() => dispatch(actions.im920.wired.disconnect())}\r\n      >\r\n        切断\r\n      </Button>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <Button\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        className={classes.connectButton}\r\n        onClick={() => dispatch(actions.im920.wired.connect())}\r\n      >\r\n        接続\r\n      </Button>\r\n    );\r\n  }\r\n}\r\nexport default ConnectButton","import React from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    background: {\r\n        background: 'black',\r\n        color: 'white',\r\n        height: '60vh',\r\n        minWidth: '300px',\r\n        overflowY: 'scroll',\r\n        padding: '10px',\r\n    },\r\n    left: {\r\n        textAlign: 'left',\r\n    },\r\n    right: {\r\n        textAlign: 'right',\r\n    },\r\n    error: {\r\n        color: 'red',\r\n    },\r\n}));\r\n\r\nconst SerialConsole = () => {\r\n    const serialCommand = useSelector(state => state.serialCommand);\r\n    const commands = serialCommand.commands;\r\n    const progress = serialCommand.commandProgress;\r\n    const errorMessages = serialCommand.errorMessages;\r\n    const classes = useStyles();\r\n\r\n    const ConsoleLists = [];\r\n\r\n    for (let i = 0; (i < progress + 1) && (i < commands.length); i++) {\r\n        const sendData = commands[i].sendData;\r\n        ConsoleLists.push(\r\n            <div key={\"sendData-\" + i} className={classes.left}>\r\n                {sendData}\r\n            </div>\r\n        );\r\n        const recieveDatas = commands[i].recieveDatas;\r\n        for (let j = 0; j < recieveDatas.length; j++) {\r\n            ConsoleLists.push(\r\n                <div key={\"recieveData-\" + i + \"-\" + j} className={classes.right}>\r\n                    {recieveDatas[j]}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    for (let i = 0; i < errorMessages.length; i++) {\r\n        ConsoleLists.push(\r\n            <div key={\"errorMessage-\" + i} className={classes.error}>\r\n                {errorMessages[i]}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={classes.background}>\r\n            {ConsoleLists}\r\n        </div>\r\n    );\r\n}\r\nexport default SerialConsole;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport actions from '../../actions';\r\nimport SerialConsole from '../Serial/Console';\r\n\r\nconst Connect = () => {\r\n  const dispatch = useDispatch();\r\n  const isDialogOpen = useSelector(state => state.serialCommand.isDialogOpen);\r\n\r\n  const handleClose = () => {\r\n    dispatch(actions.serialCommand.closeDialog());\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={isDialogOpen}\r\n      onClose={handleClose}\r\n    >\r\n      <DialogTitle>コマンド実行中……</DialogTitle>\r\n      <SerialConsole />\r\n      <DialogActions>\r\n        <Button onClick={handleClose} variant=\"contained\">\r\n          閉じる\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\nexport default Connect;\r\n","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nexport const Tree = ({ children, src, name, actionButtons, leftCableName }) => {\r\n    const classes = useStyles();\r\n    if (!children) {\r\n        children = [];\r\n    }\r\n    else if (!Array.isArray(children)) {\r\n        children = [children];\r\n    }\r\n    const connectFlags = children.map(child => child.props.connectFlag);\r\n    let connectTop = connectFlags.length;\r\n    for (let i = connectFlags.length - 1; i >= 0; i--) {\r\n        if (connectFlags[i]) {\r\n            connectTop = i;\r\n        }\r\n    }\r\n    let connectBottom = -1;\r\n    for (let i = 0; i < connectFlags.length; i++) {\r\n        if (connectFlags[i]) {\r\n            connectBottom = i;\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.tree}>\r\n            <div className={classes.parent}>\r\n                <div className={classes.nodeWrapper}>\r\n                    <div className={classes.grayBox}>\r\n                        <div className={classes.name}>\r\n                            {name}\r\n                        </div>\r\n                        <img src={src} className={classes.nodeImg} alt=\"\" />\r\n                        <div className={classes.action}>\r\n                            {actionButtons}\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        className={classes.nodeCable}\r\n                        style={{\r\n                            borderBottom: (connectBottom !== -1) ? '6px solid #0c0' : '6px solid #eee',\r\n                        }}\r\n                    >\r\n                        <div className={classes.leftCableName}>\r\n                            {leftCableName}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.children}>\r\n                {\r\n                    connectFlags.map((connectFlag, index) =>\r\n                        <Child\r\n                            key={index}\r\n                            connectFlag={connectFlag}\r\n                            topConnectFlag={(index >= connectTop)}\r\n                            bottomConnectFlag={(index < connectBottom)}\r\n                            bottomFlag={(index === connectFlags.length - 1)}\r\n                            connectButton={children[index].props.connectButton}\r\n                        >\r\n                            {children[index]}\r\n                        </Child>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Child = ({ children, connectFlag, topConnectFlag, bottomConnectFlag, bottomFlag, connectButton }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            {\r\n                bottomFlag ?\r\n                    <div className={classes.stickyWrapper2}>\r\n                        <div className={classes.cableWhite} />\r\n                    </div>\r\n                    :\r\n                    <div className={classes.stickyWrapper}>\r\n                        <div\r\n                            className={classes.cableAbsolute}\r\n                            style={{\r\n                                borderLeft: bottomConnectFlag ? '6px solid #0c0' : '6px solid #eee',\r\n                            }}\r\n                        />\r\n                    </div>\r\n            }\r\n            <div className={classes.child}>\r\n                <div>\r\n                    <div className={classes.cableLeftWrapper}>\r\n                        <div\r\n                            className={classes.cableLeft}\r\n                            style={{\r\n                                borderLeft: bottomFlag ? 'none' :\r\n                                    topConnectFlag ? '6px solid #0c0' : '6px solid #eee',\r\n                                background: '#fff',\r\n                                color: connectFlag ? '#0c0' : '#ccc',\r\n                            }}\r\n                        >\r\n                            <div\r\n                                style={{\r\n                                    borderTop: connectFlag ? '6px solid #0c0' : '6px solid #eee',\r\n                                }}\r\n                            />\r\n                            <div className={classes.connectIcon}>\r\n                                {connectFlag ? <CheckIcon /> : <CloseIcon />}\r\n                            </div>\r\n                            <div className={classes.connectButton}>\r\n                                {connectButton}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {children}\r\n            </div >\r\n        </>\r\n    );\r\n}\r\n\r\nconst PADDINNG_TOP = 60;\r\nconst BOX_SIZE = 40;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    //======================================\r\n    //\r\n    tree: {\r\n        display: 'flex',\r\n    },\r\n    parent: {\r\n        paddingTop: PADDINNG_TOP + 'px',\r\n    },\r\n    //======================================\r\n    // 横並び\r\n    children: {\r\n        position: 'relative',\r\n    },\r\n    //======================================\r\n    //\r\n    nodeWrapper: {\r\n        height: (BOX_SIZE * 2 + 30) + 'px',\r\n        display: 'flex',\r\n        position: 'sticky',\r\n        top: PADDINNG_TOP + 'px',\r\n    },\r\n    grayBox: {\r\n        position: 'relative',\r\n        minWidth: '0',\r\n        width: (BOX_SIZE * 2) + 'px',\r\n        maxWidth: (BOX_SIZE * 2) + 'px',\r\n        height: (BOX_SIZE * 2) + 'px',\r\n        background: '#eee',\r\n        borderRadius: '10px',\r\n        textAlign: 'center',\r\n    },\r\n    nodeImg: {\r\n        paddingTop: '5%',\r\n        width: '90%',\r\n    },\r\n    nodeCable: {\r\n        minWidth: '20px',\r\n        position: 'relative',\r\n        height: BOX_SIZE + 'px',\r\n    },\r\n    leftCableName: {\r\n        position: 'relative',\r\n        top: (BOX_SIZE - 20) + 'px',\r\n        paddingLeft: '5px',\r\n        textAlign: 'left',\r\n        color: '#aaa',\r\n        fontSize: '14px',\r\n        width: 'max-content'\r\n    },\r\n    name: {\r\n        position: 'absolute',\r\n        left: '-50vh',\r\n        right: '-50vh',\r\n        bottom: (BOX_SIZE * 2) + 'px',\r\n        textAlign: 'center',\r\n        minWidth: '100%',\r\n        zIndex: '-1',\r\n    },\r\n    connectIcon: {\r\n        position: 'absolute',\r\n        top: '5px',\r\n        textAlign: 'center',\r\n        minWidth: '100%',\r\n    },\r\n    connectButton: {\r\n        position: 'absolute',\r\n        top: '-35px',\r\n        textAlign: 'center',\r\n        minWidth: '100%',\r\n    },\r\n    action: {\r\n        position: 'absolute',\r\n        top: (BOX_SIZE * 2) + 'px',\r\n        textAlign: 'right',\r\n        minWidth: '100%',\r\n        width: 'max-content',\r\n    },\r\n    child: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        boxSizing: 'border-box',\r\n        width: 'min-content',\r\n    },\r\n    cableLeftWrapper: {\r\n        position: 'sticky',\r\n        top: '0px',\r\n        width: '100px',\r\n        paddingBottom: ((BOX_SIZE * 2) + PADDINNG_TOP) + 'px',\r\n    },\r\n    cableLeft: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: (BOX_SIZE + PADDINNG_TOP) + 'px',\r\n        height: '120vh',\r\n    },\r\n    //======================================\r\n    //\r\n    stickyWrapper: {\r\n        position: 'sticky',\r\n        top: '0',\r\n        zIndex: '10',\r\n    },\r\n    cableAbsolute: {\r\n        position: 'absolute',\r\n        top: (BOX_SIZE + PADDINNG_TOP + 6) + 'px',\r\n        height: '120vh',\r\n        boxSizing: 'border-box',\r\n    },\r\n    //======================================\r\n    //\r\n    stickyWrapper2: {\r\n        position: 'sticky',\r\n        top: '0',\r\n        zIndex: '10',\r\n    },\r\n    cableWhite: {\r\n        position: 'absolute',\r\n        top: (BOX_SIZE + PADDINNG_TOP + 6) + 'px',\r\n        height: '120vh',\r\n        boxSizing: 'border-box',\r\n        borderLeft: '6px solid #fff',\r\n    },\r\n    //======================================\r\n    //\r\n}));","export default __webpack_public_path__ + \"static/media/pc.7962dd73.png\";","export default __webpack_public_path__ + \"static/media/solar.1102d478.png\";","export default __webpack_public_path__ + \"static/media/wifi.6af898c6.png\";","export default __webpack_public_path__ + \"static/media/sigfox.9c60e923.png\";","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport IM920SettingDrawer from '../components/IM920/SettingDrawer';\r\nimport IM920ConnectButton from '../components/IM920/ConnectButton';\r\nimport IM920ConnectDialog from '../components/IM920/Connect';\r\nimport { Tree } from '../components/TreeDiagram';\r\nimport pcImg from '../img/pc.png'\r\nimport solarImg from '../img/solar.png'\r\nimport antennaImg from '../img/antenna.png'\r\nimport wifiImg from '../img/wifi.png'\r\n//import ethernetImg from '../img/ethernet.png'\r\nimport sigfoxImg from '../img/sigfox.png'\r\nimport internetImg from '../img/internet.png'\r\n//import groupImg from '../img/group.png'\r\n//import accountImg from '../img/account.png'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    padding: '0 30px 0 30px',\r\n  },\r\n}));\r\n\r\nconst Diagram = () => {\r\n  const classes = useStyles();\r\n  const serialConnectFlag = useSelector(state => state.serial.connectFlag);\r\n  const im920ConnectFlag = useSelector(state => state.im920.wired.connectFlag);\r\n  const wiredConnectFlag = serialConnectFlag && im920ConnectFlag;\r\n  let recieveIds = useSelector(state => state.im920.wired.recieveIds);\r\n  const iotDatas = useSelector(state => state?.iotDatas);\r\n  let sigfoxConnectFlag = false;\r\n  const now = new Date();\r\n  for (const data of iotDatas) {\r\n    const time = now.getTime() - data?.timestamp;\r\n    if (time > 180000) {\r\n      //3分以上通信が来ない\r\n      continue;\r\n    }\r\n    if (data?.type === \"SigFox\") {\r\n      sigfoxConnectFlag = true;\r\n    }\r\n  }\r\n  if (!Array.isArray(recieveIds)) {\r\n    recieveIds = [];\r\n  }\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <IM920ConnectDialog />\r\n      <Tree\r\n        src={internetImg}\r\n      >\r\n        <Tree\r\n          src={pcImg}\r\n          name=\"パソコン\"\r\n          connectFlag={false}\r\n          leftCableName=\"USB\"\r\n        >\r\n          <Tree\r\n            src={antennaImg}\r\n            name=\"無線受信機\"\r\n            actionButtons={wiredConnectFlag ? <IM920SettingDrawer /> : null}\r\n            connectFlag={wiredConnectFlag}\r\n            connectButton={<IM920ConnectButton />}\r\n          >\r\n            {\r\n              recieveIds.map(recieveId =>\r\n                <Tree\r\n                  src={solarImg}\r\n                  name={recieveId}\r\n                  connectFlag={false}\r\n                />\r\n              )\r\n            }\r\n          </Tree>\r\n        </Tree>\r\n        <Tree\r\n          src={sigfoxImg}\r\n          name=\"Sigfox\"\r\n          connectFlag={true}\r\n        >\r\n          <Tree src={solarImg} name={\"0072E4ED\"} connectFlag={sigfoxConnectFlag} />\r\n        </Tree>\r\n        <Tree\r\n          src={wifiImg}\r\n          name=\"WiFiルーター\"\r\n          connectFlag={true}\r\n        >\r\n        </Tree>\r\n        {/*\r\n        <Tree\r\n          src={ethernetImg}\r\n          name=\"有線LAN\"\r\n          connectFlag={true}\r\n        >\r\n        </Tree>\r\n        */}\r\n      </Tree>\r\n    </div>\r\n  );\r\n}\r\nexport default Diagram","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAYAAAC+ZpjcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAF4RJREFUeNrs3U9sHXViwPEZ2zEEJ8FOClu62cWsFnW37B9vLz30gKlUCZVKSY97airBoSfgUE60gLS9ZFXlsL1UICXbQ+lhW1ppqSq12uRSSis1GNYsLC1KHP4kOInjOIn/xLFfZ4ydxc5zPHn+zZt/n480eub5eWb8ezb+Zt7PP8cRsKLVag0mNyMb7j4dx/FpowMAkD2qhpPtSLKdam3uUrIdTbZRIwYAcPuweq11544n24gRBABYH1eHVq9KdezylSsvGkkAgM/j6mgrgDOfftr64Ssvv5Zsg0YVgI16DAFNiqvk5lDAXR5MtuMiCwCBRVPj6kjguFqTzsc6boQBEFg0La7SK03P5HiIkR++8vIRIw2AwKIpcZW+fHe0C4d6JomsUSMOgMCiCdIrS92aI3XUfCwABBa1lq51FeUz72oz6fGeMfIACCzq7IUCjvm0q1gACCxqaXXu1cECDl3UcQEQWJC7g1H35l5t9LThBxBYUEcHCjx2umzDsKcAQGBB3Rxs+PEBEFgQTqvVGi3BaTzqmQAQWFAnI84BAIEFYZVhmYRhTwOAwII6+W4ZTsKfzgEQWFAnFvoEQGABAAgsAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAAASWIQAACKvPEEAUTU5N3Xz72uxcNDs3F+3Y0RcN7tlz8/6h3buT+3YYLAAEFnzRtSScJi9ORdMzM9GlKzMrb9+poSS6lpeXDSYAAovmSq9OfXLus+iTzz6LriaBtZX0KtXQnt3R7Oxc28dfSuJs4fqCgQVAYNE8pz7+JDr53nvR4uJi24D60t590b3JbX/63xle/kuvel2/cSM6f3EqOnP2bHJ7wSADILBolnQe1VpcpS/rPbT/y9H9e/eum1d1J9Y+Lt3Hnl0D0bv/+0uDDIDAolnu27c3+p2d34n2f+l+k9MBEFgQQnqlKdprHADoPutgAQAILAAAgQUAILAAABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFACCwAAAQWAAAAgsAQGABACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAEBgAQAgsAAABBYAgMACAEBgAQAILAAAgQUAgMACABBYAAACCwAAgQUAILAAAAQWAIDAAgBAYAEACCwAAIEFAIDAAgAQWAAAAgsAAIEFACCwAAAEFgAAAgsAQGABAAgsAACBBQCAwAIAEFgAAAILAACBBQAgsAAABBYAAAILAEBgAQAILAAAgQUAgMACABBYAAACCwAAgQUAILAAAAQWAAACCwBAYAEACCwAAAQWAIDAAgAQWAAAAgsAAIEFACCwAAAEFgAAAgsAQGABAAgsAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEACCwAAAQWAIDAAgAQWAAACCwAAIEFACCwAAAQWAAAAgsAQGABAAgsAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAAEFgAAAILAEBgAQAgsAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFACCwAAAQWAAAAgsAQGABACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAEBgAQAgsAAABBYAgMACAEBgAQAILAAAgQUAgMACABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFAIDAAgAQWAAAAgsAAIEFACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAACBBQAgsAAABBYAAAILAEBgAQAILAAAgQUAgMACABBYAAACCwAAgQUAILAAAAQWAAACCwBAYAEACCwAAAQWAIDAAgAQWAAAAgsAAIEFACCwAAAEFgAAAgsAQGABAAgsAAAEFgCAwAIAEFgAAALLEAAACCwAAIEFACCwAAAQWAAAAgsAQGABACCwAAAEFgCAwAIAQGABAAgsAACBBQAgsAAAEFgAAAILAEBgAQAgsAAABBYAgMACAEBgAQAILAAAgQUAgMACABBYAAACCwBAYAEAILAAAAQWAIDAAgBAYAEACCwAAIEFAIDAAgAQWAAAAgsAAIEFACCwAAAEFgCAwAIAQGABAAgsAACBBQCAwAIAEFgAAAILAACBBQAgsAAABBYAAAILAEBgAQAILAAAgQUAgMACABBY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\"","import React from \"react\";\r\nimport ExcelJS from \"exceljs\";\r\nimport Fab from '@mui/material/Fab';\r\nimport FileDownloadIcon from '@mui/icons-material/FileDownload';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport axios from 'axios';\r\n\r\nconst downloadFunc = async () => {\r\n    try {\r\n        const res = await axios.get(\"https://tec-log2.azurewebsites.net/api/getSolarAll?code=oNgnwUM00BM2KCAt2LDb/yccjS9GNs87MXFuk5aRrIPvSPRZpQ3ViQ==\");\r\n        console.log(res);\r\n        if (res.status === 200) {\r\n            return res.data;\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n    return null;\r\n};\r\n\r\nconst DownloadButton = ({\r\n    name = \"ダウンロード\",\r\n}) => {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handlerClickDownloadButton = async (e, format) => {\r\n        e.preventDefault();\r\n        setAnchorEl(null);\r\n\r\n        const datas = await downloadFunc();\r\n\r\n        if (!datas) {\r\n            alert(\"ダウンロード失敗\");\r\n            return;\r\n        }\r\n        if ((!Array.isArray(datas)) || (datas?.length === 0)) {\r\n            alert(\"データがありません\");\r\n            return;\r\n        }\r\n\r\n        const workbook = new ExcelJS.Workbook();\r\n        workbook.addWorksheet(\"sheet1\");\r\n        const worksheet = workbook.getWorksheet(\"sheet1\");\r\n\r\n        worksheet.columns = [];\r\n        const columns = [];\r\n        for (const key1 in datas[0]) {\r\n            if (datas[0][key1] instanceof Object) {\r\n                for (const key2 in datas[0][key1]) {\r\n                    columns.push({\r\n                        header: key1 + '_' + key2,\r\n                        key: key1 + '_' + key2,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                columns.push({\r\n                    header: key1,\r\n                    key: key1,\r\n                });\r\n            }\r\n        }\r\n        worksheet.columns = columns;\r\n\r\n        await worksheet.addRows(datas.map(data => {\r\n            const row = {};\r\n            for (const key1 in data) {\r\n                if (data[key1] instanceof Object) {\r\n                    for (const key2 in data[key1]) {\r\n                        row[key1 + '_' + key2] = data[key1][key2];\r\n                    }\r\n                }\r\n                else {\r\n                    row[key1] = data[key1];\r\n                }\r\n            }\r\n            return row;\r\n        }));\r\n\r\n        let uint8Array;\r\n        if (format === \"xlsx\") {\r\n            uint8Array = await workbook.xlsx.writeBuffer(); //xlsxの場合\r\n        }\r\n        else {\r\n            uint8Array = await workbook.csv.writeBuffer(); //csvの場合\r\n        }\r\n        const blob = new Blob([uint8Array], { type: \"application/octet-binary\" });\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        a.href = url;\r\n        a.download = \"sampleData.\" + format; //フォーマットによってファイル拡張子を変えている\r\n        a.click();\r\n        a.remove();\r\n    };\r\n    return (\r\n        <>\r\n            <Fab\r\n                variant=\"extended\"\r\n                onClick={handleClick}\r\n                sx={{\r\n                    position: 'absolute',\r\n                    bottom: 16,\r\n                    right: 16,\r\n                }}\r\n            >\r\n                <FileDownloadIcon sx={{ mr: 1 }} />\r\n                {name}\r\n            </Fab>\r\n\r\n            <Menu\r\n                id=\"demo-positioned-menu\"\r\n                aria-labelledby=\"demo-positioned-button\"\r\n                anchorEl={anchorEl}\r\n                open={open}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                <MenuItem\r\n                    onClick={(e) => handlerClickDownloadButton(e, \"csv\")}\r\n                >\r\n                    CSV\r\n                </MenuItem>\r\n                <MenuItem\r\n                    onClick={(e) => handlerClickDownloadButton(e, \"xlsx\")}\r\n                >\r\n                    Excel\r\n                </MenuItem>\r\n            </Menu>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DownloadButton;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Skeleton from '@mui/material/Skeleton';\r\n\r\nimport DownloadButton from '../components/DownloadButton';\r\n\r\nexport default function BasicTable() {\r\n    const iotDatas = useSelector(state => state?.iotDatas);\r\n    return (\r\n        <>\r\n            <Table sx={{ overflow: 'visible', minWidth: 'max-content', position: 'relative', }}>\r\n                <TableHead sx={{ background: '#eee', position: 'sticky', top: '48px', zIndex: '10', }}>\r\n                    <TableRow>\r\n                        <TableCell align=\"right\">日時</TableCell>\r\n                        <TableCell align=\"right\">製品名</TableCell>\r\n                        <TableCell align=\"right\">通信方式</TableCell>\r\n                        <TableCell align=\"right\">ソーラー電圧 [V]</TableCell>\r\n                        <TableCell align=\"right\">ソーラー電流 [mA]</TableCell>\r\n                        <TableCell align=\"right\">ソーラー電力 [mW]</TableCell>\r\n                        <TableCell align=\"right\">バッテリー残量 [%]</TableCell>\r\n                        <TableCell align=\"right\">気温 [℃]</TableCell>\r\n                        <TableCell align=\"right\">気圧 [hPa]</TableCell>\r\n                        <TableCell align=\"right\">湿度 [%]</TableCell>\r\n                        <TableCell align=\"right\">ガス抵抗 [mΩ]</TableCell>\r\n                        <TableCell align=\"right\">CO2</TableCell>\r\n                        <TableCell align=\"right\">紫外線</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {\r\n                        (iotDatas.length > 0) ?\r\n                            iotDatas.slice(0,).map((data) => <MyRow key={data.id} data={data} />)\r\n                            :\r\n                            [\r\n                                <MyLoadingRow key=\"load0\" />,\r\n                                <MyLoadingRow key=\"load1\" />,\r\n                                <MyLoadingRow key=\"load2\" />,\r\n                                <MyLoadingRow key=\"load3\" />,\r\n                                <MyLoadingRow key=\"load4\" />,\r\n                                <MyLoadingRow key=\"load5\" />,\r\n                                <MyLoadingRow key=\"load6\" />,\r\n                                <MyLoadingRow key=\"load7\" />,\r\n                                <MyLoadingRow key=\"load8\" />,\r\n                                <MyLoadingRow key=\"load9\" />,\r\n                                <MyLoadingRow key=\"load10\" />,\r\n                                <MyLoadingRow key=\"load11\" />,\r\n                                <MyLoadingRow key=\"load12\" />,\r\n                                <MyLoadingRow key=\"load13\" />,\r\n                                <MyLoadingRow key=\"load14\" />,\r\n                                <MyLoadingRow key=\"load15\" />,\r\n                                <MyLoadingRow key=\"load16\" />,\r\n                                <MyLoadingRow key=\"load17\" />,\r\n                                <MyLoadingRow key=\"load18\" />,\r\n                                <MyLoadingRow key=\"load19\" />,\r\n                            ]\r\n                    }\r\n                </TableBody>\r\n            </Table>\r\n            <DownloadButton />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst MyLoadingRow = ({ key }) => {\r\n    return (\r\n        <TableRow key={key}>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n            <TableCell>< Skeleton animation=\"wave\" /></TableCell>\r\n        </TableRow>\r\n    );\r\n\r\n}\r\n\r\nconst MyRow = ({ data }) => {\r\n    let dateString = data?.year;\r\n    dateString += '/';\r\n    dateString += ('00' + data?.month).slice(-2);\r\n    dateString += '/';\r\n    dateString += ('00' + data?.day).slice(-2);\r\n    dateString += '(';\r\n    dateString += data?.week;\r\n    dateString += ') ';\r\n    dateString += ('00' + data?.hour).slice(-2);\r\n    dateString += ':';\r\n    dateString += ('00' + data?.minutes).slice(-2);\r\n    dateString += ':';\r\n    dateString += ('00' + data?.seconds).slice(-2);\r\n    return (\r\n        <TableRow key={data.id}>\r\n            <TableCell align=\"right\">{dateString}</TableCell>\r\n            <TableCell align=\"right\">{data?.name}</TableCell>\r\n            <TableCell align=\"right\">{data?.type}</TableCell>\r\n            <TableCell align=\"right\">{data?.solar?.voltage?.toFixed(1)}</TableCell>\r\n            <TableCell align=\"right\">{data?.solar?.current?.toFixed(1)}</TableCell>\r\n            <TableCell align=\"right\">{data?.solar?.power?.toFixed(1)}</TableCell>\r\n            <TableCell align=\"right\">{data?.battery + '%'}</TableCell>\r\n            <TableCell align=\"right\">{data?.temperature}</TableCell>\r\n            <TableCell align=\"right\">{data?.pressure}</TableCell>\r\n            <TableCell align=\"right\">{data?.humidity + '%'}</TableCell>\r\n            <TableCell align=\"right\">{data?.gas}</TableCell>\r\n            <TableCell align=\"right\">{data?.co2}</TableCell>\r\n            <TableCell align=\"right\">{data?.uv}</TableCell>\r\n        </TableRow>\r\n    );\r\n\r\n}","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Container from '@mui/material/Container';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport { CopyBlock, a11yDark } from \"react-code-blocks\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        width: '100%',\r\n    },\r\n    table: {\r\n        width: '90%',\r\n        margin: '0 auto',\r\n    },\r\n    tableHead: {\r\n        background: '#eee',\r\n        position: 'sticky',\r\n        top: 0,\r\n    },\r\n    copyBlock: {\r\n        position: 'sticky',\r\n        top: 0,\r\n    },\r\n}));\r\n\r\n\r\nconst sample = {\r\n    year: 2022,\r\n    month: 10,\r\n    day: 14,\r\n    week: \"木\",\r\n    hour: 9,\r\n    minutes: 27,\r\n    seconds: 3,\r\n    timestamp: 1634172966,\r\n    name: \"乗った瞬間快適サンシェード\",\r\n    type: \"SigFox\",\r\n    location: {\r\n        name: \"福岡大学４号館１階\",\r\n        latitude: 33.55082284753141,\r\n        longitude: 130.3666567275178,\r\n        direction: \"北東\",\r\n        tilt: 30,\r\n    },\r\n    solar: {\r\n        voltage: 5,\r\n        current: 20,\r\n        power: 0.4,\r\n    },\r\n    battery: 70,\r\n    temperature: 20,\r\n    pressure: 10,\r\n    humidity: 30,\r\n    gas: 0,\r\n    co2: 0,\r\n    uv: 0,\r\n};\r\n\r\nconst ApiDocuments = () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Container>\r\n                <Box padding={3} />\r\n                <Typography variant=\"h4\">\r\n                    API ドキュメント\r\n                </Typography>\r\n                <Box padding={3} />\r\n                <Typography variant=\"h5\">\r\n                    URL\r\n                </Typography>\r\n                <Box padding={1} />\r\n                <CopyBlock\r\n                    text=\"https://tec-log2.azurewebsites.net/api/getSolarAll?code=oNgnwUM00BM2KCAt2LDb/yccjS9GNs87MXFuk5aRrIPvSPRZpQ3ViQ==\"\r\n                    language='plane'\r\n                    wrapLines\r\n                    theme={a11yDark}\r\n                />\r\n                <Box padding={3} />\r\n                <Typography variant=\"h5\">\r\n                    レスポンス\r\n                </Typography>\r\n                <Box padding={1} />\r\n                <Grid container>\r\n                    <Grid item xs={12} md={4}>\r\n                        <div className={classes.copyBlock}>\r\n                            <CopyBlock\r\n                                text={JSON.stringify(sample, null, 6)}\r\n                                language='javascript'\r\n                                wrapLines\r\n                                theme={a11yDark}\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={8}>\r\n                        <Table className={classes.table} aria-label=\"simple table\">\r\n                            <TableHead className={classes.tableHead}>\r\n                                <TableRow>\r\n                                    <TableCell>フィールド名</TableCell>\r\n                                    <TableCell>説明</TableCell>\r\n                                    <TableCell>単位</TableCell>\r\n                                    <TableCell>詳細</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                <TableRow>\r\n                                    <TableCell>year</TableCell>\r\n                                    <TableCell>年</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>month</TableCell>\r\n                                    <TableCell>月</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>day</TableCell>\r\n                                    <TableCell>日</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>week</TableCell>\r\n                                    <TableCell>曜日</TableCell>\r\n                                    <TableCell>日本語文字列</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>hour</TableCell>\r\n                                    <TableCell>時</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>minutes</TableCell>\r\n                                    <TableCell>分</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>seconds</TableCell>\r\n                                    <TableCell>秒</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>timestamp</TableCell>\r\n                                    <TableCell>タイムスタンプ</TableCell>\r\n                                    <TableCell>[ms]</TableCell>\r\n                                    <TableCell>1970年1月1日(UTC)からの経過秒数</TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>name</TableCell>\r\n                                    <TableCell>製品名</TableCell>\r\n                                    <TableCell>右記の何れかの文字列</TableCell>\r\n                                    <TableCell>\r\n                                        \"外でも涼しく過ごせるミスト\"<br />\r\n                                        \"換気を促すCO2チェッカー\"<br />\r\n                                        \"乗った瞬間快適サンシェード\"\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>type</TableCell>\r\n                                    <TableCell>通信方式</TableCell>\r\n                                    <TableCell>右記の何れかの文字列</TableCell>\r\n                                    <TableCell>\r\n                                        \"IM920\"<br />\r\n                                        \"WiFi\"<br />\r\n                                        \"SigFox\"\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>location.name</TableCell>\r\n                                    <TableCell>設置場所</TableCell>\r\n                                    <TableCell>日本語文字列</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>location.latitude</TableCell>\r\n                                    <TableCell>緯度</TableCell>\r\n                                    <TableCell>[ °]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>location.longitude</TableCell>\r\n                                    <TableCell>経度</TableCell>\r\n                                    <TableCell>[ °]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>location.direction</TableCell>\r\n                                    <TableCell>ソーラーパネルの方角</TableCell>\r\n                                    <TableCell>日本語文字列</TableCell>\r\n                                    <TableCell>８方位の何れか（例：北東）</TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>location.tilt</TableCell>\r\n                                    <TableCell>ソーラーパネルの傾斜角度</TableCell>\r\n                                    <TableCell>[ °]</TableCell>\r\n                                    <TableCell>\r\n                                        水平に設置した場合は 0<br />\r\n                                        垂直に設置した場合は 90\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>solar.voltage</TableCell>\r\n                                    <TableCell>ソーラーパネルの電圧</TableCell>\r\n                                    <TableCell>[V]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>solar.current</TableCell>\r\n                                    <TableCell>ソーラーパネルの電流</TableCell>\r\n                                    <TableCell>[mA]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>solar.power</TableCell>\r\n                                    <TableCell>ソーラーパネルの電力</TableCell>\r\n                                    <TableCell>[W]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>battery</TableCell>\r\n                                    <TableCell>バッテリー残量</TableCell>\r\n                                    <TableCell>[%]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>temperature</TableCell>\r\n                                    <TableCell>気温</TableCell>\r\n                                    <TableCell>[℃]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>pressure</TableCell>\r\n                                    <TableCell>気圧</TableCell>\r\n                                    <TableCell>[hPa]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>humidity</TableCell>\r\n                                    <TableCell>湿度</TableCell>\r\n                                    <TableCell>[%]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>gas</TableCell>\r\n                                    <TableCell>ガス抵抗</TableCell>\r\n                                    <TableCell>[mΩ]</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>co2</TableCell>\r\n                                    <TableCell>二酸化炭素濃度</TableCell>\r\n                                    <TableCell>[ppm]</TableCell>\r\n                                    <TableCell>\"換気を促すCO2チェッカー\"<br />のみ</TableCell>\r\n                                </TableRow>\r\n                                <TableRow>\r\n                                    <TableCell>uv</TableCell>\r\n                                    <TableCell>紫外線量</TableCell>\r\n                                    <TableCell>[mW/cm<sup>2</sup>]</TableCell>\r\n                                    <TableCell>\"換気を促すCO2チェッカー\"<br />のみ</TableCell>\r\n                                </TableRow>\r\n                            </TableBody>\r\n                        </Table>\r\n                    </Grid>\r\n                </Grid>\r\n                <Box padding={3} />\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\nexport default ApiDocuments","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Container from '@mui/material/Container';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport { CopyBlock, a11yDark } from \"react-code-blocks\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        width: '100%',\r\n    },\r\n    table: {\r\n        width: '90%',\r\n        margin: '0 auto',\r\n    },\r\n    tableHead: {\r\n        background: '#eee',\r\n        position: 'sticky',\r\n        top: 0,\r\n    },\r\n    copyBlock: {\r\n        position: 'sticky',\r\n        top: 0,\r\n    },\r\n    button: {\r\n        textTransform: 'none',\r\n    }\r\n}));\r\n\r\nconst ColabSample = () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Container>\r\n                <Box padding={3} />\r\n                <Typography variant=\"h4\">\r\n                    サンプルプログラム\r\n                </Typography>\r\n                <Box padding={3} />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    href=\"https://colab.research.google.com/\"\r\n                    color=\"primary\"\r\n                    target=\"_blank\"\r\n                    className={classes.button}\r\n                >\r\n                    Google Colaboratory を起動\r\n                </Button>\r\n                <Box padding={3} />\r\n                JSONデータを表示するPythonプログラム\r\n                <CopyBlock\r\n                    language='python'\r\n                    wrapLines\r\n                    theme={a11yDark}\r\n                    text='import requests\r\nresponse = requests.get(\"https://tec-log2.azurewebsites.net/api/getSolarAll?code=oNgnwUM00BM2KCAt2LDb/yccjS9GNs87MXFuk5aRrIPvSPRZpQ3ViQ==\")\r\nprint( response.json() )'\r\n                />\r\n                <Box padding={3} />\r\n                ４回前の計測データの気温を表示するPythonプログラム\r\n                <CopyBlock\r\n                    language='python'\r\n                    wrapLines\r\n                    theme={a11yDark}\r\n                    text='import requests\r\nresponse = requests.get(\"https://tec-log2.azurewebsites.net/api/getSolarAll?code=oNgnwUM00BM2KCAt2LDb/yccjS9GNs87MXFuk5aRrIPvSPRZpQ3ViQ==\")\r\ntemp = response.json()[4][\"temperature\"]\r\nprint(temp)'\r\n                />\r\n                <Box padding={3} />\r\n                14回前の計測データの発電量（電力）を表示するPythonプログラム\r\n                <CopyBlock\r\n                    language='python'\r\n                    wrapLines\r\n                    theme={a11yDark}\r\n                    text='import requests\r\nresponse = requests.get(\"https://tec-log2.azurewebsites.net/api/getSolarAll?code=oNgnwUM00BM2KCAt2LDb/yccjS9GNs87MXFuk5aRrIPvSPRZpQ3ViQ==\")\r\npower = response.json()[14][\"solar\"][\"power\"]\r\nprint(power)'\r\n                />\r\n                <Box padding={3} />\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\nexport default ColabSample","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { makeStyles } from '@mui/styles';\r\nimport Button from '@mui/material/Button';\r\nimport Container from '@mui/material/Container';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nimport actions from '../actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nconst ColabSample = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const [mist, setMist] = useState(useSelector(state => state.im920.mist.mist));\r\n    const [led, setLed] = useState(useSelector(state => state.im920.mist.led));\r\n    const [music, setMusic] = useState(useSelector(state => state.im920.mist.music));\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Container>\r\n                <Button\r\n                    onClick={() => dispatch(actions.im920.mist.send(mist, led, music))}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    sx={{ position: \"sticky\", top: \"78px\", zIndex: \"10\" }}\r\n                >\r\n                    保存\r\n                </Button>\r\n                <Box padding={5} />\r\n                <Typography variant=\"h6\">\r\n                    ミスト\r\n                </Typography>\r\n                <RadioGroup\r\n                    value={mist}\r\n                    onChange={(event) => setMist(event.target.value)}\r\n                >\r\n                    <FormControlLabel control={<Radio />} value=\"0\" label=\"常時OFF\" />\r\n                    <FormControlLabel control={<Radio />} value=\"1\" label=\"常時ON\" />\r\n                    <FormControlLabel control={<Radio />} value=\"2\" label=\"人がいるときだけON\" />\r\n                </RadioGroup>\r\n                <Box padding={3} />\r\n                <Typography variant=\"h6\">\r\n                    LED\r\n                </Typography>\r\n                <RadioGroup\r\n                    value={led}\r\n                    onChange={(event) => setLed(event.target.value)}\r\n                >\r\n                    <FormControlLabel control={<Radio />} value=\"0\" label=\"常時OFF\" />\r\n                    <FormControlLabel control={<Radio />} value=\"1\" label=\"常時ON\" />\r\n                    <FormControlLabel control={<Radio />} value=\"2\" label=\"人がいるときだけON\" />\r\n                </RadioGroup>\r\n                <Box padding={3} />\r\n                <Typography variant=\"h6\">\r\n                    音楽\r\n                </Typography>\r\n                <RadioGroup\r\n                    value={music}\r\n                    onChange={(event) => setMusic(event.target.value)}\r\n                >\r\n                    <FormControlLabel control={<Radio />} value=\"0\" label=\"常時OFF\" />\r\n                    <FormControlLabel control={<Radio />} value=\"1\" label=\"常時「ゆりかごの唄」\" />\r\n                    <FormControlLabel control={<Radio />} value=\"2\" label=\"常時「ブラームスの子守唄」\" />\r\n                    <FormControlLabel control={<Radio />} value=\"3\" label=\"常時「ロッカバイ ベィビィ」\" />\r\n                    <FormControlLabel control={<Radio />} value=\"4\" label=\"人が来たら「ゆりかごの唄」\" />\r\n                    <FormControlLabel control={<Radio />} value=\"5\" label=\"人が来たら「ブラームスの子守唄」\" />\r\n                    <FormControlLabel control={<Radio />} value=\"6\" label=\"人が来たら「ロッカバイ ベィビィ」\" />\r\n                </RadioGroup>\r\n                <Box padding={3} />\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\nexport default ColabSample","export default __webpack_public_path__ + \"static/media/off.cde51f29.jpg\";","export default __webpack_public_path__ + \"static/media/sleep.4d8e237c.jpg\";","export default __webpack_public_path__ + \"static/media/wifi.70907886.jpg\";","export default __webpack_public_path__ + \"static/media/smartconfig.25bd8477.jpg\";","export default __webpack_public_path__ + \"static/media/data.23b8029d.jpg\";","export default __webpack_public_path__ + \"static/media/heating.5817718e.jpg\";","import React from 'react';\r\nimport Container from '@mui/material/Container';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\n\r\nimport imgOFF from '../img/off.jpg'\r\nimport imgSleep from '../img/sleep.jpg'\r\nimport imgWifi from '../img/wifi.jpg'\r\nimport imgSmartConfig from '../img/smartconfig.jpg'\r\nimport imgHeating from '../img/heating.jpg'\r\nimport imgData from '../img/data.jpg'\r\n\r\nconst CO2Documents = () => {\r\n    return (\r\n        <Box sx={{ background: '#fafafa', minHeight: '100vh', }}>\r\n            <Container>\r\n                <Box padding={3} />\r\n                <Typography variant=\"h5\">\r\n                    換気を促すCO2チェッカー\r\n                </Typography>\r\n                <Box padding={2} />\r\n                <Grid container spacing={3}>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <Card>\r\n                            <CardMedia component=\"img\" image={imgOFF} alt=\"\" />\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h6\">\r\n                                    電源OFF\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    電源スイッチが左に倒れた状態です。\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <Card>\r\n                            <CardMedia component=\"img\" image={imgSleep} alt=\"\" />\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h6\">\r\n                                    スリープ中\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    電源スイッチが右に倒れた状態です。\r\n                                    <br />\r\n                                    １時間に１度自動的に復帰・計測しますので、何も操作する必要はありません。\r\n                                    <br />\r\n                                    強制的に復帰させたいときは、タッチスイッチに触れてください。\r\n                                    <br /><br />\r\n                                    夜18時～翌朝6時の間は自動復帰しません。また、バッテリー残量が30%以下のときも自動復帰しません。\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <Card>\r\n                            <CardMedia component=\"img\" image={imgWifi} alt=\"\" />\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h6\">\r\n                                    WiFi 接続中\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    最後に設定したWiFiスポットへ接続を試みている状態です。\r\n                                    <br />\r\n                                    このまま何も操作をせずに、しばらくお待ちください。\r\n                                    30秒間接続できなかった場合はスリープモードへ移行します。\r\n                                    <br />\r\n                                    <br />\r\n                                    前回と異なるWiFiスポットへ接続したいときは、タッチスイッチを長押ししてください。\r\n                                    <br />\r\n                                    初期設定では「HUMAX-542FF」に接続します。\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <Card>\r\n                            <CardMedia component=\"img\" image={imgSmartConfig} alt=\"\" />\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h6\">\r\n                                    WiFiスポット 変更待ち\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    WiFiの設定変更を待っている状態です。\r\n                                    <br />\r\n                                    WiFiスポットを変更する場合は、スマートフォンアプリ「IoT Smartconfig」を使って登録してください。\r\n                                    <br /><br />\r\n                                    WiFiスポットを変更するつもりがない場合は、電源スイッチを入れ直してください。\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <Card>\r\n                            <CardMedia component=\"img\" image={imgData} alt=\"\" />\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h6\">\r\n                                    計測結果表示中\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>\r\n                <Box padding={3} />\r\n            </Container>\r\n        </Box>\r\n    );\r\n}\r\nexport default CO2Documents","import React, { useState } from 'react';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Diagram from './pages/Diagram';\r\nimport Table from './pages/Table';\r\nimport ApiDocuments from './pages/ApiDocuments';\r\nimport ColabSample from './pages/ColabSample';\r\nimport MistSetting from './pages/MistSetting';\r\nimport CO2Documents from './pages/CO2Documents';\r\n\r\nconst App = () => {\r\n  const [value, setValue] = useState(0);\r\n  return (\r\n    <Box sx={{ overflow: 'scroll', height: '100vh' }}>\r\n      <AppBar position=\"fixed\">\r\n        <Tabs\r\n          indicatorColor=\"secondary\"\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          textColor=\"inherit\"\r\n          value={value}\r\n          onChange={(event, newValue) => setValue(newValue)}\r\n        >\r\n          <Tab label=\"データ集計\" />\r\n          <Tab label=\"接続図\" />\r\n          <Tab label=\"API\" />\r\n          <Tab label=\"サンプル\" />\r\n          <Tab label=\"ミスト操作\" />\r\n          <Tab label=\"CO2取説\" />\r\n        </Tabs>\r\n      </AppBar>\r\n      <Box sx={{ height: '48px' }} />\r\n      {\r\n        (value === 0) ? <Table /> : null\r\n      }\r\n      {\r\n        (value === 1) ? <Diagram /> : null\r\n      }\r\n      {\r\n        (value === 2) ? <ApiDocuments /> : null\r\n      }\r\n      {\r\n        (value === 3) ? <ColabSample /> : null\r\n      }\r\n      {\r\n        (value === 4) ? <MistSetting /> : null\r\n      }\r\n      {\r\n        (value === 5) ? <CO2Documents /> : null\r\n      }\r\n    </Box>\r\n  );\r\n}\r\nexport default App","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const encode64 = (input) => {\r\n\tvar output = \"\", i = 0, l = input.length,\r\n\t\tkey = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\r\n\t\tchr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n\twhile (i < l) {\r\n\t\tchr1 = input.charCodeAt(i++);\r\n\t\tchr2 = input.charCodeAt(i++);\r\n\t\tchr3 = input.charCodeAt(i++);\r\n\t\tenc1 = chr1 >> 2;\r\n\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n\t\tenc4 = chr3 & 63;\r\n\t\tif (isNaN(chr2)) enc3 = enc4 = 64;\r\n\t\telse if (isNaN(chr3)) enc4 = 64;\r\n\t\toutput = output + key.charAt(enc1) + key.charAt(enc2) + key.charAt(enc3) + key.charAt(enc4);\r\n\t}\r\n\treturn output;\r\n}\r\nexport default encode64;","/**\r\n * This class handles LZW encoding\r\n * Adapted from Jef Poskanzer's Java port by way of J. M. G. Elliott.\r\n * @author Kevin Weiner (original Java version - kweiner@fmsware.com)\r\n * @author Thibault Imbert (AS3 version - bytearray.org)\r\n * @author Kevin Kwok (JavaScript version - https://github.com/antimatter15/jsgif)\r\n * @version 0.1 AS3 implementation\r\n */\r\n\r\nconst LZWEncoder = function () {\r\n\r\n\tvar exports = {};\r\n\tvar EOF = -1;\r\n\tvar imgW;\r\n\tvar imgH;\r\n\tvar pixAry;\r\n\tvar initCodeSize;\r\n\tvar remaining;\r\n\tvar curPixel;\r\n\r\n\t// GIFCOMPR.C - GIF Image compression routines\r\n\t// Lempel-Ziv compression based on 'compress'. GIF modifications by\r\n\t// David Rowley (mgardi@watdcsu.waterloo.edu)\r\n\t// General DEFINEs\r\n\r\n\tvar BITS = 12;\r\n\tvar HSIZE = 5003; // 80% occupancy\r\n\r\n\t// GIF Image compression - modified 'compress'\r\n\t// Based on: compress.c - File compression ala IEEE Computer, June 1984.\r\n\t// By Authors: Spencer W. Thomas (decvax!harpo!utah-cs!utah-gr!thomas)\r\n\t// Jim McKie (decvax!mcvax!jim)\r\n\t// Steve Davies (decvax!vax135!petsd!peora!srd)\r\n\t// Ken Turkowski (decvax!decwrl!turtlevax!ken)\r\n\t// James A. Woods (decvax!ihnp4!ames!jaw)\r\n\t// Joe Orost (decvax!vax135!petsd!joe)\r\n\r\n\tvar n_bits; // number of bits/code\r\n\tvar maxbits = BITS; // user settable max # bits/code\r\n\tvar maxcode; // maximum code, given n_bits\r\n\tvar maxmaxcode = 1 << BITS; // should NEVER generate this code\r\n\tvar htab = [];\r\n\tvar codetab = [];\r\n\tvar hsize = HSIZE; // for dynamic table sizing\r\n\tvar free_ent = 0; // first unused entry\r\n\r\n\t// block compression parameters -- after all codes are used up,\r\n\t// and compression rate changes, start over.\r\n\r\n\tvar clear_flg = false;\r\n\r\n\t// Algorithm: use open addressing double hashing (no chaining) on the\r\n\t// prefix code / next character combination. We do a variant of Knuth's\r\n\t// algorithm D (vol. 3, sec. 6.4) along with G. Knott's relatively-prime\r\n\t// secondary probe. Here, the modular division first probe is gives way\r\n\t// to a faster exclusive-or manipulation. Also do block compression with\r\n\t// an adaptive reset, whereby the code table is cleared when the compression\r\n\t// ratio decreases, but after the table fills. The variable-length output\r\n\t// codes are re-sized at this point, and a special CLEAR code is generated\r\n\t// for the decompressor. Late addition: construct the table according to\r\n\t// file size for noticeable speed improvement on small files. Please direct\r\n\t// questions about this implementation to ames!jaw.\r\n\r\n\tvar g_init_bits;\r\n\tvar ClearCode;\r\n\tvar EOFCode;\r\n\r\n\t// output\r\n\t// Output the given code.\r\n\t// Inputs:\r\n\t// code: A n_bits-bit integer. If === -1, then EOF. This assumes\r\n\t// that n_bits =< wordsize - 1.\r\n\t// Outputs:\r\n\t// Outputs code to the file.\r\n\t// Assumptions:\r\n\t// Chars are 8 bits long.\r\n\t// Algorithm:\r\n\t// Maintain a BITS character long buffer (so that 8 codes will\r\n\t// fit in it exactly). Use the VAX insv instruction to insert each\r\n\t// code in turn. When the buffer fills up empty it and start over.\r\n\r\n\tvar cur_accum = 0;\r\n\tvar cur_bits = 0;\r\n\tvar masks = [0x0000, 0x0001, 0x0003, 0x0007, 0x000F, 0x001F, 0x003F, 0x007F, 0x00FF, 0x01FF, 0x03FF, 0x07FF, 0x0FFF, 0x1FFF, 0x3FFF, 0x7FFF, 0xFFFF];\r\n\r\n\t// Number of characters so far in this 'packet'\r\n\tvar a_count;\r\n\r\n\t// Define the storage for the packet accumulator\r\n\tvar accum = [];\r\n\r\n\tvar LZWEncoder = exports.LZWEncoder = function LZWEncoder(width, height, pixels, color_depth) {\r\n\t\timgW = width;\r\n\t\timgH = height;\r\n\t\tpixAry = pixels;\r\n\t\tinitCodeSize = Math.max(2, color_depth);\r\n\t};\r\n\r\n\t// Add a character to the end of the current packet, and if it is 254\r\n\t// characters, flush the packet to disk.\r\n\tvar char_out = function char_out(c, outs) {\r\n\t\taccum[a_count++] = c;\r\n\t\tif (a_count >= 254) flush_char(outs);\r\n\t};\r\n\r\n\t// Clear out the hash table\r\n\t// table clear for block compress\r\n\r\n\tvar cl_block = function cl_block(outs) {\r\n\t\tcl_hash(hsize);\r\n\t\tfree_ent = ClearCode + 2;\r\n\t\tclear_flg = true;\r\n\t\toutput(ClearCode, outs);\r\n\t};\r\n\r\n\t// reset code table\r\n\tvar cl_hash = function cl_hash(hsize) {\r\n\t\tfor (var i = 0; i < hsize; ++i) htab[i] = -1;\r\n\t};\r\n\r\n\tvar compress = exports.compress = function compress(init_bits, outs) {\r\n\r\n\t\tvar fcode;\r\n\t\tvar i; /* = 0 */\r\n\t\tvar c;\r\n\t\tvar ent;\r\n\t\tvar disp;\r\n\t\tvar hsize_reg;\r\n\t\tvar hshift;\r\n\r\n\t\t// Set up the globals: g_init_bits - initial number of bits\r\n\t\tg_init_bits = init_bits;\r\n\r\n\t\t// Set up the necessary values\r\n\t\tclear_flg = false;\r\n\t\tn_bits = g_init_bits;\r\n\t\tmaxcode = MAXCODE(n_bits);\r\n\r\n\t\tClearCode = 1 << (init_bits - 1);\r\n\t\tEOFCode = ClearCode + 1;\r\n\t\tfree_ent = ClearCode + 2;\r\n\r\n\t\ta_count = 0; // clear packet\r\n\r\n\t\tent = nextPixel();\r\n\r\n\t\thshift = 0;\r\n\t\tfor (fcode = hsize; fcode < 65536; fcode *= 2)\r\n\t\t\t++hshift;\r\n\t\thshift = 8 - hshift; // set hash code range bound\r\n\r\n\t\thsize_reg = hsize;\r\n\t\tcl_hash(hsize_reg); // clear hash table\r\n\r\n\t\toutput(ClearCode, outs);\r\n\r\n\t\touter_loop: while ((c = nextPixel()) !== EOF) {\r\n\t\t\tfcode = (c << maxbits) + ent;\r\n\t\t\ti = (c << hshift) ^ ent; // xor hashing\r\n\r\n\t\t\tif (htab[i] === fcode) {\r\n\t\t\t\tent = codetab[i];\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\telse if (htab[i] >= 0) { // non-empty slot\r\n\r\n\t\t\t\tdisp = hsize_reg - i; // secondary hash (after G. Knott)\r\n\t\t\t\tif (i === 0) disp = 1;\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif ((i -= disp) < 0)\r\n\t\t\t\t\t\ti += hsize_reg;\r\n\r\n\t\t\t\t\tif (htab[i] === fcode) {\r\n\t\t\t\t\t\tent = codetab[i];\r\n\t\t\t\t\t\tcontinue outer_loop;\r\n\t\t\t\t\t}\r\n\t\t\t\t} while (htab[i] >= 0);\r\n\t\t\t}\r\n\r\n\t\t\toutput(ent, outs);\r\n\t\t\tent = c;\r\n\t\t\tif (free_ent < maxmaxcode) {\r\n\t\t\t\tcodetab[i] = free_ent++; // code -> hashtable\r\n\t\t\t\thtab[i] = fcode;\r\n\t\t\t}\r\n\t\t\telse cl_block(outs);\r\n\t\t}\r\n\r\n\t\t// Put out the final code.\r\n\t\toutput(ent, outs);\r\n\t\toutput(EOFCode, outs);\r\n\t};\r\n\r\n\t// ----------------------------------------------------------------------------\r\n\tvar encode = exports.encode = function encode(os) {\r\n\t\tos.writeByte(initCodeSize); // write \"initial code size\" byte\r\n\t\tremaining = imgW * imgH; // reset navigation variables\r\n\t\tcurPixel = 0;\r\n\t\tcompress(initCodeSize + 1, os); // compress and write the pixel data\r\n\t\tos.writeByte(0); // write block terminator\r\n\t};\r\n\r\n\t// Flush the packet to disk, and reset the accumulator\r\n\tvar flush_char = function flush_char(outs) {\r\n\t\tif (a_count > 0) {\r\n\t\t\touts.writeByte(a_count);\r\n\t\t\touts.writeBytes(accum, 0, a_count);\r\n\t\t\ta_count = 0;\r\n\t\t}\r\n\t};\r\n\r\n\tvar MAXCODE = function MAXCODE(n_bits) {\r\n\t\treturn (1 << n_bits) - 1;\r\n\t};\r\n\r\n\t// ----------------------------------------------------------------------------\r\n\t// Return the next pixel from the image\r\n\t// ----------------------------------------------------------------------------\r\n\r\n\tvar nextPixel = function nextPixel() {\r\n\t\tif (remaining === 0) return EOF;\r\n\t\t--remaining;\r\n\t\tvar pix = pixAry[curPixel++];\r\n\t\treturn pix & 0xff;\r\n\t};\r\n\r\n\tvar output = function output(code, outs) {\r\n\r\n\t\tcur_accum &= masks[cur_bits];\r\n\r\n\t\tif (cur_bits > 0) cur_accum |= (code << cur_bits);\r\n\t\telse cur_accum = code;\r\n\r\n\t\tcur_bits += n_bits;\r\n\r\n\t\twhile (cur_bits >= 8) {\r\n\t\t\tchar_out((cur_accum & 0xff), outs);\r\n\t\t\tcur_accum >>= 8;\r\n\t\t\tcur_bits -= 8;\r\n\t\t}\r\n\r\n\t\t// If the next entry is going to be too big for the code size,\r\n\t\t// then increase it, if possible.\r\n\r\n\t\tif (free_ent > maxcode || clear_flg) {\r\n\r\n\t\t\tif (clear_flg) {\r\n\r\n\t\t\t\tmaxcode = MAXCODE(n_bits = g_init_bits);\r\n\t\t\t\tclear_flg = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t++n_bits;\r\n\t\t\t\tif (n_bits === maxbits) maxcode = maxmaxcode;\r\n\t\t\t\telse maxcode = MAXCODE(n_bits);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (code === EOFCode) {\r\n\r\n\t\t\t// At EOF, write the rest of the buffer.\r\n\t\t\twhile (cur_bits > 0) {\r\n\t\t\t\tchar_out((cur_accum & 0xff), outs);\r\n\t\t\t\tcur_accum >>= 8;\r\n\t\t\t\tcur_bits -= 8;\r\n\t\t\t}\r\n\r\n\t\t\tflush_char(outs);\r\n\t\t}\r\n\t};\r\n\r\n\tLZWEncoder.apply(this, arguments);\r\n\treturn exports;\r\n};\r\n\r\nexport default LZWEncoder;","/*\r\n * NeuQuant Neural-Net Quantization Algorithm\r\n * ------------------------------------------\r\n *\r\n * Copyright (c) 1994 Anthony Dekker\r\n *\r\n * NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\r\n * \"Kohonen neural networks for optimal colour quantization\" in \"Network:\r\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\r\n * the algorithm.\r\n *\r\n * Any party obtaining a copy of these files from the author, directly or\r\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\r\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\r\n * this software and documentation files (the \"Software\"), including without\r\n * limitation the rights to use, copy, modify, merge, publish, distribute,\r\n * sublicense, and/or sell copies of the Software, and to permit persons who\r\n * receive copies from any such party to do so, with the only requirement being\r\n * that this copyright notice remain intact.\r\n */\r\n\r\n/*\r\n * This class handles Neural-Net quantization algorithm\r\n * @author Kevin Weiner (original Java version - kweiner@fmsware.com)\r\n * @author Thibault Imbert (AS3 version - bytearray.org)\r\n * @author Kevin Kwok (JavaScript version - https://github.com/antimatter15/jsgif)\r\n * @version 0.1 AS3 implementation\r\n */\r\n\r\nconst NeuQuant = function () {\r\n\r\n\tvar exports = {};\r\n\tvar netsize = 256; /* number of colours used */\r\n\r\n\t/* four primes near 500 - assume no image has a length so large */\r\n\t/* that it is divisible by all four primes */\r\n\r\n\tvar prime1 = 499;\r\n\tvar prime2 = 491;\r\n\tvar prime3 = 487;\r\n\tvar prime4 = 503;\r\n\tvar minpicturebytes = (3 * prime4); /* minimum size for input image */\r\n\r\n\t/*\r\n\t * Program Skeleton ---------------- [select samplefac in range 1..30] [read\r\n\t * image from input file] pic = (unsigned char*) malloc(3*width*height);\r\n\t * initnet(pic,3*width*height,samplefac); learn(); unbiasnet(); [write output\r\n\t * image header, using writecolourmap(f)] inxbuild(); write output image using\r\n\t * inxsearch(b,g,r)\r\n\t */\r\n\r\n\t/*\r\n\t * Network Definitions -------------------\r\n\t */\r\n\r\n\tvar maxnetpos = (netsize - 1);\r\n\tvar netbiasshift = 4; /* bias for colour values */\r\n\tvar ncycles = 100; /* no. of learning cycles */\r\n\r\n\t/* defs for freq and bias */\r\n\tvar intbiasshift = 16; /* bias for fractions */\r\n\tvar intbias = (1 << intbiasshift);\r\n\tvar gammashift = 10; /* gamma = 1024 */\r\n\tvar gamma = (1 << gammashift);\r\n\tvar betashift = 10;\r\n\tvar beta = (intbias >> betashift); /* beta = 1/1024 */\r\n\tvar betagamma = (intbias << (gammashift - betashift));\r\n\r\n\t/* defs for decreasing radius factor */\r\n\tvar initrad = (netsize >> 3); /* for 256 cols, radius starts */\r\n\tvar radiusbiasshift = 6; /* at 32.0 biased by 6 bits */\r\n\tvar radiusbias = (1 << radiusbiasshift);\r\n\tvar initradius = (initrad * radiusbias); /* and decreases by a */\r\n\tvar radiusdec = 30; /* factor of 1/30 each cycle */\r\n\r\n\t/* defs for decreasing alpha factor */\r\n\tvar alphabiasshift = 10; /* alpha starts at 1.0 */\r\n\tvar initalpha = (1 << alphabiasshift);\r\n\tvar alphadec; /* biased by 10 bits */\r\n\r\n\t/* radbias and alpharadbias used for radpower calculation */\r\n\tvar radbiasshift = 8;\r\n\tvar radbias = (1 << radbiasshift);\r\n\tvar alpharadbshift = (alphabiasshift + radbiasshift);\r\n\tvar alpharadbias = (1 << alpharadbshift);\r\n\r\n\t/*\r\n\t * Types and Global Variables --------------------------\r\n\t */\r\n\r\n\tvar thepicture; /* the input image itself */\r\n\tvar lengthcount; /* lengthcount = H*W*3 */\r\n\tvar samplefac; /* sampling factor 1..30 */\r\n\r\n\t// typedef int pixel[4]; /* BGRc */\r\n\tvar network; /* the network itself - [netsize][4] */\r\n\tvar netindex = [];\r\n\r\n\t/* for network lookup - really 256 */\r\n\tvar bias = [];\r\n\r\n\t/* bias and freq arrays for learning */\r\n\tvar freq = [];\r\n\tvar radpower = [];\r\n\r\n\tvar NeuQuant = exports.NeuQuant = function NeuQuant(thepic, len, sample) {\r\n\r\n\t\tvar i;\r\n\t\tvar p;\r\n\r\n\t\tthepicture = thepic;\r\n\t\tlengthcount = len;\r\n\t\tsamplefac = sample;\r\n\r\n\t\tnetwork = new Array(netsize);\r\n\r\n\t\tfor (i = 0; i < netsize; i++) {\r\n\r\n\t\t\tnetwork[i] = new Array(4);\r\n\t\t\tp = network[i];\r\n\t\t\tp[0] = p[1] = p[2] = (i << (netbiasshift + 8)) / netsize;\r\n\t\t\tfreq[i] = intbias / netsize; /* 1/netsize */\r\n\t\t\tbias[i] = 0;\r\n\t\t}\r\n\t};\r\n\r\n\tvar colorMap = function colorMap() {\r\n\r\n\t\tvar map = [];\r\n\t\tvar index = new Array(netsize);\r\n\r\n\t\tfor (var i = 0; i < netsize; i++)\r\n\t\t\tindex[network[i][3]] = i;\r\n\r\n\t\tvar k = 0;\r\n\t\tfor (var l = 0; l < netsize; l++) {\r\n\t\t\tvar j = index[l];\r\n\t\t\tmap[k++] = (network[j][0]);\r\n\t\t\tmap[k++] = (network[j][1]);\r\n\t\t\tmap[k++] = (network[j][2]);\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t};\r\n\r\n\t/*\r\n\t * Insertion sort of network and building of netindex[0..255] (to do after\r\n\t * unbias)\r\n\t * -------------------------------------------------------------------------------\r\n\t */\r\n\r\n\tvar inxbuild = function inxbuild() {\r\n\r\n\t\tvar i;\r\n\t\tvar j;\r\n\t\tvar smallpos;\r\n\t\tvar smallval;\r\n\t\tvar p;\r\n\t\tvar q;\r\n\t\tvar previouscol;\r\n\t\tvar startpos;\r\n\r\n\t\tpreviouscol = 0;\r\n\t\tstartpos = 0;\r\n\t\tfor (i = 0; i < netsize; i++) {\r\n\r\n\t\t\tp = network[i];\r\n\t\t\tsmallpos = i;\r\n\t\t\tsmallval = p[1]; /* index on g */\r\n\r\n\t\t\t/* find smallest in i..netsize-1 */\r\n\t\t\tfor (j = i + 1; j < netsize; j++) {\r\n\r\n\t\t\t\tq = network[j];\r\n\t\t\t\tif (q[1] < smallval) { /* index on g */\r\n\t\t\t\t\tsmallpos = j;\r\n\t\t\t\t\tsmallval = q[1]; /* index on g */\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tq = network[smallpos];\r\n\r\n\t\t\t/* swap p (i) and q (smallpos) entries */\r\n\t\t\tif (i !== smallpos) {\r\n\t\t\t\tj = q[0];\r\n\t\t\t\tq[0] = p[0];\r\n\t\t\t\tp[0] = j;\r\n\t\t\t\tj = q[1];\r\n\t\t\t\tq[1] = p[1];\r\n\t\t\t\tp[1] = j;\r\n\t\t\t\tj = q[2];\r\n\t\t\t\tq[2] = p[2];\r\n\t\t\t\tp[2] = j;\r\n\t\t\t\tj = q[3];\r\n\t\t\t\tq[3] = p[3];\r\n\t\t\t\tp[3] = j;\r\n\t\t\t}\r\n\r\n\t\t\t/* smallval entry is now in position i */\r\n\r\n\t\t\tif (smallval !== previouscol) {\r\n\r\n\t\t\t\tnetindex[previouscol] = (startpos + i) >> 1;\r\n\r\n\t\t\t\tfor (j = previouscol + 1; j < smallval; j++) netindex[j] = i;\r\n\r\n\t\t\t\tpreviouscol = smallval;\r\n\t\t\t\tstartpos = i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnetindex[previouscol] = (startpos + maxnetpos) >> 1;\r\n\t\tfor (j = previouscol + 1; j < 256; j++) netindex[j] = maxnetpos; /* really 256 */\r\n\t};\r\n\r\n\t/*\r\n\t * Main Learning Loop ------------------\r\n\t */\r\n\r\n\tvar learn = function learn() {\r\n\r\n\t\tvar i;\r\n\t\tvar j;\r\n\t\tvar b;\r\n\t\tvar g;\r\n\t\tvar r;\r\n\t\tvar radius;\r\n\t\tvar rad;\r\n\t\tvar alpha;\r\n\t\tvar step;\r\n\t\tvar delta;\r\n\t\tvar samplepixels;\r\n\t\tvar p;\r\n\t\tvar pix;\r\n\t\tvar lim;\r\n\r\n\t\tif (lengthcount < minpicturebytes) samplefac = 1;\r\n\r\n\t\talphadec = 30 + ((samplefac - 1) / 3);\r\n\t\tp = thepicture;\r\n\t\tpix = 0;\r\n\t\tlim = lengthcount;\r\n\t\tsamplepixels = lengthcount / (3 * samplefac);\r\n\t\tdelta = (samplepixels / ncycles) | 0;\r\n\t\talpha = initalpha;\r\n\t\tradius = initradius;\r\n\r\n\t\trad = radius >> radiusbiasshift;\r\n\t\tif (rad <= 1) rad = 0;\r\n\r\n\t\tfor (i = 0; i < rad; i++) radpower[i] = alpha * (((rad * rad - i * i) * radbias) / (rad * rad));\r\n\r\n\t\tif (lengthcount < minpicturebytes) step = 3;\r\n\r\n\t\telse if ((lengthcount % prime1) !== 0) step = 3 * prime1;\r\n\r\n\t\telse {\r\n\r\n\t\t\tif ((lengthcount % prime2) !== 0) step = 3 * prime2;\r\n\t\t\telse {\r\n\t\t\t\tif ((lengthcount % prime3) !== 0) step = 3 * prime3;\r\n\t\t\t\telse step = 3 * prime4;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ti = 0;\r\n\t\twhile (i < samplepixels) {\r\n\r\n\t\t\tb = (p[pix + 0] & 0xff) << netbiasshift;\r\n\t\t\tg = (p[pix + 1] & 0xff) << netbiasshift;\r\n\t\t\tr = (p[pix + 2] & 0xff) << netbiasshift;\r\n\t\t\tj = contest(b, g, r);\r\n\r\n\t\t\taltersingle(alpha, j, b, g, r);\r\n\t\t\tif (rad !== 0) alterneigh(rad, j, b, g, r); /* alter neighbours */\r\n\r\n\t\t\tpix += step;\r\n\t\t\tif (pix >= lim) pix -= lengthcount;\r\n\r\n\t\t\ti++;\r\n\r\n\t\t\tif (delta === 0) delta = 1;\r\n\r\n\t\t\tif (i % delta === 0) {\r\n\t\t\t\talpha -= alpha / alphadec;\r\n\t\t\t\tradius -= radius / radiusdec;\r\n\t\t\t\trad = radius >> radiusbiasshift;\r\n\r\n\t\t\t\tif (rad <= 1) rad = 0;\r\n\r\n\t\t\t\tfor (j = 0; j < rad; j++) radpower[j] = alpha * (((rad * rad - j * j) * radbias) / (rad * rad));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t ** Search for BGR values 0..255 (after net is unbiased) and return colour\r\n\t * index\r\n\t * ----------------------------------------------------------------------------\r\n\t */\r\n\r\n\tvar map = exports.map = function map(b, g, r) {\r\n\r\n\t\tvar i;\r\n\t\tvar j;\r\n\t\tvar dist;\r\n\t\tvar a;\r\n\t\tvar bestd;\r\n\t\tvar p;\r\n\t\tvar best;\r\n\r\n\t\tbestd = 1000; /* biggest possible dist is 256*3 */\r\n\t\tbest = -1;\r\n\t\ti = netindex[g]; /* index on g */\r\n\t\tj = i - 1; /* start at netindex[g] and work outwards */\r\n\r\n\t\twhile ((i < netsize) || (j >= 0)) {\r\n\r\n\t\t\tif (i < netsize) {\r\n\t\t\t\tp = network[i];\r\n\t\t\t\tdist = p[1] - g; /* inx key */\r\n\r\n\t\t\t\tif (dist >= bestd) i = netsize; /* stop iter */\r\n\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tif (dist < 0) dist = -dist;\r\n\t\t\t\t\ta = p[0] - b;\r\n\t\t\t\t\tif (a < 0) a = -a;\r\n\t\t\t\t\tdist += a;\r\n\r\n\t\t\t\t\tif (dist < bestd) {\r\n\t\t\t\t\t\ta = p[2] - r;\r\n\t\t\t\t\t\tif (a < 0) a = -a;\r\n\t\t\t\t\t\tdist += a;\r\n\r\n\t\t\t\t\t\tif (dist < bestd) {\r\n\t\t\t\t\t\t\tbestd = dist;\r\n\t\t\t\t\t\t\tbest = p[3];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (j >= 0) {\r\n\r\n\t\t\t\tp = network[j];\r\n\t\t\t\tdist = g - p[1]; /* inx key - reverse dif */\r\n\r\n\t\t\t\tif (dist >= bestd) j = -1; /* stop iter */\r\n\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\tj--;\r\n\t\t\t\t\tif (dist < 0) dist = -dist;\r\n\t\t\t\t\ta = p[0] - b;\r\n\t\t\t\t\tif (a < 0) a = -a;\r\n\t\t\t\t\tdist += a;\r\n\r\n\t\t\t\t\tif (dist < bestd) {\r\n\t\t\t\t\t\ta = p[2] - r;\r\n\t\t\t\t\t\tif (a < 0) a = -a;\r\n\t\t\t\t\t\tdist += a;\r\n\t\t\t\t\t\tif (dist < bestd) {\r\n\t\t\t\t\t\t\tbestd = dist;\r\n\t\t\t\t\t\t\tbest = p[3];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (best);\r\n\t};\r\n\r\n\tvar process = exports.process = function process() {\r\n\t\tlearn();\r\n\t\tunbiasnet();\r\n\t\tinxbuild();\r\n\t\treturn colorMap();\r\n\t};\r\n\r\n\t/*\r\n\t * Unbias network to give byte values 0..255 and record position i to prepare\r\n\t * for sort\r\n\t * -----------------------------------------------------------------------------------\r\n\t */\r\n\r\n\tvar unbiasnet = function unbiasnet() {\r\n\r\n\t\tvar i;\r\n\t\tvar j;\r\n\r\n\t\tfor (i = 0; i < netsize; i++) {\r\n\t\t\tnetwork[i][0] >>= netbiasshift;\r\n\t\t\tnetwork[i][1] >>= netbiasshift;\r\n\t\t\tnetwork[i][2] >>= netbiasshift;\r\n\t\t\tnetwork[i][3] = i; /* record colour no */\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t * Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2)) in\r\n\t * radpower[|i-j|]\r\n\t * ---------------------------------------------------------------------------------\r\n\t */\r\n\r\n\tvar alterneigh = function alterneigh(rad, i, b, g, r) {\r\n\r\n\t\tvar j;\r\n\t\tvar k;\r\n\t\tvar lo;\r\n\t\tvar hi;\r\n\t\tvar a;\r\n\t\tvar m;\r\n\t\tvar p;\r\n\r\n\t\tlo = i - rad;\r\n\t\tif (lo < -1) lo = -1;\r\n\r\n\t\thi = i + rad;\r\n\t\tif (hi > netsize) hi = netsize;\r\n\r\n\t\tj = i + 1;\r\n\t\tk = i - 1;\r\n\t\tm = 1;\r\n\r\n\t\twhile ((j < hi) || (k > lo)) {\r\n\t\t\ta = radpower[m++];\r\n\r\n\t\t\tif (j < hi) {\r\n\t\t\t\tp = network[j++];\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tp[0] -= (a * (p[0] - b)) / alpharadbias;\r\n\t\t\t\t\tp[1] -= (a * (p[1] - g)) / alpharadbias;\r\n\t\t\t\t\tp[2] -= (a * (p[2] - r)) / alpharadbias;\r\n\t\t\t\t} catch (e) { } // prevents 1.3 miscompilation\r\n\t\t\t}\r\n\r\n\t\t\tif (k > lo) {\r\n\t\t\t\tp = network[k--];\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tp[0] -= (a * (p[0] - b)) / alpharadbias;\r\n\t\t\t\t\tp[1] -= (a * (p[1] - g)) / alpharadbias;\r\n\t\t\t\t\tp[2] -= (a * (p[2] - r)) / alpharadbias;\r\n\t\t\t\t} catch (e) { }\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t * Move neuron i towards biased (b,g,r) by factor alpha\r\n\t * ----------------------------------------------------\r\n\t */\r\n\r\n\tvar altersingle = function altersingle(alpha, i, b, g, r) {\r\n\r\n\t\t/* alter hit neuron */\r\n\t\tvar n = network[i];\r\n\t\tn[0] -= (alpha * (n[0] - b)) / initalpha;\r\n\t\tn[1] -= (alpha * (n[1] - g)) / initalpha;\r\n\t\tn[2] -= (alpha * (n[2] - r)) / initalpha;\r\n\t};\r\n\r\n\t/*\r\n\t * Search for biased BGR values ----------------------------\r\n\t */\r\n\r\n\tvar contest = function contest(b, g, r) {\r\n\r\n\t\t/* finds closest neuron (min dist) and updates freq */\r\n\t\t/* finds best neuron (min dist-bias) and returns position */\r\n\t\t/* for frequently chosen neurons, freq[i] is high and bias[i] is negative */\r\n\t\t/* bias[i] = gamma*((1/netsize)-freq[i]) */\r\n\r\n\t\tvar i;\r\n\t\tvar dist;\r\n\t\tvar a;\r\n\t\tvar biasdist;\r\n\t\tvar betafreq;\r\n\t\tvar bestpos;\r\n\t\tvar bestbiaspos;\r\n\t\tvar bestd;\r\n\t\tvar bestbiasd;\r\n\t\tvar n;\r\n\r\n\t\tbestd = ~(1 << 31);\r\n\t\tbestbiasd = bestd;\r\n\t\tbestpos = -1;\r\n\t\tbestbiaspos = bestpos;\r\n\r\n\t\tfor (i = 0; i < netsize; i++) {\r\n\t\t\tn = network[i];\r\n\t\t\tdist = n[0] - b;\r\n\t\t\tif (dist < 0) dist = -dist;\r\n\t\t\ta = n[1] - g;\r\n\t\t\tif (a < 0) a = -a;\r\n\t\t\tdist += a;\r\n\t\t\ta = n[2] - r;\r\n\t\t\tif (a < 0) a = -a;\r\n\t\t\tdist += a;\r\n\r\n\t\t\tif (dist < bestd) {\r\n\t\t\t\tbestd = dist;\r\n\t\t\t\tbestpos = i;\r\n\t\t\t}\r\n\r\n\t\t\tbiasdist = dist - ((bias[i]) >> (intbiasshift - netbiasshift));\r\n\r\n\t\t\tif (biasdist < bestbiasd) {\r\n\t\t\t\tbestbiasd = biasdist;\r\n\t\t\t\tbestbiaspos = i;\r\n\t\t\t}\r\n\r\n\t\t\tbetafreq = (freq[i] >> betashift);\r\n\t\t\tfreq[i] -= betafreq;\r\n\t\t\tbias[i] += (betafreq << gammashift);\r\n\t\t}\r\n\r\n\t\tfreq[bestpos] += beta;\r\n\t\tbias[bestpos] -= betagamma;\r\n\t\treturn (bestbiaspos);\r\n\t};\r\n\r\n\tNeuQuant.apply(this, arguments);\r\n\treturn exports;\r\n};\r\n\r\nexport default NeuQuant;\r\n","/**\r\n * This class lets you encode animated GIF files\r\n * Base class :  http://www.java2s.com/Code/Java/2D-Graphics-GUI/AnimatedGifEncoder.htm\r\n * @author Kevin Weiner (original Java version - kweiner@fmsware.com)\r\n * @author Thibault Imbert (AS3 version - bytearray.org)\r\n * @author Kevin Kwok (JavaScript version - https://github.com/antimatter15/jsgif)\r\n * @version 0.1 AS3 implementation\r\n */\r\n\r\nimport LZWEncoder from './LZWEncoder';\r\nimport NeuQuant from './NeuQuant';\r\n\r\nconst GIFEncoder = function () {\r\n\r\n\tfor (var i = 0, chr = {}; i < 256; i++)\r\n\t\tchr[i] = String.fromCharCode(i);\r\n\r\n\tfunction ByteArray() {\r\n\t\tthis.bin = [];\r\n\t}\r\n\r\n\tByteArray.prototype.getData = function () {\r\n\t\tfor (var v = '', l = this.bin.length, i = 0; i < l; i++)\r\n\t\t\tv += chr[this.bin[i]];\r\n\t\treturn v;\r\n\t};\r\n\r\n\tByteArray.prototype.writeByte = function (val) {\r\n\t\tthis.bin.push(val);\r\n\t};\r\n\r\n\tByteArray.prototype.writeUTFBytes = function (string) {\r\n\t\tfor (var l = string.length, i = 0; i < l; i++)\r\n\t\t\tthis.writeByte(string.charCodeAt(i));\r\n\t};\r\n\r\n\tByteArray.prototype.writeBytes = function (array, offset, length) {\r\n\t\tfor (var l = length || array.length, i = offset || 0; i < l; i++)\r\n\t\t\tthis.writeByte(array[i]);\r\n\t};\r\n\r\n\tvar exports = {};\r\n\tvar width; // image size\r\n\tvar height;\r\n\tvar transparent = null; // transparent color if given\r\n\tvar transIndex; // transparent index in color table\r\n\tvar repeat = -1; // no repeat\r\n\tvar delay = 0; // frame delay (hundredths)\r\n\tvar started = false; // ready to output frames\r\n\tvar out;\r\n\tvar image; // current frame\r\n\tvar pixels; // BGR byte array from frame\r\n\tvar indexedPixels; // converted frame indexed to palette\r\n\tvar colorDepth; // number of bit planes\r\n\tvar colorTab; // RGB palette\r\n\tvar usedEntry = []; // active palette entries\r\n\tvar palSize = 7; // color table size (bits-1)\r\n\tvar dispose = -1; // disposal code (-1 = use default)\r\n\tvar closeStream = false; // close stream when finished\r\n\tvar firstFrame = true;\r\n\tvar sizeSet = false; // if false, get size from first frame\r\n\tvar sample = 10; // default sample interval for quantizer\r\n\tvar comment = \"Generated by jsgif (https://github.com/antimatter15/jsgif/)\"; // default comment for generated gif\r\n\r\n\t/**\r\n\t * Sets the delay time between each frame, or changes it for subsequent frames\r\n\t * (applies to last frame added)\r\n\t * int delay time in milliseconds\r\n\t * @param ms\r\n\t */\r\n\r\n\tvar setDelay = exports.setDelay = function setDelay(ms) {\r\n\t\tdelay = Math.round(ms / 10);\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the GIF frame disposal code for the last added frame and any\r\n\t *\r\n\t * subsequent frames. Default is 0 if no transparent color has been set,\r\n\t * otherwise 2.\r\n\t * @param code\r\n\t * int disposal code.\r\n\t */\r\n\r\n\tvar setDispose = exports.setDispose = function setDispose(code) {\r\n\t\tif (code >= 0) dispose = code;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the number of times the set of GIF frames should be played. Default is\r\n\t * 1; 0 means play indefinitely. Must be invoked before the first image is\r\n\t * added.\r\n\t *\r\n\t * @param iter\r\n\t * int number of iterations.\r\n\t * @return\r\n\t */\r\n\r\n\tvar setRepeat = exports.setRepeat = function setRepeat(iter) {\r\n\t\tif (iter >= 0) repeat = iter;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the transparent color for the last added frame and any subsequent\r\n\t * frames. Since all colors are subject to modification in the quantization\r\n\t * process, the color in the final palette for each frame closest to the given\r\n\t * color becomes the transparent color for that frame. May be set to null to\r\n\t * indicate no transparent color.\r\n\t * @param\r\n\t * Color to be treated as transparent on display.\r\n\t */\r\n\r\n\tvar setTransparent = exports.setTransparent = function setTransparent(c) {\r\n\t\ttransparent = c;\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Sets the comment for the block comment\r\n\t * @param\r\n\t * string to be insterted as comment\r\n\t */\r\n\r\n\tvar setComment = exports.setComment = function setComment(c) {\r\n\t\tcomment = c;\r\n\t};\r\n\r\n\r\n\r\n\t/**\r\n\t * The addFrame method takes an incoming BitmapData object to create each frames\r\n\t * @param\r\n\t * BitmapData object to be treated as a GIF's frame\r\n\t */\r\n\r\n\tvar addFrame = exports.addFrame = function addFrame(im, is_imageData) {\r\n\r\n\t\tif ((im === null) || !started || out === null) {\r\n\t\t\tthrow new Error(\"Please call start method before calling addFrame\");\r\n\t\t}\r\n\r\n\t\tvar ok = true;\r\n\r\n\t\ttry {\r\n\t\t\tif (!is_imageData) {\r\n\t\t\t\timage = im.getImageData(0, 0, im.canvas.width, im.canvas.height).data;\r\n\t\t\t\tif (!sizeSet) setSize(im.canvas.width, im.canvas.height);\r\n\t\t\t} else {\r\n\t\t\t\tif (im instanceof ImageData) {\r\n\t\t\t\t\timage = im.data;\r\n\t\t\t\t\tif (!sizeSet || width !== im.width || height !== im.height) {\r\n\t\t\t\t\t\tsetSize(im.width, im.height);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (im instanceof Uint8ClampedArray) {\r\n\t\t\t\t\tif (im.length === (width * height * 4)) {\r\n\t\t\t\t\t\timage = im;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"Please set the correct size: ImageData length mismatch\");\r\n\t\t\t\t\t\tok = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"Please provide correct input\");\r\n\t\t\t\t\tok = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tgetImagePixels(); // convert to correct format if necessary\r\n\t\t\tanalyzePixels(); // build color table & map pixels\r\n\r\n\t\t\tif (firstFrame) {\r\n\t\t\t\twriteLSD(); // logical screen descriptior\r\n\t\t\t\twritePalette(); // global color table\r\n\t\t\t\tif (repeat >= 0) {\r\n\t\t\t\t\t// use NS app extension to indicate reps\r\n\t\t\t\t\twriteNetscapeExt();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\twriteGraphicCtrlExt(); // write graphic control extension\r\n\t\t\tif (comment !== '') {\r\n\t\t\t\twriteCommentExt(); // write comment extension\r\n\t\t\t}\r\n\t\t\twriteImageDesc(); // image descriptor\r\n\t\t\tif (!firstFrame) writePalette(); // local color table\r\n\t\t\twritePixels(); // encode and write pixel data\r\n\t\t\tfirstFrame = false;\r\n\t\t} catch (e) {\r\n\t\t\tok = false;\r\n\t\t}\r\n\r\n\t\treturn ok;\r\n\t};\r\n\r\n\t/**\r\n\t* @description: Downloads the encoded gif with the given name\r\n\t* No need of any conversion from the stream data (out) to base64\r\n\t* Solves the issue of large file sizes when there are more frames\r\n\t* and does not involve in creation of any temporary data in the process\r\n\t* so no wastage of memory, and speeds up the process of downloading\r\n\t* to just calling this function.\r\n\t* @parameter {String} filename filename used for downloading the gif\r\n\t*/\r\n\r\n\tvar download = exports.download = function download(filename) {\r\n\t\tif (out === null || closeStream === false) {\r\n\t\t\tconsole.log(\"Please call start method and add frames and call finish method before calling download\");\r\n\t\t} else {\r\n\t\t\tfilename = filename !== undefined ? (filename.endsWith(\".gif\") ? filename : filename + \".gif\") : \"download.gif\";\r\n\t\t\tvar templink = document.createElement(\"a\");\r\n\t\t\ttemplink.download = filename;\r\n\t\t\ttemplink.href = URL.createObjectURL(new Blob([new Uint8Array(out.bin)], { type: \"image/gif\" }));\r\n\t\t\ttemplink.click();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Adds final trailer to the GIF stream, if you don't call the finish method\r\n\t * the GIF stream will not be valid.\r\n\t */\r\n\r\n\tvar finish = exports.finish = function finish() {\r\n\r\n\t\tif (!started) return false;\r\n\r\n\t\tvar ok = true;\r\n\t\tstarted = false;\r\n\r\n\t\ttry {\r\n\t\t\tout.writeByte(0x3b); // gif trailer\r\n\t\t\tcloseStream = true;\r\n\t\t} catch (e) {\r\n\t\t\tok = false;\r\n\t\t}\r\n\r\n\t\treturn ok;\r\n\t};\r\n\r\n\t/**\r\n\t * Resets some members so that a new stream can be started.\r\n\t * This method is actually called by the start method\r\n\t */\r\n\r\n\tvar reset = function reset() {\r\n\r\n\t\t// reset for subsequent use\r\n\t\ttransIndex = 0;\r\n\t\timage = null;\r\n\t\tpixels = null;\r\n\t\tindexedPixels = null;\r\n\t\tcolorTab = null;\r\n\t\tcloseStream = false;\r\n\t\tfirstFrame = true;\r\n\t};\r\n\r\n\t/**\r\n\t * * Sets frame rate in frames per second. Equivalent to\r\n\t * <code>setDelay(1000/fps)</code>.\r\n\t * @param fps\r\n\t * float frame rate (frames per second)\r\n\t */\r\n\r\n\tvar setFrameRate = exports.setFrameRate = function setFrameRate(fps) {\r\n\t\tif (fps !== 0xf) delay = Math.round(100 / fps);\r\n\t};\r\n\r\n\t/**\r\n\t * Sets quality of color quantization (conversion of images to the maximum 256\r\n\t * colors allowed by the GIF specification). Lower values (minimum = 1)\r\n\t * produce better colors, but slow processing significantly. 10 is the\r\n\t * default, and produces good color mapping at reasonable speeds. Values\r\n\t * greater than 20 do not yield significant improvements in speed.\r\n\t * @param quality\r\n\t * int greater than 0.\r\n\t * @return\r\n\t */\r\n\r\n\tvar setQuality = exports.setQuality = function setQuality(quality) {\r\n\t\tif (quality < 1) quality = 1;\r\n\t\tsample = quality;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the GIF frame size. The default size is the size of the first frame\r\n\t * added if this method is not invoked.\r\n\t * @param w\r\n\t * int frame width.\r\n\t * @param h\r\n\t * int frame width.\r\n\t */\r\n\r\n\tvar setSize = exports.setSize = function setSize(w, h) {\r\n\r\n\t\tif (started && !firstFrame) return;\r\n\t\twidth = w;\r\n\t\theight = h;\r\n\t\tif (width < 1) width = 320;\r\n\t\tif (height < 1) height = 240;\r\n\t\tsizeSet = true;\r\n\t};\r\n\r\n\t/**\r\n\t * Initiates GIF file creation on the given stream.\r\n\t * @param os\r\n\t * OutputStream on which GIF images are written.\r\n\t * @return false if initial write failed.\r\n\t */\r\n\r\n\tvar start = exports.start = function start() {\r\n\r\n\t\treset();\r\n\t\tvar ok = true;\r\n\t\tcloseStream = false;\r\n\t\tout = new ByteArray();\r\n\t\ttry {\r\n\t\t\tout.writeUTFBytes(\"GIF89a\"); // header\r\n\t\t} catch (e) {\r\n\t\t\tok = false;\r\n\t\t}\r\n\r\n\t\treturn started = ok;\r\n\t};\r\n\r\n\tvar cont = exports.cont = function cont() {\r\n\r\n\t\treset();\r\n\t\tvar ok = true;\r\n\t\tcloseStream = false;\r\n\t\tout = new ByteArray();\r\n\r\n\t\treturn started = ok;\r\n\t};\r\n\r\n\t/**\r\n\t * Analyzes image colors and creates color map.\r\n\t */\r\n\r\n\tvar analyzePixels = function analyzePixels() {\r\n\r\n\t\tvar len = pixels.length;\r\n\t\tvar nPix = len / 3;\r\n\t\tindexedPixels = [];\r\n\t\tvar nq = new NeuQuant(pixels, len, sample);\r\n\r\n\t\t// initialize quantizer\r\n\t\tcolorTab = nq.process(); // create reduced palette\r\n\r\n\t\t// map image pixels to new palette\r\n\t\tvar k = 0;\r\n\t\tfor (var j = 0; j < nPix; j++) {\r\n\t\t\tvar index = nq.map(pixels[k++] & 0xff, pixels[k++] & 0xff, pixels[k++] & 0xff);\r\n\t\t\tusedEntry[index] = true;\r\n\t\t\tindexedPixels[j] = index;\r\n\t\t}\r\n\r\n\t\tpixels = null;\r\n\t\tcolorDepth = 8;\r\n\t\tpalSize = 7;\r\n\r\n\t\t// get closest match to transparent color if specified\r\n\t\tif (transparent !== null) {\r\n\t\t\ttransIndex = findClosest(transparent);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Returns index of palette color closest to c\r\n\t */\r\n\r\n\tvar findClosest = function findClosest(c) {\r\n\r\n\t\tif (colorTab === null) return -1;\r\n\t\tvar r = (c & 0xFF0000) >> 16;\r\n\t\tvar g = (c & 0x00FF00) >> 8;\r\n\t\tvar b = (c & 0x0000FF);\r\n\t\tvar minpos = 0;\r\n\t\tvar dmin = 256 * 256 * 256;\r\n\t\tvar len = colorTab.length;\r\n\r\n\t\tfor (var i = 0; i < len;) {\r\n\t\t\tvar dr = r - (colorTab[i++] & 0xff);\r\n\t\t\tvar dg = g - (colorTab[i++] & 0xff);\r\n\t\t\tvar db = b - (colorTab[i] & 0xff);\r\n\t\t\tvar d = dr * dr + dg * dg + db * db;\r\n\t\t\tvar index = i / 3;\r\n\t\t\tif (usedEntry[index] && (d < dmin)) {\r\n\t\t\t\tdmin = d;\r\n\t\t\t\tminpos = index;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn minpos;\r\n\t};\r\n\r\n\t/**\r\n\t * Extracts image pixels into byte array \"pixels\r\n\t */\r\n\r\n\tvar getImagePixels = function getImagePixels() {\r\n\t\tvar w = width;\r\n\t\tvar h = height;\r\n\t\tpixels = [];\r\n\t\tvar data = image;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (var i = 0; i < h; i++) {\r\n\r\n\t\t\tfor (var j = 0; j < w; j++) {\r\n\r\n\t\t\t\tvar b = (i * w * 4) + j * 4;\r\n\t\t\t\tpixels[count++] = data[b];\r\n\t\t\t\tpixels[count++] = data[b + 1];\r\n\t\t\t\tpixels[count++] = data[b + 2];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Writes Graphic Control Extension\r\n\t */\r\n\r\n\tvar writeGraphicCtrlExt = function writeGraphicCtrlExt() {\r\n\t\tout.writeByte(0x21); // extension introducer\r\n\t\tout.writeByte(0xf9); // GCE label\r\n\t\tout.writeByte(4); // data block size\r\n\t\tvar transp;\r\n\t\tvar disp;\r\n\t\tif (transparent === null) {\r\n\t\t\ttransp = 0;\r\n\t\t\tdisp = 0; // dispose = no action\r\n\t\t} else {\r\n\t\t\ttransp = 1;\r\n\t\t\tdisp = 2; // force clear if using transparent color\r\n\t\t}\r\n\t\tif (dispose >= 0) {\r\n\t\t\tdisp = dispose & 7; // user override\r\n\t\t}\r\n\t\tdisp <<= 2;\r\n\t\t// packed fields\r\n\t\tout.writeByte(0 | // 1:3 reserved\r\n\t\t\tdisp | // 4:6 disposal\r\n\t\t\t0 | // 7 user input - 0 = none\r\n\t\t\ttransp); // 8 transparency flag\r\n\r\n\t\tWriteShort(delay); // delay x 1/100 sec\r\n\t\tout.writeByte(transIndex); // transparent color index\r\n\t\tout.writeByte(0); // block terminator\r\n\t};\r\n\r\n\t/**\r\n\t * Writes Comment Extention\r\n\t */\r\n\r\n\tvar writeCommentExt = function writeCommentExt() {\r\n\t\tout.writeByte(0x21); // extension introducer\r\n\t\tout.writeByte(0xfe); // comment label\r\n\t\tout.writeByte(comment.length); // Block Size (s)\r\n\t\tout.writeUTFBytes(comment);\r\n\t\tout.writeByte(0); // block terminator\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Writes Image Descriptor\r\n\t */\r\n\r\n\tvar writeImageDesc = function writeImageDesc() {\r\n\r\n\t\tout.writeByte(0x2c); // image separator\r\n\t\tWriteShort(0); // image position x,y = 0,0\r\n\t\tWriteShort(0);\r\n\t\tWriteShort(width); // image size\r\n\t\tWriteShort(height);\r\n\r\n\t\t// packed fields\r\n\t\tif (firstFrame) {\r\n\t\t\t// no LCT - GCT is used for first (or only) frame\r\n\t\t\tout.writeByte(0);\r\n\t\t} else {\r\n\t\t\t// specify normal LCT\r\n\t\t\tout.writeByte(0x80 | // 1 local color table 1=yes\r\n\t\t\t\t0 | // 2 interlace - 0=no\r\n\t\t\t\t0 | // 3 sorted - 0=no\r\n\t\t\t\t0 | // 4-5 reserved\r\n\t\t\t\tpalSize); // 6-8 size of color table\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Writes Logical Screen Descriptor\r\n\t */\r\n\r\n\tvar writeLSD = function writeLSD() {\r\n\r\n\t\t// logical screen size\r\n\t\tWriteShort(width);\r\n\t\tWriteShort(height);\r\n\t\t// packed fields\r\n\t\tout.writeByte((0x80 | // 1 : global color table flag = 1 (gct used)\r\n\t\t\t0x70 | // 2-4 : color resolution = 7\r\n\t\t\t0x00 | // 5 : gct sort flag = 0\r\n\t\t\tpalSize)); // 6-8 : gct size\r\n\r\n\t\tout.writeByte(0); // background color index\r\n\t\tout.writeByte(0); // pixel aspect ratio - assume 1:1\r\n\t};\r\n\r\n\t/**\r\n\t * Writes Netscape application extension to define repeat count.\r\n\t */\r\n\r\n\tvar writeNetscapeExt = function writeNetscapeExt() {\r\n\t\tout.writeByte(0x21); // extension introducer\r\n\t\tout.writeByte(0xff); // app extension label\r\n\t\tout.writeByte(11); // block size\r\n\t\tout.writeUTFBytes(\"NETSCAPE\" + \"2.0\"); // app id + auth code\r\n\t\tout.writeByte(3); // sub-block size\r\n\t\tout.writeByte(1); // loop sub-block id\r\n\t\tWriteShort(repeat); // loop count (extra iterations, 0=repeat forever)\r\n\t\tout.writeByte(0); // block terminator\r\n\t};\r\n\r\n\t/**\r\n\t * Writes color table\r\n\t */\r\n\r\n\tvar writePalette = function writePalette() {\r\n\t\tout.writeBytes(colorTab);\r\n\t\tvar n = (3 * 256) - colorTab.length;\r\n\t\tfor (var i = 0; i < n; i++) out.writeByte(0);\r\n\t};\r\n\r\n\tvar WriteShort = function WriteShort(pValue) {\r\n\t\tout.writeByte(pValue & 0xFF);\r\n\t\tout.writeByte((pValue >> 8) & 0xFF);\r\n\t};\r\n\r\n\t/**\r\n\t * Encodes and writes pixel data\r\n\t */\r\n\r\n\tvar writePixels = function writePixels() {\r\n\t\tvar myencoder = new LZWEncoder(width, height, indexedPixels, colorDepth);\r\n\t\tmyencoder.encode(out);\r\n\t};\r\n\r\n\t/**\r\n\t * Retrieves the GIF stream\r\n\t */\r\n\r\n\tvar stream = exports.stream = function stream() {\r\n\t\treturn out;\r\n\t};\r\n\r\n\tvar setProperties = exports.setProperties = function setProperties(has_start, is_first) {\r\n\t\tstarted = has_start;\r\n\t\tfirstFrame = is_first;\r\n\t};\r\n\r\n\treturn exports;\r\n\r\n};\r\n\r\nexport default GIFEncoder;","/* eslint-disable no-undef */\r\n\r\nimport { put, fork, delay } from 'redux-saga/effects';\r\nimport actions from '../actions';\r\nimport encode64 from './jsgif/b64';\r\nimport GIFEncoder from './jsgif/GIFEncoder';\r\n\r\nexport default function* convertGifFunc({ payload: { canvasElement, imgElements } }) {\r\n    yield fork(convertGif, canvasElement, imgElements);\r\n}\r\n\r\nfunction* convertGif(canvasElement, imgElements) {\r\n    yield delay(500);\r\n    //\r\n    //canvasの取得\r\n    var ctx = yield canvasElement.current.getContext('2d');\r\n    //GIFEncoderの初期処理\r\n    const encoder = yield new GIFEncoder();\r\n    yield encoder.setRepeat(0); //繰り返し回数 0=無限ループ\r\n    //yield encoder.setDelay(50); //1コマあたりの待機秒数（ミリ秒）\r\n    yield encoder.setDelay(100); //1コマあたりの待機秒数（ミリ秒）\r\n    yield encoder.start();\r\n    //canvasのサイズを1枚目のコマに合わせる\r\n    canvasElement.current.width = imgElements[0].current.naturalWidth;\r\n    canvasElement.current.height = imgElements[0].current.naturalHeight;\r\n    //全ての画像をcanvasへ描画\r\n    for (let i = 0; i < imgElements.length; i++) {\r\n        yield ctx.drawImage(imgElements[i].current, 0, 0);\r\n        yield encoder.addFrame(ctx); //コマ追加\r\n    }\r\n    //アニメGIFの生成\r\n    yield encoder.finish();\r\n    let gifFileName = 'data:image/gif;base64,';\r\n    gifFileName += yield encode64(encoder.stream().getData());\r\n    //\r\n    yield put(actions.setConvertGifResult(encoder, gifFileName));\r\n}","\r\nimport {\r\n    take,\r\n    fork,\r\n    put,\r\n    select,\r\n    delay\r\n} from 'redux-saga/effects';\r\nimport actions from '../actions';\r\n\r\n\r\nexport function* serialWrite(text) {\r\n    console.log(\"===============================\");\r\n    console.log(\"送信:\" + text);\r\n    const port = yield select(state => state.serial.port);\r\n    if (!port) {\r\n        console.log(\"送信しようとしましたが、シリアルポートが存在しません\");\r\n        return;\r\n    }\r\n    try {\r\n        const writer = yield port.writable.getWriter();\r\n        const value = new TextEncoder().encode(text);\r\n        yield writer.write(value);\r\n        yield writer.releaseLock();\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport function* serialWaitBegin() {\r\n    while (true) {\r\n        const port = yield select(state => state.serial.port);\r\n        if (port) {\r\n            break;\r\n        }\r\n        yield take(actions.serial.setPortData); //シリアルポートの開放を待つ\r\n        yield delay(100);   //storeに反映されるのを待つ\r\n    }\r\n}\r\n\r\nexport function* serialBegin(baudRate) {\r\n    let port = null;\r\n    try {\r\n        /*port = yield navigator.serial.requestPort({\r\n            filters: [\r\n                { usbVendorId: 0x0403, usbProductId: 0x6015, },\r\n            ]\r\n        });*/\r\n        port = yield navigator.serial.requestPort();\r\n        yield port.open({ baudRate: baudRate });\r\n        if (!port) {\r\n            return;\r\n        }\r\n        if (!port.readable) {\r\n            yield port.close();\r\n            return;\r\n        }\r\n        let reader = yield port.readable.getReader();\r\n        yield fork(waitDisconnect, reader);   //バックグラウンド処理開始\r\n        console.log(\"===============================\");\r\n        console.log(\"ポート開放完了\");\r\n        yield put(actions.serial.setPortData(port));\r\n        //\r\n        //=====読み取り==================================\r\n        while (true) {\r\n            const { value, done } = yield reader.read();\r\n            if (done) {\r\n                break; // キャンセル\r\n            }\r\n            const newText = new TextDecoder().decode(value);\r\n            yield put(actions.serialCommand.recieve(newText));\r\n        }\r\n        //===============================================\r\n        //\r\n        //\r\n        //=====ポート閉鎖================================\r\n        yield reader.releaseLock();\r\n        yield port.close();\r\n        console.log(\"===============================\");\r\n        console.log(\"ポート閉鎖完了\");\r\n        //===============================================\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n    finally {\r\n        yield put(actions.serial.clearPortData());\r\n    }\r\n}\r\n\r\nfunction* waitDisconnect(reader) {\r\n    try {\r\n        yield take(actions.serial.disconnect);   //アクション「disconnect」が実行されるまで待つ\r\n        yield reader.cancel();  //読み取り終了\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n}\r\n","\r\nimport {\r\n    delay,\r\n    select,\r\n    put,\r\n    race,\r\n    take,\r\n} from 'redux-saga/effects';\r\nimport actions from '../actions';\r\nimport {\r\n    serialWaitBegin,\r\n    serialWrite,\r\n} from './serial';\r\nimport axios from 'axios';\r\n\r\nexport function* serialReciveLoop() {\r\n    let text = \"\";\r\n    while (true) {\r\n        let ms = yield select(state => state.serialCommand.timeout);\r\n        if (!ms) {\r\n            ms = 100;\r\n        }\r\n        const { data, timeout } = yield race({\r\n            data: take(actions.serialCommand.recieve),  //データの到着を待つ\r\n            timeout: delay(ms),    //ms秒間受信しなかったら、次のコマンドを送る\r\n        });\r\n        if (timeout) {\r\n            //最近、受信していない\r\n            if (text) {\r\n                //データが溜まっている場合\r\n                yield nextFn(text);\r\n                text = \"\";\r\n            }\r\n            else {\r\n                //データが溜まっていない場合\r\n                yield firstFn();\r\n            }\r\n        }\r\n        else {\r\n            //受信した\r\n            text += data.payload.newText;\r\n        }\r\n    }\r\n}\r\n\r\nfunction* firstFn() {\r\n    const commands = yield select(state => state.serialCommand.commands);\r\n    if (commands.length <= 0) {\r\n        return;\r\n    }\r\n    const continueFlag = yield select(state => state.serialCommand.continueFlag);\r\n    const progress = yield select(state => state.serialCommand.commandProgress);\r\n    if (!continueFlag) {\r\n        return;\r\n    }\r\n    else if (progress === -1) {\r\n        if (!commands[0].sendData) {\r\n            return;\r\n        }\r\n        yield serialWaitBegin();\r\n        yield put(actions.serialCommand.setRecieveData(\"\"));\r\n        //yield put(actions.serialCommand.openDialog());\r\n        yield serialWrite(commands[0].sendData);    //最初のコマンドを送信\r\n    }\r\n    else if (0 <= progress && progress < commands.length) {\r\n        const timeoutAction = yield select(state => state.serialCommand.timeoutAction);\r\n        if (!timeoutAction) {\r\n            return;\r\n        }\r\n        const errorMessages = yield select(state => state.serialCommand.errorMessages);\r\n        if (errorMessages.length > 0) {\r\n            return;\r\n        }\r\n        yield put(timeoutAction);\r\n    }\r\n}\r\n\r\nfunction* nextFn(text) {\r\n    //新しいレスポンスを受信した！\r\n    const commands = yield select(state => state.serialCommand.commands);\r\n    const progress = yield select(state => state.serialCommand.commandProgress);\r\n    const continueFlag = yield select(state => state.serialCommand.continueFlag);\r\n    const nextProgress = progress + 1;\r\n    //\r\n    //今回受け取ったレスポンスを、storeに保存\r\n    yield put(actions.serialCommand.setRecieveData(text));\r\n    //\r\n    // IM920から受け取ったデータを整形\r\n    for (let i = 0; i < text.split(\"\\r\\n\").length; i++) {\r\n        let recieveText = text.split(\"\\r\\n\")[i];   //改行で区切る\r\n        if (recieveText.length === 34 && recieveText.substr(10, 1) === \":\") {\r\n            const hexString = recieveText.split(\":\")[1];      //コロン「:」以後だけを切り取る\r\n            const hexStrings = hexString.split(\",\");\r\n            let soc = parseInt(hexStrings[0], 16);\r\n            let loadvoltage = parseInt(hexStrings[1], 16);\r\n            let current_mA = parseInt(hexStrings[2] + hexStrings[3], 16);\r\n            let temp = parseInt(hexStrings[4], 16);\r\n            let humidity = parseInt(hexStrings[5], 16);\r\n            let pressure = parseInt(hexStrings[6], 16);\r\n            let gas = parseInt(hexStrings[7], 16);\r\n            soc /= 2;\r\n            loadvoltage /= 50;\r\n            loadvoltage += 12.00;\r\n            current_mA /= 50;\r\n            temp /= 4;\r\n            temp -= 10;\r\n            humidity /= 2;\r\n            pressure /= 8;\r\n            pressure += 998;\r\n            gas *= 4;\r\n            const date = new Date();\r\n            const im920 = {\r\n                id: \"_\" + date.getTime(),\r\n                type: \"IM920\",\r\n                timestamp: date.getTime(),\r\n                year: date.getFullYear(),\r\n                month: date.getMonth() + 1,\r\n                day: date.getDate(),\r\n                week: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"][date.getDay()],\r\n                hour: date.getHours(),\r\n                minutes: date.getMinutes(),\r\n                seconds: date.getSeconds(),\r\n                name: \"外でも涼しく過ごせるミスト\",\r\n                solar: {\r\n                    voltage: loadvoltage,\r\n                    current: current_mA,\r\n                    power: loadvoltage * current_mA,\r\n                },\r\n                battery: soc,\r\n                temperature: temp,\r\n                pressure: pressure,\r\n                humidity: humidity,\r\n                gas: gas,\r\n            };\r\n            console.log(im920);\r\n            try {\r\n                const res = yield axios.post(\r\n                    \"https://tec-log2.azurewebsites.net/api/sigfox?code=LcC9XuDli8elQBhqGKqSJSItqnRVp6Zw3kbeTgiODYXQaiYko3t8ag==\",\r\n                    im920\r\n                );\r\n                if (res.status === 200) {\r\n                    yield console.log(\"IM920のデータをアップロードしました\");\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(\"エラー\");\r\n                console.log(error);\r\n            }\r\n            finally {\r\n            }\r\n        }\r\n    }\r\n    //\r\n    const errorMessages = yield select(state => state.serialCommand.errorMessages);\r\n    if (errorMessages.length > 0) {\r\n        return;\r\n    }\r\n    //\r\n    if (!continueFlag) {\r\n        return;\r\n    }\r\n    //\r\n    if (nextProgress === commands.length) {\r\n        //全てのコマンドを受信した場合\r\n        const completeAction = yield select(state => state.serialCommand.completeAction);\r\n        if (completeAction) {\r\n            yield delay(1000);\r\n            yield put(completeAction);\r\n        }\r\n        return;\r\n    }\r\n    //\r\n    if (0 <= nextProgress && nextProgress < commands.length) {\r\n        //次のコマンドを送信\r\n        const nextCommand = yield select(state => state.serialCommand.commands[nextProgress].sendData);\r\n        yield serialWrite(nextCommand);\r\n    }\r\n}","\r\nimport {\r\n    delay,\r\n    put,\r\n    select,\r\n} from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport actions from '../actions';\r\n\r\nexport default function* azureReciveLoop() {\r\n    while (true) {\r\n        try {\r\n            const res = yield axios.get(\"https://tec-log2.azurewebsites.net/api/sigfox?code=LcC9XuDli8elQBhqGKqSJSItqnRVp6Zw3kbeTgiODYXQaiYko3t8ag==\");\r\n            if (res.status === 200) {\r\n                yield console.log(\"データを更新しました\");\r\n                yield put(actions.setIotDatas(res.data));\r\n            }\r\n            const connectFlag = yield select(state => state.im920.wired.connectFlag);\r\n            if (connectFlag) {\r\n                const res2 = yield axios.get(\"https://tec-log2.azurewebsites.net/api/getMist?code=SeaIp6k5DSKFAuA2Iqexg5e5SJ0D/F/bihCDOpde/8d2pZ5XGpeLBA==\");\r\n                if (res2.status === 200) {\r\n                    yield put(actions.im920.mist.recieve(res2.data.mist, res2.data.led, res2.data.music));\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(\"エラー\");\r\n            console.log(error);\r\n        }\r\n        finally {\r\n        }\r\n        yield delay(3000);\r\n    }\r\n}\r\n","\r\nimport {\r\n    put,\r\n    fork,\r\n} from 'redux-saga/effects';\r\nimport actions from '../actions';\r\nimport {\r\n    serialBegin,\r\n} from './serial';\r\n\r\n\r\nexport function* im920DisconnectFn() {\r\n    yield put(actions.serial.disconnect());\r\n}\r\n\r\n\r\nexport function* im920ConnectFn() {\r\n    yield fork(serialBegin, 19200);\r\n}\r\n","\r\nimport {\r\n    put,\r\n} from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport actions from '../actions';\r\n\r\nexport default function* mistSendFn({ payload: { mist, led, music } }) {\r\n    try {\r\n        const res = yield axios.post(\r\n            \"https://tec-log2.azurewebsites.net/api/postMist?code=JbDBeBLzW9A9uoQmtCgpdYJmIiFgVP5qTlfWAfrBJXXBswb7k4F7Yw==\",\r\n            {\r\n                mist: mist,\r\n                led: led,\r\n                music: music,\r\n            }\r\n        );\r\n        if (res.status === 200) {\r\n            yield console.log(\"設定データを送信しました\");\r\n            yield put(actions.setIotDatas(res.data));\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.log(\"エラー\");\r\n        console.log(error);\r\n    }\r\n    finally {\r\n    }\r\n}\r\n","\r\n//yield put({type:'ACTION', ...})   ActionをDispatchする\r\n//yield take(['ACTION'])            指定のActionがDispatchされるまで待つ\r\n//yield takeEvery('ACTION', func)   ActionがDispatchされたら、毎回関数を呼び出すように設定する（同じActionが複数回来た場合は、並列で処理を行う）\r\n//yield call(func, args)            関数をを呼び出して、終了を待つ（関数から戻り値を貰える）\r\n//yield fork(func)                  バックグラウンド処理を開始する。（終了は待たない）\r\n//yield select(selector関数, args)  storeからデータを取りたい\r\n//takeLatest                        処理をキャンセルし、新しい処理を行う\r\n//axios.get(..)                     する関数とかをコール\r\n\r\nimport { takeEvery, fork } from 'redux-saga/effects';\r\n\r\nimport actions from '../actions';\r\nimport convertGifFunc from './convertGif';\r\n//import sigfoxLoop from './sigfox';\r\nimport { serialReciveLoop } from './serialCommand';\r\nimport azureReciveLoop from './azureReciveLoop';\r\nimport { im920ConnectFn, im920DisconnectFn } from './im920';\r\nimport mistSendFn from './mist';\r\n\r\nexport default function* rootSaga() {\r\n    yield console.log(\"redux メイン関数　スタート\");\r\n    //\r\n    yield fork(serialReciveLoop);\r\n    yield fork(azureReciveLoop);\r\n    //yield fork(sigfoxLoop);\r\n    yield takeEvery(actions.im920.wired.connect, im920ConnectFn);\r\n    yield takeEvery(actions.im920.wired.disconnect, im920DisconnectFn);\r\n    yield takeEvery(actions.im920.wired.timeout, im920DisconnectFn);\r\n    yield takeEvery(actions.im920.mist.send, mistSendFn);\r\n    yield takeEvery(actions.convertGif, convertGifFunc);\r\n    //\r\n    yield console.log(\"redux メイン関数　終了\");\r\n}","\r\nconst PACKET_SIZE = 4;\r\n\r\nconst MASK = parseInt(\"1001\", 2);\r\nconst ST1 = parseInt(\"0101\", 2);    //5\r\nconst ST2 = parseInt(\"1010\", 2);    //10\r\nconst ESC = parseInt(\"1110\", 2);    //14\r\n\r\n//#################################################################################\r\n\r\nexport const testLifi = (testMode) => {\r\n    let result = [0];\r\n    if (testMode === \"combo\") {\r\n        result = [];\r\n        for (let i = 0; i < 10; i++) {\r\n            result = result.concat(xor([15, 9, 14, 7]));\r\n        }\r\n    }\r\n    else if (testMode === \"rotate\") {\r\n        result = xor([ST1, ESC, 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15]);\r\n        // 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15, 4\r\n        // が届くはず\r\n    }\r\n    else if (testMode === \"lastDelete\") {\r\n        result = xor([ST1, ESC, 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15]);\r\n        // 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15\r\n        // が届くはず\r\n        result = result.concat(xor([ST1, ESC, 4, 7, 3, 11]));\r\n        // 4, 7, 3, 11\r\n        // が届くはず\r\n    }\r\n    else if (testMode === \"escape\") {\r\n        const halfByteArray2 = maskFlash([0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0, 11, 0, 12, 0, 13, 0, 14, 0, 15, 0]);\r\n        const halfByteArray3 = startBitAndEscape(halfByteArray2);\r\n        result = xor(halfByteArray3);\r\n        //const halfByteArray4 = maskFlash([9, 8, 7, 13]);\r\n        //const halfByteArray5 = startBitAndEscape(halfByteArray4);\r\n        //result = result.concat(xor(halfByteArray5));\r\n    }\r\n    else if (testMode === \"JoinHalfByte\") {\r\n        //const halfByteArray1 = splitHalfByte([0, 40, 80, 120, 160, 200, 240, 255]);\r\n        const halfByteArray1 = splitHalfByte([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]);\r\n        const halfByteArray2 = maskFlash(halfByteArray1);\r\n        const halfByteArray3 = startBitAndEscape(halfByteArray2);\r\n        result = xor(halfByteArray3);\r\n    }\r\n    else if (testMode === \"singleCheckSum\") {\r\n        const originalData = [\r\n            148,\r\n            120,\r\n            17,\r\n            214,\r\n            4,\r\n            139,\r\n            137,\r\n            179,\r\n            48,\r\n            206,//エラー\r\n            21,\r\n            47,\r\n            83,\r\n            81,\r\n            136,\r\n            235,\r\n            45,\r\n            221,\r\n            82,\r\n            149,\r\n            227\r\n        ];\r\n        console.log(originalData);\r\n        const checkSumData = addCheckSum(originalData);\r\n        console.log(\"チェックサムは\" + checkSumData[checkSumData.length - 1]);\r\n        const halfByteArray4 = splitHalfByte(checkSumData);\r\n        const halfByteArray5 = maskFlash(halfByteArray4);\r\n        const halfByteArray6 = startBitAndEscape(halfByteArray5);\r\n        result = xor(halfByteArray6);\r\n    }\r\n    else if (testMode === \"randomCheckSum\") {\r\n        result = [];\r\n        for (let i = 0; i < 10; i++) {\r\n            const originalData = [];\r\n            const packetLength = getRandomInt(1, 10);\r\n            for (let i = 0; i < packetLength; i++) {\r\n                originalData.push(getRandomInt(0, 255));\r\n            }\r\n            console.log(originalData);\r\n            const checkSumData = addCheckSum(originalData);\r\n            console.log(\"チェックサムは\" + checkSumData[checkSumData.length - 1]);\r\n            const halfByteArray4 = splitHalfByte(checkSumData);\r\n            const halfByteArray5 = maskFlash(halfByteArray4);\r\n            const halfByteArray6 = startBitAndEscape(halfByteArray5);\r\n            result = result.concat(xor(halfByteArray6));\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nconst getRandomInt = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min));\r\n}\r\n\r\n//#################################################################################\r\n\r\nconst exchangeLifi = (originalData) => {\r\n    //\r\n    const packetNum = Math.ceil((originalData.length + 1) / PACKET_SIZE);  //パケットの個数を求める\r\n    originalData.unshift(packetNum);    //先頭に「パケットの個数」を追加\r\n    //\r\n    const packets = splitPacket(originalData); //パケットごとに分割\r\n    //\r\n    //ビット列に変換\r\n    let bitArray = [];\r\n    packets.map((packet, i) => {\r\n        packet.unshift(i * PACKET_SIZE);    //パケットの先頭にアドレスを追加\r\n        const checkSumData = addCheckSum(packet);\r\n        const halfByteArray1 = splitHalfByte(checkSumData);\r\n        const halfByteArray2 = maskFlash(halfByteArray1);\r\n        const halfByteArray3 = startBitAndEscape(halfByteArray2);\r\n        const halfByteArray4 = xor(halfByteArray3);\r\n        bitArray = bitArray.concat(halfByteArray4); //ビット列を連結\r\n        return null;\r\n    });\r\n    return bitArray;\r\n}\r\nexport default exchangeLifi;\r\n\r\n//#################################################################################\r\n\r\nconst splitPacket = (original) => {\r\n    //パケットごとに分割\r\n    const result = [];\r\n    original.map((byte, i) => {\r\n        const packetIndex = Math.floor(i / PACKET_SIZE);\r\n        if (!result[packetIndex]) {\r\n            result[packetIndex] = [];\r\n        }\r\n        result[packetIndex][i % PACKET_SIZE] = byte;\r\n        return null;\r\n    });\r\n    return result;\r\n}\r\n\r\nconst bitRead = (data, i) => {\r\n    i %= 8;\r\n    data = data >> i;\r\n    return data % 2;\r\n}\r\n\r\nconst rotationBits = (original, shift) => {\r\n    shift %= 8;\r\n    let result = 0;\r\n    for (let i = 0; i < 8; i++) {\r\n        result += (bitRead(original, shift + i) << i);\r\n    }\r\n    return result;\r\n}\r\n\r\nconst addCheckSum = (original) => {\r\n    let checkSum = 0;\r\n    original.map((byte, i) => {\r\n        checkSum ^= rotationBits(byte, i);\r\n        return null;\r\n    });\r\n    original.push(checkSum);\r\n    return original;\r\n}\r\n\r\nconst splitHalfByte = (original) => {\r\n    const result = [];\r\n    original.map(byte => {\r\n        result.push(byte & parseInt(\"00001111\", 2));\r\n        result.push((byte >> 4) & parseInt(\"00001111\", 2));\r\n        return null;\r\n    });\r\n    return result;\r\n}\r\n\r\nconst maskFlash = (original) => {\r\n    const result = original.map(byte => byte ^ MASK);\r\n    return result;\r\n}\r\n\r\nconst startBitAndEscape = (original) => {\r\n    const result = [];\r\n    result.push(ST1); //先頭に追加\r\n    result.push(ESC); //先頭に追加\r\n    original.map(byte => {\r\n        switch (byte) {\r\n            case 0: // データの途中に 0 があったら\r\n                result.push(ESC);      // ESC で置き換え\r\n                result.push(byte ^ MASK); // 直後に ESC_ZERO を挿入\r\n                break;\r\n            case ST1: // データの途中に ST1 があったら\r\n                result.push(ESC);     // ESC で置き換え\r\n                result.push(byte ^ MASK); // 直後に ESC_ST1 を挿入\r\n                break;\r\n            case ST2: // データの途中に ST2 があったら\r\n                result.push(ESC);     // ESC で置き換え\r\n                result.push(byte ^ MASK); // 直後に ESC_ST2 を挿入\r\n                break;\r\n            case ESC: // データの途中に ESC があったら\r\n                result.push(ESC);      // ESC で置き換え\r\n                result.push(byte ^ MASK);  // 直後に ESC_ESC を挿入\r\n                break;\r\n            default:\r\n                result.push(byte);      // そのまま\r\n        }\r\n        return null;\r\n    });\r\n    return result;\r\n}\r\n\r\nconst xor = (original) => {\r\n    const result = [15];\r\n    for (let i = 0; i < original.length; i++) {\r\n        result[i + 1] = result[i] ^ original[i];\r\n    }\r\n    const lastData = result[result.length - 1];\r\n    if (lastData === 15) {\r\n        result.push(15 ^ ESC);\r\n    }\r\n    return result;\r\n}","\r\nconst exchangeByte = (hour, min, value) => {\r\n    let data = 0;\r\n    data += (hour << 3) & parseInt(\"11111000\", 2);\r\n    data += (min << 1) & parseInt(\"00000110\", 2);\r\n    data += value & parseInt(\"00000001\", 2);\r\n    return data;\r\n}\r\n\r\nconst exchangeData0 = (timeShedule) => {\r\n    const byteData = [];\r\n    const date = new Date();\r\n    let firstByte = 0;              //モード０\r\n    firstByte += (date.getHours() << 3) & parseInt(\"11111000\", 2);\r\n    byteData.push(firstByte);\r\n    byteData.push(date.getMinutes());\r\n    let lastValue = !timeShedule[0][0];              //モード０\r\n    timeShedule.map((array, hour) => {\r\n        array.map((value, min) => {\r\n            if (lastValue !== value) {              //モード０\r\n                byteData.push(exchangeByte(hour, min, value));\r\n            }\r\n            lastValue = value;\r\n            return null;\r\n        });\r\n        return null;\r\n    });\r\n    return byteData;\r\n}\r\n\r\nconst exchangeData1 = (timeShedule) => {\r\n    const byteData = [];\r\n    const date = new Date();\r\n    let firstByte = 1;              //モード１\r\n    firstByte += (date.getHours() << 3) & parseInt(\"11111000\", 2);\r\n    byteData.push(firstByte);\r\n    byteData.push(date.getMinutes());\r\n    let lastValue = timeShedule[0][0];              //モード１\r\n    timeShedule.map((array, hour) => {\r\n        array.map((value, min) => {\r\n            if (lastValue === value) {              //モード１\r\n                byteData.push(exchangeByte(hour, min, value));\r\n            }\r\n            lastValue = value;\r\n            return null;\r\n        });\r\n        return null;\r\n    });\r\n    return byteData;\r\n}\r\n\r\n\r\nconst exchangeTimer = (timeShedule) => {\r\n    const data0 = exchangeData0(timeShedule);\r\n    const data1 = exchangeData1(timeShedule);\r\n    if (data0.length < data1.length) {\r\n        return data0;\r\n    }\r\n    else {\r\n        return data1;\r\n    }\r\n}\r\n\r\nexport default exchangeTimer;\r\n","\r\nimport { handleActions } from 'redux-actions'\r\nimport actions from './actions'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport exchangeLifi, { testLifi } from './protocols/lifi';\r\nimport exchangeTimer from './protocols/timer';\r\n\r\n\r\nconst defaultState = {\r\n    iotDatas: [],\r\n    serial: {\r\n        connectFlag: false,\r\n        port: null,\r\n        recieveDatas: [],\r\n    },\r\n    serialCommand: {\r\n        continueFlag: false,\r\n        errorMessages: [],\r\n        isDialogOpen: false,\r\n        timeout: 100,\r\n        commandProgress: -1,\r\n        completeAction: null,\r\n        timeoutAction: null,\r\n        commands: [],\r\n    },\r\n    im920: {\r\n        wired: {\r\n            connectFlag: false,\r\n            deviceId: \"\",\r\n            nodeNumber: \"\",\r\n            recieveIds: [],\r\n            channelNumber: \"\",\r\n            RSSI: \"\",\r\n            sendPower: \"\",\r\n            wirelessRate: \"\",\r\n            version: \"\",\r\n            sleepTime: \"\",\r\n            workTime: \"\",\r\n        },\r\n        mist: {\r\n            mist: \"0\",\r\n            led: \"0\",\r\n            music: \"0\",\r\n        },\r\n    },\r\n    sigfox: [\r\n        {\r\n            \"device\": {\r\n                \"id\": \"\"\r\n            },\r\n            \"time\": 0,\r\n            \"data\": \"\",\r\n            \"rolloverCounter\": 0,\r\n            \"seqNumber\": 0,\r\n            \"rinfos\": [],\r\n            \"satInfos\": [],\r\n            \"nbFrames\": 0,\r\n            \"operator\": \"\",\r\n            \"country\": \"\",\r\n            \"computedLocation\": [],\r\n            \"lqi\": 0\r\n        }\r\n    ],\r\n    bitArray: [],\r\n    encoder: null,\r\n    gifFileName: \"\",\r\n    dragFlag: false,\r\n    hoverDropArea: null,\r\n    browserId: uuidv4(),\r\n    blockCase: [\r\n        {\r\n            id: 4,\r\n        },\r\n        { id: 5 },\r\n        { id: 2 },\r\n    ],\r\n    timeShedule: [\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n        [false, false, false, false], [false, false, false, false], [false, false, false, false],\r\n    ],\r\n}\r\n\r\nexport default handleActions({\r\n    //\r\n    //\r\n    // Azureからデータ取得\r\n    //============================================================\r\n    [actions.setIotDatas]: (oldState, { payload: { iotDatas } }) => {\r\n        return {\r\n            ...oldState,\r\n            iotDatas: iotDatas,\r\n        }\r\n    },\r\n    //============================================================\r\n    //\r\n    //\r\n    // シリアル通信\r\n    //============================================================\r\n    [actions.serial.setPortData]: (oldState, { payload: { port } }) => {\r\n        return {\r\n            ...oldState,\r\n            serial: {\r\n                connectFlag: true,\r\n                port: port,\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.serial.clearPortData]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serial: {\r\n                connectFlag: false,\r\n                port: null,\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.serialCommand.setRecieveData]: (oldState, { payload: { text } }) => {\r\n        const progress = oldState.serialCommand.commandProgress;\r\n        const commands = oldState.serialCommand.commands;\r\n        const lines = text.split(\"\\r\\n\");\r\n        lines.pop();\r\n        if (0 <= progress && progress < commands.length) {\r\n            commands[progress].recieveDatas = lines;\r\n            for (const line of lines) {\r\n                if (line === \"NG\") {\r\n                    const errorMessages = oldState.serialCommand.errorMessages;\r\n                    errorMessages.push(\r\n                        \"無線モジュールへの書き込み時にエラーが発生しました\",\r\n                    );\r\n                    return {\r\n                        ...oldState,\r\n                        serialCommand: {\r\n                            ...oldState.serialCommand,\r\n                            continueFlag: false,\r\n                            errorMessages: errorMessages,\r\n                            isDialogOpen: true,\r\n                            commandProgress: progress,\r\n                            commands: commands,\r\n                        },\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        console.log(\"受信:\", lines);\r\n        return {\r\n            ...oldState,\r\n            serial: {\r\n                ...oldState.serial,\r\n                recieveDatas: lines,\r\n            },\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: true,\r\n                commandProgress: progress + 1,\r\n                commands: commands,\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.serialCommand.openDialog]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                errorMessages: [],\r\n                isDialogOpen: true,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.serialCommand.closeDialog]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    //\r\n    //\r\n    // IM920\r\n    //============================================================\r\n    [actions.im920.wired.connect]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                continueFlag: true,\r\n                errorMessages: [],\r\n                isDialogOpen: true,\r\n                timeout: 500,\r\n                commandProgress: -1,\r\n                completeAction: actions.im920.wired.setAllParameters(),\r\n                timeoutAction: actions.im920.wired.timeout(),\r\n                commands: [\r\n                    { sendData: \"RDID\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDNN\\r\", recieveDatas: [] },\r\n                    { sendData: \"RRID\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDCH\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDRS\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDPO\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDRT\\r\", recieveDatas: [] },\r\n                    { sendData: \"RDVR\\r\", recieveDatas: [] },\r\n                    { sendData: \"RSTM\\r\", recieveDatas: [] },\r\n                    { sendData: \"RWTM\\r\", recieveDatas: [] },\r\n                    { sendData: \"TXDT 00000000\\r\", recieveDatas: [] },\r\n                ],\r\n            },\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.setAllParameters]: (oldState) => {\r\n        const commands = oldState.serialCommand.commands;\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: false,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n                timeout: 0,\r\n                commandProgress: -1,\r\n                completeAction: null,\r\n                timeoutAction: null,\r\n                commands: [],\r\n            },\r\n            im920: {\r\n                ...oldState.im920,\r\n                wired: {\r\n                    connectFlag: true,\r\n                    deviceId: commands[0].recieveDatas[0],\r\n                    nodeNumber: commands[1].recieveDatas[0],\r\n                    recieveIds: commands[2].recieveDatas,\r\n                    channelNumber: commands[3].recieveDatas[0],\r\n                    RSSI: commands[4].recieveDatas[0],\r\n                    sendPower: commands[5].recieveDatas[0],\r\n                    wirelessRate: commands[6].recieveDatas[0],\r\n                    version: commands[7].recieveDatas[0],\r\n                    sleepTime: commands[8].recieveDatas[0],\r\n                    workTime: commands[9].recieveDatas[0],\r\n                },\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.executeCommands]: (oldState, { payload: { key, commands } }) => {\r\n        commands = commands.map(command => {\r\n            return {\r\n                sendData: command,\r\n                recieveDatas: []\r\n            }\r\n        });\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                continueFlag: true,\r\n                errorMessages: [],\r\n                isDialogOpen: true,\r\n                timeout: 500,\r\n                commandProgress: -1,\r\n                completeAction: actions.im920.wired.setParameter(key),\r\n                timeoutAction: actions.im920.wired.timeout(),\r\n                commands: commands,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.setParameter]: (oldState, { payload: { key } }) => {\r\n        if (!key) {\r\n            return {\r\n                ...oldState,\r\n                serialCommand: {\r\n                    ...oldState.serialCommand,\r\n                    continueFlag: false,\r\n                    errorMessages: [],\r\n                    isDialogOpen: false,\r\n                    timeout: 0,\r\n                    commandProgress: -1,\r\n                    completeAction: null,\r\n                    timeoutAction: null,\r\n                    commands: [],\r\n                },\r\n            };\r\n        }\r\n        const commands = oldState.serialCommand.commands;\r\n        let parameters = oldState.im920.wired;\r\n        parameters = JSON.parse(JSON.stringify(parameters));\r\n        if (key === \"recieveIds\") {\r\n            console.log(commands[commands.length - 1].recieveDatas);\r\n            parameters[key] = commands[commands.length - 1].recieveDatas;\r\n        }\r\n        else {\r\n            parameters[key] = commands[commands.length - 1].recieveDatas[0];\r\n        }\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: false,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n                timeout: 0,\r\n                commandProgress: -1,\r\n                completeAction: null,\r\n                timeoutAction: null,\r\n                commands: [],\r\n            },\r\n            im920: {\r\n                ...oldState.im920,\r\n                wired: parameters,\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.timeout]: (oldState) => {\r\n        const progress = oldState.serialCommand.commandProgress;\r\n        let command = oldState.serialCommand.commands[progress].sendData;\r\n        command = command.replace('\\r', '\\\\r');\r\n        command = command.replace('\\n', '\\\\n');\r\n        const ms = oldState.serialCommand.timeout;\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: false,\r\n                errorMessages: oldState.serialCommand.errorMessages.concat([\r\n                    \"失敗！\\nコマンド「\" + command + \"」を送って\" + ms + \"ミリ秒待ちましたが、応答がありませんでした\",\r\n                ]),\r\n            },\r\n            im920: {\r\n                ...oldState.im920,\r\n                wired: {\r\n                    connectFlag: false,\r\n                    deviceId: \"\",\r\n                    nodeNumber: \"\",\r\n                    recieveIds: \"\",\r\n                    channelNumber: \"\",\r\n                    RSSI: \"\",\r\n                    sendPower: \"\",\r\n                    wirelessRate: \"\",\r\n                    version: \"\",\r\n                    sleepTime: \"\",\r\n                    workTime: \"\",\r\n                },\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.disconnect]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                continueFlag: false,\r\n                errorMessages: oldState.serialCommand.errorMessages.concat([\r\n                    \"USBが切断されました\",\r\n                ]),\r\n                commandProgress: oldState.serialCommand.commands.length,\r\n            },\r\n            im920: {\r\n                ...oldState.im920,\r\n                wired: {\r\n                    connectFlag: false,\r\n                    deviceId: \"\",\r\n                    nodeNumber: \"\",\r\n                    recieveIds: \"\",\r\n                    channelNumber: \"\",\r\n                    RSSI: \"\",\r\n                    sendPower: \"\",\r\n                    wirelessRate: \"\",\r\n                    version: \"\",\r\n                    sleepTime: \"\",\r\n                    workTime: \"\",\r\n                },\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    [actions.im920.wired.continueTxdt]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            serialCommand: {\r\n                ...oldState.serialCommand,\r\n                commandProgress: -1,\r\n                isDialogOpen: false,\r\n                commands: [\r\n                    {\r\n                        sendData: \"TXDT \" + oldState.im920.mist.led + oldState.im920.mist.mist + oldState.im920.mist.music + \"00000\\r\",\r\n                        recieveDatas: [],\r\n                    },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    //\r\n    //\r\n    //\r\n    //============================================================\r\n    [actions.im920.mist.recieve]: (oldState, { payload: { mist, led, music } }) => {\r\n        return {\r\n            ...oldState,\r\n            im920: {\r\n                ...oldState.im920,\r\n                mist: {\r\n                    ...oldState.im920.mist,\r\n                    mist: mist,\r\n                    led: led,\r\n                    music: music,\r\n                },\r\n            },\r\n            serialCommand: {\r\n                continueFlag: true,\r\n                errorMessages: [],\r\n                isDialogOpen: false,\r\n                timeout: 500,\r\n                commandProgress: -1,\r\n                completeAction: actions.im920.wired.continueTxdt(),\r\n                timeoutAction: null,\r\n                commands: [\r\n                    {\r\n                        sendData: \"TXDT \" + led + mist + music + \"00000\\r\",\r\n                        recieveDatas: [],\r\n                    },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    //============================================================\r\n    //\r\n    //\r\n    //\r\n    //============================================================\r\n    [actions.setConvertGifResult]: (oldState, { payload: { encoder, gifFileName } }) => {\r\n        return {\r\n            ...oldState,\r\n            encoder: encoder,\r\n            gifFileName: gifFileName,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.clearBitArray]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            bitArray: [],\r\n            encoder: null,\r\n            gifFileName: \"\",\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setBitArray]: (oldState) => {\r\n        return {\r\n            ...oldState,\r\n            bitArray: exchangeLifi(exchangeTimer(oldState.timeShedule)),\r\n            encoder: null,\r\n            gifFileName: \"\",\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.testFlash]: (oldState, { payload: { testMode } }) => {\r\n        return {\r\n            ...oldState,\r\n            bitArray: testLifi(testMode),\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setBlockCase]: (oldState, { payload: { dropAreaId, dataTransfer } }) => {\r\n        const browserId = dataTransfer.getData(\"browserId\");      // データ転送により送られてきたデータ\r\n        const dragItemString = dataTransfer.getData(\"dragItem\");  // データ転送により送られてきたデータ\r\n        let dragItem = null;\r\n        let pastDropAreaId = null;\r\n        let blockCase = oldState.blockCase;\r\n        if (!dragItemString) {\r\n            //別のアプリから来た場合、新しいブロックを生成する\r\n            dragItem = {\r\n                id: uuidv4(),\r\n            }\r\n        }\r\n        else if (browserId !== oldState.browserId) {\r\n            //別のブラウザの、同じアプリから来た場合\r\n            dragItem = JSON.parse(dragItemString);\r\n            dragItem.id = uuidv4();\r\n        }\r\n        else {\r\n            dragItem = JSON.parse(dragItemString);\r\n            //同じブラウザで同じアプリから来た場合、ブロックの重複をなくす\r\n            blockCase = oldState.blockCase.map((item, index) => {\r\n                if (item && String(item.id) === String(dragItem.id)) {    //ドラッグアイテムのIDが重複していたら削除する\r\n                    pastDropAreaId = index;\r\n                    return null;\r\n                }\r\n                return item;\r\n            });\r\n        }\r\n        if (!blockCase[dropAreaId]) {\r\n            //上書きせずに配置できる場合\r\n            blockCase[dropAreaId] = dragItem;\r\n        }\r\n        else if (pastDropAreaId) {\r\n            //ケースの中の移動で上書きしてしまう場合\r\n            blockCase[pastDropAreaId] = blockCase[dropAreaId];\r\n            blockCase[dropAreaId] = dragItem;\r\n        }\r\n        else {\r\n            //よそからドラッグされて上書きしてしまう場合\r\n            for (let i = 0; true; i++) {\r\n                if (!blockCase[i]) {\r\n                    blockCase[i] = blockCase[dropAreaId];\r\n                    blockCase[dropAreaId] = dragItem;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            ...oldState,\r\n            blockCase: blockCase,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setDragFlag]: (oldState, { payload: { flag } }) => {\r\n        return {\r\n            ...oldState,\r\n            dragFlag: flag,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setHoverDropArea]: (oldState, { payload: { blockKey } }) => {\r\n        return {\r\n            ...oldState,\r\n            hoverDropArea: blockKey,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.setTimeShedule]: (oldState, { payload: { hour, min, value } }) => {\r\n        const newTimeShedule = oldState.timeShedule;\r\n        newTimeShedule[hour][min] = value;\r\n        return {\r\n            ...oldState,\r\n            timeShedule: newTimeShedule,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.toggleFullMin]: (oldState, { payload: { min } }) => {\r\n        let onCount = 0;\r\n        let offCount = 0;\r\n        oldState.timeShedule.map(array => {\r\n            if (array[min]) {\r\n                onCount++;\r\n            }\r\n            else {\r\n                offCount++;\r\n            }\r\n            return null;\r\n        });\r\n        const value = (onCount < offCount);\r\n        const newTimeShedule = oldState.timeShedule.map(array => {\r\n            array[min] = value;\r\n            return array;\r\n        });\r\n        return {\r\n            ...oldState,\r\n            timeShedule: newTimeShedule,\r\n        }\r\n    },\r\n    //============================================================\r\n    [actions.toggleFullHour]: (oldState, { payload: { hour } }) => {\r\n        let onCount = 0;\r\n        let offCount = 0;\r\n        oldState.timeShedule[hour].map(val => {\r\n            if (val) {\r\n                onCount++;\r\n            }\r\n            else {\r\n                offCount++;\r\n            }\r\n            return null;\r\n        });\r\n        const value = (onCount < offCount);\r\n        const newTimeShedule = oldState.timeShedule;\r\n        newTimeShedule[hour] = [value, value, value, value];\r\n        return {\r\n            ...oldState,\r\n            timeShedule: newTimeShedule,\r\n        }\r\n    },\r\n    //============================================================\r\n}, defaultState)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { createMuiTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux'\r\nimport { createLogger } from 'redux-logger'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from './sagas/rootSaga'\r\n\r\nimport reducer from './reducer'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\nconst logger = createLogger({\r\n  diff: true,\r\n  collapsed: true,\r\n});\r\nconst store = createStore(\r\n  reducer,\r\n  compose(applyMiddleware(\r\n    sagaMiddleware,\r\n    //logger,\r\n  )));\r\nsagaMiddleware.run(rootSaga)\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#81c784',\r\n      main: '#4caf50',\r\n      dark: '#388e3c',\r\n      contrastText: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\nreportWebVitals()\r\n// ↑ アプリのパフォーマンスを測定したいときは、\r\n// ↑ 「reportWebVitals()」の括弧の中に表示用関数を書いてください。\r\n// ↑ たとえば「reportWebVitals(console.log)」と記述すると、\r\n// ↑ ログに測定結果を表示できます。\r\n// ↑ 詳しくは https://bit.ly/CRA-vitals を参照してください。"],"sourceRoot":""}